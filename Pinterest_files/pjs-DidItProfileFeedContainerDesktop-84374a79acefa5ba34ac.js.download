webpackJsonp(["DidItProfileFeedContainerDesktop",16,95,131,212,219,245],{"+UuE":function(e,t,n){"use strict";t.c=o,t.h=a,t.e=l,t.d=d,t.i=f,t.f=p,t.b=m,t.a=g,t.g=v;var r=n("d6ZO"),c=n.n(r),u=n("gEaE"),i="#EFEFEF",s="#333333";function o(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#FEFEFE",a=r?i:"#3B5998";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("defs",null,c.a.createElement("polygon",{id:"path-1",points:"17.9859534 27.9651806 22.9718644 27.9651806 22.9718644 9 17.9859534 9 13.0000424 9 13.0000424 27.9651806 17.9859534 27.9651806"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-67.000000, -72.000000)"},c.a.createElement("g",{transform:"translate(67.000000, 72.000000)"},c.a.createElement("rect",{id:"avatar",fill:a,x:"0",y:"0",width:"36",height:"36",rx:"18"}),c.a.createElement("mask",{fill:"white"},c.a.createElement("use",{xlinkHref:"#path-1"})),c.a.createElement("path",{d:"M19.4725847,27.9651806 L19.4725847,19.3143216 L22.4126695,19.3143216 L22.852839,15.9428678 L19.4725847,15.9428678 L19.4725847,13.7903436 C19.4725847,12.8142291 19.7469915,12.148978 21.1642797,12.148978 L22.9719068,12.1482247 L22.9719068,9.1328326 C22.6591949,9.09181938 21.5862288,9 20.3379237,9 C17.731822,9 15.9475847,10.571141 15.9475847,13.4565463 L15.9475847,15.9428678 L13.0000424,15.9428678 L13.0000424,19.3143216 L15.9475847,19.3143216 L15.9475847,27.9651806 L19.4725847,27.9651806 Z",fill:o,mask:"url(#mask-2)"})))))}function a(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#FFFFFF",a=r?i:"#0DC2FF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("defs",null,c.a.createElement("polygon",{id:"path-1",points:"17.9859534 27.9651806 22.9718644 27.9651806 22.9718644 9 17.9859534 9 13.0000424 9 13.0000424 27.9651806 17.9859534 27.9651806"}),c.a.createElement("polygon",{id:"path-3",points:"0 15.4545455 0 0 20 0 20 15.4545455"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-68.000000, -51.000000)"},c.a.createElement("g",{transform:"translate(68.000000, 51.000000)"},c.a.createElement("rect",{fill:a,x:"0",y:"0",width:"36",height:"36",rx:"18"}),c.a.createElement("mask",{fill:"white"},c.a.createElement("use",{xlinkHref:"#path-1"}))),c.a.createElement("g",{transform:"translate(76.000000, 61.000000)"},c.a.createElement("mask",{fill:"white"},c.a.createElement("use",{xlinkHref:"#path-3"})),c.a.createElement("path",{d:"M20,1.82947907 C19.2641282,2.13978309 18.4733165,2.34950437 17.6432935,2.44382678 C18.4905081,1.96094614 19.1410805,1.19635035 19.447456,0.285332236 C18.6546692,0.732389836 17.7765097,1.05709263 16.8418742,1.23210383 C16.0933465,0.47383793 15.0269578,0 13.8468122,0 C11.5806723,0 9.74344343,1.74684262 9.74344343,3.90144184 C9.74344343,4.20722451 9.77980175,4.50500786 9.84973847,4.79054877 C6.43951864,4.62784958 3.41607228,3.07459048 1.39229672,0.714165301 C1.03910165,1.29039452 0.836753356,1.96059834 0.836753356,2.67559835 C0.836753356,4.02915271 1.56121292,5.22334672 2.66220418,5.92297413 C1.98953875,5.90273237 1.35688943,5.72723427 0.803613885,5.43501566 C0.803321263,5.45129253 0.803321263,5.46763897 0.803321263,5.48405496 C0.803321263,7.37439841 2.21771096,8.95130767 4.09480961,9.30967717 C3.75046637,9.39885219 3.38798054,9.44650031 3.01371667,9.44650031 C2.74933246,9.44650031 2.4922638,9.42208499 2.24177914,9.37652366 C2.76389041,10.926583 4.27923479,12.0545566 6.07476499,12.0860669 C4.67047076,13.1324474 2.90120341,13.7561857 0.978821464,13.7561857 C0.64764622,13.7561857 0.321006621,13.7377524 0,13.7017207 C1.81586744,14.8086874 3.97271297,15.4545455 6.28991551,15.4545455 C13.8372289,15.4545455 17.9643732,9.50952103 17.9643732,4.35385551 C17.9643732,4.1846873 17.9604228,4.01642336 17.952522,3.84913325 C18.7541607,3.29905833 19.4498701,2.61188204 20,1.82947907",fill:o,mask:"url(#mask-4)"})))))}function l(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#FFFFFF",a=r?i:"#0084FF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-68.000000, -147.000000)"},c.a.createElement("g",{transform:"translate(68.000000, 147.000000)",fill:a},c.a.createElement("rect",{x:"0",y:"0",width:"36",height:"36",rx:"18"})),c.a.createElement("polygon",{fill:o,points:"88.0700004 170.707273 82.9636366 165.227273 73 170.707273 83.9600003 159 89.1909095 164.48 99.0300007 159"}))))}function d(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#8E8E8E",a=r?i:"#EFEFEF";return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 36 36",version:"1.1"},c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{fill:a,cx:"18",cy:"18",r:"18"}),c.a.createElement("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:o,fillRule:"nonzero"},c.a.createElement("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"}))))}function f(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"none",a=r?i:"#25D366";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{fill:o,cx:"18",cy:"18",r:"17"}),c.a.createElement("g",{fillRule:"nonzero",fill:a},c.a.createElement("path",{d:"M18,0 C27.945,0 36,8.055 36,18 C36,27.945 27.945,36 18,36 C8.055,36 0,27.945 0,18 C0,8.055 8.055,0 18,0 Z M18,28.5075 C23.805,28.5075 28.5075,23.805 28.5075,18 C28.5075,12.195 23.805,7.4925 18,7.4925 C12.195,7.4925 7.4925,12.195 7.4925,18 C7.4925,20.07 8.1,21.9825 9.135,23.6025 L7.4925,28.5075 L12.3975,26.865 C14.0175,27.9 15.93,28.5075 18,28.5075 Z M23.4,20.34 C23.6925,20.4975 23.895,20.565 23.9625,20.7 C24.03,20.835 24.03,21.42 23.7825,22.1175 C23.535,22.815 22.5675,23.4 21.8025,23.5575 C21.2625,23.67 20.565,23.76 18.2475,22.7925 C15.2775,21.555 13.3425,18.495 13.2075,18.2925 C13.05,18.09 11.9925,16.695 11.9925,15.2325 C11.9925,13.7475 12.735,13.05 13.0275,12.735 C13.275,12.4875 13.68,12.375 14.085,12.375 C14.1975,12.375 14.31,12.375 14.4225,12.375 C14.715,12.3975 14.8725,12.42 15.0525,12.8925 C15.3,13.4775 15.9075,14.94 15.975,15.0975 C16.0425,15.255 16.11,15.4575 16.02,15.66 C15.9075,15.8625 15.84,15.9525 15.6825,16.11 C15.5475,16.29 15.4125,16.425 15.255,16.605 C15.12,16.7625 14.9625,16.9425 15.1425,17.235 C15.3,17.5275 15.9075,18.5175 16.785,19.305 C17.91,20.3175 18.8325,20.6325 19.1475,20.7675 C19.395,20.88 19.6875,20.8575 19.8675,20.655 C20.0925,20.4075 20.3625,20.0025 20.655,19.5975 C20.8575,19.305 21.1275,19.2825 21.375,19.3725 C21.645,19.485 23.1075,20.205 23.4,20.34 Z"}))))}function p(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#8e8e8e",a=r?i:"#EFEFEF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{fill:a,cx:"22",cy:"22",r:"22"}),c.a.createElement("g",{transform:"translate(12 12)",fill:o},c.a.createElement("circle",{cx:"10",cy:"10",r:"6"}),c.a.createElement("circle",{cx:"17",cy:"3",r:"2"}),c.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),c.a.createElement("circle",{cx:"19",cy:"10",r:"1"}),c.a.createElement("circle",{cx:"10",cy:"19",r:"1"}),c.a.createElement("circle",{cx:"1",cy:"10",r:"1"}),c.a.createElement("circle",{cx:"10",cy:"1",r:"1"}),c.a.createElement("circle",{cx:"3",cy:"17",r:"2"}),c.a.createElement("circle",{cx:"3",cy:"3",r:"2"}))))}function m(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#8e8e8e",a=r?i:"#EFEFEF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{id:"Oval",fill:a,cx:"18",cy:"18",r:"18"}),c.a.createElement("g",{transform:"translate(9.000000, 12.000000)",fill:o,fillRule:"nonzero"},c.a.createElement("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"}))))}function h(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-1791.000000, -2142.000000)",fill:n},c.a.createElement("path",{d:"M1791,2166.4419 C1791,2155.3954 1795.61647,2148.79742 1804.8494,2146.64795 L1804.8494,2142 L1815.77043,2151.50893 L1804.8494,2161.85439 L1804.8494,2156.65749 C1798.74679,2156.65749 1794.13032,2159.91896 1791,2166.4419 Z",id:"Forward_Arrow"}))))}function y(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 28 25",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{fill:n},c.a.createElement("path",{d:"M19.5,3.50185937 C20.6120609,3.54743577 21.5,4.42513458 21.5,5.5 L21.5,21.5 C21.5,22.604 20.5632727,23.5 19.4090909,23.5 L0.590909091,23.5 C-0.563272727,23.5 -1.5,22.604 -1.5,21.5 L-1.5,14.5 C-1.5,13.396 -0.563272727,12.5 0.590909091,12.5 C1.74509091,12.5 2.68181818,13.396 2.68181818,14.5 L2.68181818,19.5 L17.3181818,19.5 L17.3181818,7.5 L12.5,7.5 C11.3954305,7.5 10.5,6.6045695 10.5,5.5 C10.5,4.3954305 11.3954305,3.5 12.5,3.5 L19.5,3.5 L19.5,3.50185937 Z",transform:"translate(10.000000, 13.500000) rotate(-270.000000) translate(-10.000000, -13.500000) "}),c.a.createElement("path",{d:"M20.3816859,4.04134351 L19.524521,3.15663009 C18.8263527,2.43572211 18.8245649,1.26563301 19.5227331,0.541952313 C20.2200074,-0.179879904 21.3517372,-0.180804145 22.0507994,0.540103831 L27.428751,6.08924677 L22.0534812,11.6577988 C21.355313,12.379631 20.2235832,12.3805552 19.524521,11.6596472 C18.8263527,10.9387393 18.8245649,9.76865017 19.5227331,9.04589371 L20.5892052,7.94050148 L20.5890905,7.9040075 C20.395645,7.96633483 20.1893335,8 19.9751591,8 C15.5976651,8 12,11.565494 12,16.0493927 C12,17.1539622 11.1045695,18.0493927 10,18.0493927 C8.8954305,18.0493927 8,17.1539622 8,16.0493927 C8,9.34827209 13.3965291,4 19.9751591,4 C20.1144528,4 20.2504205,4.01423995 20.3816859,4.04134351 Z",fillRule:"nonzero"}))))}function b(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 23 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("defs",null,c.a.createElement("path",{d:"M2,11.0018594 L2,11 L4,11 C5.1045695,11 6,11.8954305 6,13 C6,14.0432805 5.20118182,14.8999869 4.18181818,14.9918467 L4.18181818,28 L18.8181818,28 L18.8181818,14.9918467 C17.7988182,14.8999869 17,14.0432805 17,13 C17,11.8954305 17.8954305,11 19,11 L21,11 L21,11.0018594 C22.1120609,11.0474358 23,11.9251346 23,13 L23,30 C23,31.104 22.0632727,32 20.9090909,32 L2.09090909,32 C0.936727273,32 0,31.104 0,30 L0,13 C0,11.9251346 0.887939141,11.0474358 2,11.0018594 Z M9.59137554,7.664 L8.41537554,8.842 C7.63537554,9.623 6.36937554,9.625 5.58637554,8.844 C4.80537554,8.064 4.80437554,6.798 5.58437554,6.016 L11.5883755,-9.09494702e-13 L17.6133755,6.013 C18.3943755,6.794 18.3953755,8.06 17.6153755,8.842 C16.8353755,9.623 15.5693755,9.625 14.7873755,8.844 L13.5913755,7.651 L13.5913755,19.829 C13.5913755,20.933 12.6953755,21.829 11.5913755,21.829 C10.4863755,21.829 9.59137554,20.933 9.59137554,19.829 L9.59137554,7.664 Z",id:"path-1"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-1643.000000, -2138.000000)"},c.a.createElement("g",{transform:"translate(1643.000000, 2138.000000)"},c.a.createElement("mask",{fill:n}),c.a.createElement("use",{fill:n,xlinkHref:"#path-1"})))))}function g(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 22 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("defs",null,c.a.createElement("path",{d:"M19,16 C17.972,16 17.043,16.399 16.334,17.037 L8.919,12.8 C8.972,12.542 9,12.274 9,12 C9,11.726 8.972,11.458 8.919,11.2 L16.334,6.963 C17.043,7.601 17.972,8 19,8 C21.209,8 23,6.209 23,4 C23,1.791 21.209,0 19,0 C16.791,0 15,1.791 15,4 C15,4.274 15.028,4.542 15.081,4.8 L7.666,9.037 C6.957,8.399 6.028,8 5,8 C2.791,8 1,9.791 1,12 C1,14.209 2.791,16 5,16 C6.028,16 6.957,15.601 7.666,14.963 L15.081,19.2 C15.028,19.458 15,19.726 15,20 C15,22.209 16.791,24 19,24 C21.209,24 23,22.209 23,20 C23,17.791 21.209,16 19,16",id:"path-1"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-2066.000000, -2142.000000)"},c.a.createElement("g",{transform:"translate(2065.000000, 2142.000000)"},c.a.createElement("use",{fill:n,fillRule:"evenodd",xlinkHref:"#path-1"})))))}function v(e){var n=e.onClick,t=e.icon,r=e.buttonSize,o=e.accessibilityLabel,a=e.className,i="tempIconButton ".concat(a);return c.a.createElement("button",{"aria-label":o,className:i,onClick:function e(t){return n&&n({event:t})},style:{borderRadius:"50px",width:r,height:r},title:o,type:"button"},c.a.createElement(u.b,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},t))}v.defaultProps={buttonSize:40}},"+ZJM":function(e,t,n){"use strict";n.d(t,"a",function(){return O});var r=n("d6ZO"),a=n.n(r),o=n("dd2j"),i=n.n(o),c=n("tmfO"),u=n("J2bL"),s=n.n(u),l=n("FJZF");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var _=new i.a;_.tlds(s.a),_.add("#",{validate:function e(t,n,r){var o=t.slice(n);return r.re.hashtag||(r.re.hashtag=new RegExp("^([a-zA-Z0-9_]){1,15}(?!_)(?=$|"+r.re.src_ZPCc+")")),r.re.hashtag.test(o)?!(2<=n&&"#"===o[n-2])&&o.match(r.re.hashtag)[0].length:0},normalize:function e(t){t.url="https://pinterest.com/search/pins/?q=".concat(encodeURIComponent(t.text),"&rs=hashtag_pinrep")}});var E=function e(t){return _.match(t)},w=function e(t,n,r,o){return a.a.createElement(c.b,{to:t,stopPropagation:!0,target:!o,key:r},n)},O=function(e){function t(){return f(this,t),h(this,b(t).apply(this,arguments))}return g(t,e),m(t,[{key:"parseString",value:function e(c){if(""===c)return c;var t=E(c);if(!t)return c;var u=[],s=0;return t.forEach(function(e,t){e.index>s&&u.push(c.substring(s,e.index));var n=e.url,r=l.a.isTrustedOrigin(e.url)&&!e.url.match(/help.pinterest/g);if(r){var o=l.a.parse(e.url);n=n.replace(o.origin,"")}var a=e.text,i=w(n,a,t,r);u.push(i),s=e.lastIndex}),c.length>s&&u.push(c.substring(s)),1===u.length?u[0]:u}},{key:"parse",value:function e(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return"string"==typeof t?this.parseString(t):a.a.isValidElement(t)&&"a"!==t.type&&"button"!==t.type?a.a.cloneElement(t,{key:r},this.parse(t.props.children)):Array.isArray(t)?t.map(function(e,t){return n.parse(e,t)}):t}},{key:"render",value:function e(){return a.a.createElement("span",null,this.parse(this.props.children))}}]),t}(r.PureComponent)},"+sf/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":u(e))||null===e||"object"!==(void 0===t?"undefined":u(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,a=0;a<n.length;a+=1){if(!o.call(t,n[a]))return!1;var i=e[n[a]],c=t[n[a]];if(i!==c||"object"===(void 0===i?"undefined":u(i))||"object"===(void 0===c?"undefined":u(c)))return!1}return!0}t.default=r},"+y+e":function(e,t,n){var r=n("4fFO"),o=n("lOQh"),a="[object Arguments]";function i(e){return o(e)&&r(e)==a}e.exports=i},"/+lb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("1RBt"),o=n.n(r),a={ready:function(e,t){o.a.ready(e,t)},load:function(e,t,n){a.ready(e,function(){var e;0===t.lastIndexOf("//",0)&&(t=window.location.protocol+t),o()(t,n)})},done:function(e){o.a.done(e)}};t.default=a},"//VQ":function(e,t){var n,r=Object.prototype.toString;function o(e){return r.call(e)}e.exports=o},"/SYo":function(e,t){function n(t,n){return function(e){return t(n(e))}}e.exports=n},"/inl":function(e,t,n){"use strict";var r=n("d6ZO"),s=n.n(r),l=n("W/Cr"),o=n("JyNp"),d=n("LQXo"),f=n("gEaE");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function p(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?b(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function a(){var e,t;i(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g(b(b(t=p(this,(e=m(a)).call.apply(e,[this].concat(r))))),"loadPinsForFeed",function(){t.props.searchPinsResource.isFetching||t.props.searchPinsResource.fetchMore()}),t}return h(a,e),u(a,[{key:"render",value:function e(){var t=this.props,n=t.renderPinForFeed,r=t.searchPinsResource,o=r.data,a=r.isLoaded,i=o&&o.filter(function(e){return"secret"!==e.privacy&&"searchAddPinWrapper"!==e.id&&"pin"===e.type});return s.a.createElement(f.b,null,s.a.createElement(f.G,{accessibilityLabel:l.a._("Loading user searched Pins"),show:!a}),a&&o&&s.a.createElement(f.v,{columnWidth:d.c,comp:n,gutterWidth:d.e,items:i,loadItems:this.loadPinsForFeed,minCols:d.f,scrollContainer:function e(){return window}}))}}]),a}(r.PureComponent),_=Object(o.b)({name:"SearchResource",key:"searchPinsResource",options:function e(t){var n=t.query;return{scope:t.scope,page_size:25,query:n}}})(v),E=n("MQ2h"),w=n.n(E),O=n("/rvR");function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function x(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?P(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}function D(e,t){return(D=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=["my_pins","pins"],M=13,F=function(e){function a(){var e,o;S(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(P(P(o=x(this,(e=j(a)).call.apply(e,[this].concat(n))))),"state",{activeTabIndex:0,inSearchView:!1,searchTextValue:""}),R(P(P(o)),"handleOnChange",function(e){var t=e.value,n=e.syntheticEvent;o.setState({inSearchView:0<t.length,searchTextValue:t})}),R(P(P(o)),"handleKeyDown",function(e){13===e.keyCode&&o.setState({inSearchView:!0})}),R(P(P(o)),"loadPinsForFeed",function(){o.props.userPinsResource.isFetching||o.props.userPinsResource.fetchMore()}),R(P(P(o)),"handleTabChange",function(e){var t=e.activeTabIndex,n;e.event.preventDefault(),o.setState({activeTabIndex:t})}),R(P(P(o)),"saveInputRef",function(e){o._input=e}),R(P(P(o)),"renderPinForFeed",function(e){var t=e.data,n=t.images["474x"],r=t&&t.rich_summary&&t.rich_summary.display_name;return s.a.createElement(f.O,{onTouch:function e(){return o.props.addObjectToItem(t)},shape:"rounded"},s.a.createElement(f.u,{shape:"rounded"},s.a.createElement(f.p,{alt:t.description_html,naturalHeight:n.height,naturalWidth:n.width,src:n.url})),r&&s.a.createElement(f.b,{paddingY:1,paddingX:2},s.a.createElement(f.K,{bold:!0},r)))}),o}return I(a,e),T(a,[{key:"render",value:function e(){var t=this.props.userPinsResource,n=t.data,r=t.isLoaded,o=this.state,a=o.activeTabIndex,i=o.inSearchView,c=o.searchTextValue,u=0===a?l.a._("Search your Pins"):l.a._("Search all Pins");return s.a.createElement(f.b,{alignItems:"center",direction:"column",display:"flex",width:"100%"},s.a.createElement(f.b,{marginBottom:4,shape:"rounded"},s.a.createElement(f.b,{width:O.d,flex:"grow"},s.a.createElement(f.D,{accessibilityLabel:l.a._("Pin search","Accessibility label for a searchbar to look for pins to attach to posts or comments"),id:"searchField",onChange:this.handleOnChange,placeholder:u,value:c})),s.a.createElement(f.b,{alignSelf:"start",marginTop:6},s.a.createElement(f.J,{tabs:this.searchTabs,activeTabIndex:a,onChange:this.handleTabChange}))),s.a.createElement(f.G,{accessibilityLabel:l.a._("Loading Pins"),show:!r}),s.a.createElement(f.b,{width:"100%"},i&&0===a&&s.a.createElement(_,{scope:A[a],renderPinForFeed:this.renderPinForFeed,query:c}),i&&1===a&&s.a.createElement(_,{scope:A[a],renderPinForFeed:this.renderPinForFeed,query:c}),!i&&r&&0===a&&n&&s.a.createElement(f.v,{columnWidth:d.c,comp:this.renderPinForFeed,gutterWidth:d.e,items:n,loadItems:this.loadPinsForFeed,minCols:d.f,scrollContainer:function e(){return window}}),!i&&1===a&&s.a.createElement(f.b,{paddingY:4,display:"flex",justifyContent:"center"},s.a.createElement(f.K,{color:"gray",size:"lg",bold:!0,inline:!0},l.a._("Enter a search term above to see more results")))))}},{key:"searchTabs",get:function e(){return[{text:l.a._("Your Pins","Searching only the user's pins in a community post form"),href:"#"},{text:l.a._("All Pins","Searching all pins in a community post form"),href:"#"}]}}]),a}(r.PureComponent),L=t.a=Object(E.compose)(Object(o.b)({name:"UserPinsResource",key:"userPinsResource",options:function e(t){var n;return{username:t.username,field_set_key:"community_pin_select_grid_item",page_size:25,pin_filter:"exclude_native"}}}))(F)},"/rvR":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"g",function(){return a}),n.d(t,"h",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"i",function(){return h});var i=n("W/Cr"),r=656,o=774,a=328,c="474x",u=464,s=60,l=35,d=170,f=36,p=74,m=40,h=function e(t){var n=new Date(t),r,o=(new Date).getTime()-n.getTime(),a;return Math.floor(o/1e3)<60?i.a._("now","timestamp for a comment or post that was created within the last minute"):i.a.getHumanizedTimesince(t,!0)}},"0CA3":function(e,t,n){var r=n("VEAl"),o=n("iHXa"),a=n("KqUj"),i=o(function(e,t){return a(e)?r(e,t):[]});e.exports=i},"0JD7":function(e,t){function n(e){return e}e.exports=n},"0agp":function(e,t,n){var p=n("qhGZ"),m=n("FRu4"),h=n("BtHP"),y=n("YEB8"),b=n("CO7E"),g=n("oRS4"),v=200;function r(e,t,n){var r=-1,o=m,a=e.length,i=!0,c=[],u=c;if(n)i=!1,o=h;else if(v<=a){var s=t?null:b(e);if(s)return g(s);i=!1,o=y,u=new p}else u=t?[]:c;e:for(;++r<a;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,i&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),c.push(l)}else o(u,d,n)||(u!==c&&u.push(d),c.push(l))}return c}e.exports=r},"10CS":function(e,t){function n(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}e.exports=n},"1Ar8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){o(this,e)}return r(e,[{key:"canDrag",value:function e(){return!0}},{key:"isDragging",value:function e(t,n){return n===t.getSourceId()}},{key:"endDrag",value:function e(){}}]),e}();t.default=a},"1FFh":function(n,e,t){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}).call(e,t("5jJ4"))},"1Ij8":function(e,t,n){var r=n("qz2m"),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,c=r?r.toStringTag:void 0;function u(e){var t=a.call(e,c),n=e[c];try{var r=!(e[c]=void 0)}catch(e){}var o=i.call(e);return r&&(t?e[c]=n:delete e[c]),o}e.exports=u},"1QHH":function(e,t,n){"use strict";t.a=i;var c=n("d6ZO"),r=n.n(c),o=n("DUIN"),u=n("MY3l"),a=function e(t){return{isLimitedLogin:t.viewer.isLimitedLogin,isAuth:t.viewer.isAuth}};function i(i){var e=function e(t){var n=t.dispatch,r=t.isAuth,o=t.isLimitedLogin,a=!r||o?function(e){return function(e){e&&e.stopPropagation(),n(u.a)}}:function(e){return e};return c.createElement(i,Object.assign({authAction:a},t))};return e.displayName="WithAuthenticatedAction(".concat(i.displayName||i.name,")"),Object(o.connect)(a)(e)}},"1RBt":function(e,t){var c="undefined"==typeof window?null:window.document,u=c?c.getElementsByTagName("head")[0]:null,s=/^https?:\/\//,l={},d={},f={},p="",m={},n="string",h=!1,y="push",r="DOMContentLoaded",o="readyState",a="addEventListenerName",b="onreadystatechangeName";function g(e,t){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return h;return!0}function v(e,t){return g(e,function(e){return!t(e)}),h}function _(e,t,n){e=e[y]?e:[e];var r=t&&"function"==typeof t,o=r?t:n,a=r?e.join(""):t,i=e.length;function c(e){var t;return e.call?e():l[e]}function u(){if(!--i){var e;if(l[a]=1,o)o();for(var t in f)g(t.split("|"),c)&&!v(f[t],c)&&(f[t]=[])}}return setTimeout(function(){v(e,function(e){return null===e?u():m[e]?(a&&(d[a]=1),2==m[e]&&u()):(m[e]=1,a&&(d[a]=1),void E(!s.test(e)&&p?p+e+".js":e,u))})},0),_}function E(e,t){var n=!1,r=function(e,t){n||("loaded"===e.readyState||"completed"===e.readyState?t():setTimeout(function(){r(e,t)},100))},o=c.createElement("script"),a=h,i=o.onload=o.onerror=o[b]=function(){n||(n=!0,o.readyState&&!/^c|loade/.test(o.readyState)||(o.onload=o[b]=null,a=1,m[e]=2,t()))};r(o,i),o.async=1,o.src=e,u.insertBefore(o,u.firstChild)}c&&!c[o]&&c[a]&&(c[a](r,function e(){c.removeEventListener(r,e,h),c[o]="complete"},h),c[o]="loading"),_.get=E,_.order=function(n,r,o){!function e(){var t=n.shift();n.length?_(t,e):_(t,r,o)}()},_.path=function(e){p=e},_.ready=function(e,t,n){e=e[y]?e:[e];var r=[],o,a,i;return!v(e,function(e){l[e]||r.push(e)})&&g(e,function(e){return l[e]})?t():(a=e.join("|"),f[a]||(f[a]=[]),f[a][y](t),n&&n(r)),_},_.done=function(e){_([null],e)},e.exports=_},"1aiB":function(e,t,n){var r=n("I7Sx"),o=n("8S63"),a=n("UZ+0");function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,e.exports=i},"1y9v":function(e,t,n){var r=n("f2d5"),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},"1zCC":function(e,t,n){"use strict";var a=n("EAiy"),o=function e(t,n){var r=screen.width,o=screen.height,a,i;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+t+",height="+n+",left="+Math.round((r-t)/2)+",top="+(n<o?Math.round((o-n)/2):0)},r=function e(t){var n=document.documentElement,r=n.scrollWidth-n.clientWidth,o=n.scrollHeight-n.clientHeight;t&&(r=Math.max(r,0),o=Math.max(o,0)),a.a.isAuthenticated()||(o=340),window.resizeBy(r,o)},i={open:function(e,t,n){var r=o(t,n);window.open(e,void 0,r)},shrinkWrap:function(){r(!1)},contain:function(){r(!0)},resizeViewPort:function(e,t){window.outerWidth?window.resizeTo(e+(window.outerWidth-window.innerWidth),t+(window.outerHeight-window.innerHeight)):(window.resizeTo(500,500),window.resizeTo(e+(500-document.body.offsetWidth),t+(500-document.body.offsetHeight)))}};t.a=i},"28GN":function(e,t,n){var r=n("Gub0"),o=n("xPFh"),a=n("ZKXX"),i=n("LnZt"),c=n("Xstv");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=c,e.exports=u},"2JfW":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o,u=m(n("Qsew")),a,s=m(n("2cew")),i,l=m(n("N57z")),c,d=m(n("nDxS")),f=n("Vu+K"),p=n("wuIk");function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=function(){function t(e){h(this,t),this.store=e,this.registry=new d.default(e)}return r(t,[{key:"subscribeToStateChange",value:function e(o){var a=this,t,i=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).handlerIds;(0,u.default)("function"==typeof o,"listener must be a function."),(0,u.default)(void 0===i||(0,s.default)(i),"handlerIds, when specified, must be an array of strings.");var c=this.store.getState().stateId,n=function e(){var t=a.store.getState(),n=t.stateId;try{var r;n===c||n===c+1&&!(0,p.areDirty)(t.dirtyHandlerIds,i)||o()}finally{c=n}};return this.store.subscribe(n)}},{key:"subscribeToOffsetChange",value:function e(n){var r=this;(0,u.default)("function"==typeof n,"listener must be a function.");var o=this.store.getState().dragOffset,t=function e(){var t=r.store.getState().dragOffset;t!==o&&(o=t,n())};return this.store.subscribe(t)}},{key:"canDragSource",value:function e(t){var n=this.registry.getSource(t);return(0,u.default)(n,"Expected to find a valid source."),!this.isDragging()&&n.canDrag(this,t)}},{key:"canDropOnTarget",value:function e(t){var n=this.registry.getTarget(t);if((0,u.default)(n,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var r=this.registry.getTargetType(t),o=this.getItemType();return(0,l.default)(r,o)&&n.canDrop(this,t)}},{key:"isDragging",value:function e(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function e(t){var n=this.registry.getSource(t,!0),r,o;return(0,u.default)(n,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(t)===this.getItemType()&&n.isDragging(this,t))}},{key:"isOverTarget",value:function e(t){var n,r=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{shallow:!1}).shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(t),a=this.getItemType();if(!(0,l.default)(o,a))return!1;var i=this.getTargetIds();if(!i.length)return!1;var c=i.indexOf(t);return r?c===i.length-1:-1<c}},{key:"getItemType",value:function e(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function e(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function e(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function e(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function e(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function e(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function e(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function e(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function e(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function e(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function e(){return(0,f.getSourceClientOffset)(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function e(){return(0,f.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}}]),t}();t.default=y},"2Om6":function(e,t,n){"use strict";var _=n("d6ZO"),y=n.n(_),E=n("neDk"),r=n.n(E),a=n("QaZX"),o=n("jsUH"),i=n.n(o),h=n("W/Cr"),c=n("MQ2h"),u=n.n(c),s=n("9bGG"),w=n("gEaE");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){S(t,e,n[e])})}return t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?C(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=500,T={drop:function e(t,n){t.onDrop&&t.onDrop(t,n)}},x=function(e){function o(){var e,u;d(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(C(C(u=m(this,(e=g(o)).call.apply(e,[this].concat(n))))),"attemptToAttachVideoTag",function(){if(!u._videoContainerRef||!u._videoContainerRef.childNodes[0]){var e=u.props,t=e.videoUrls,n=e.width,r=e.height;if(t&&t.length){for(var o=document.createElement("video"),a=Object.keys(t),i=0;i<a.length;i+=1){var c=document.createElement("source");c.type="hls"===a[i]?"m3u8":"video/mp4",t[a[i]]&&(c.src=t[a[i]]),o.appendChild(c)}o.addEventListener("loadedmetadata",function(){setTimeout(function(){return u.captureFrame(o)},k)},!1),o.height=r,o.setAttribute("crossOrigin","anonymous"),o.width=n,o.loop=!0,o.load(),u._videoContainerRef&&u._videoContainerRef.appendChild(o)}}}),S(C(C(u)),"_videoContainerRef",null),S(C(C(u)),"removeVideoTag",function(){u._videoContainerRef&&u._videoContainerRef.childNodes[0]&&u._videoContainerRef.removeChild(u._videoContainerRef.childNodes[0])}),S(C(C(u)),"captureFrame",function(e){var t=u.props,n=t.onVideoLoaded,r=t.uploadId,o=t.videoId,a=document.createElement("canvas"),i;a.getContext("2d").drawImage(e,0,0,e.videoWidth,e.videoHeight);var c=a.toDataURL();r&&o&&n({video:{videoId:o,uploadId:r,thumbnail:c}})}),S(C(C(u)),"clear",function(e){var t;e.event.stopPropagation(),u.removeVideoTag(),u.props.handleRemoveClick()}),u}return v(o,e),p(o,[{key:"renderProgressBar",value:function e(){var t=this.props,n=t.imagePreviewSrc,r=t.isVideo,o=t.progress,a=100===o||0===o||!n&&!r?"uploadProgressBar transition":"uploadProgressBar",i=n||r?o:0;return y.a.createElement("div",{className:a,style:{width:"".concat(i,"%")}})}},{key:"renderDropZone",value:function e(){var t=this.props.display;return"communityImage"===t?y.a.createElement(w.b,{display:"inlineBlock",paddingX:3},y.a.createElement(w.b,{display:"flex"},y.a.createElement(w.n,{icon:"camera-roll",accessibilityLabel:h.a._("Add a Photo","Add a photo as part of a form"),size:16}),y.a.createElement(w.b,{alignItems:"center",display:"flex",marginLeft:1},y.a.createElement(w.K,{bold:!0,color:"gray"},h.a._("Add Photo","Add a photo as part of a form"))))):"communityCoverImage"===t?y.a.createElement(w.b,null,y.a.createElement(w.K,{bold:!0},h.a._("Upload photo","Uploading a photo as a community cover image"))):y.a.createElement(w.b,null,y.a.createElement(w.b,{justifyContent:"center",alignItems:"center",display:"flex"},y.a.createElement(w.b,{justifyContent:"center",alignItems:"center",display:"flex"},y.a.createElement(w.n,{color:"darkGray",icon:"camera",accessibilityLabel:h.a._("Add a Photo","Add a photo as part of a form"),size:32}))),y.a.createElement(w.b,{marginTop:2,paddingX:12},y.a.createElement(w.K,{align:"center",color:"darkGray",bold:!0},h.a._("Drag and drop or click to upload","Label on drag/drop area for uploading a pin"))))}},{key:"renderImage",value:function e(){var t=this.props,n=t.height,r=t.imagePreviewSrc,o=t.width,a=h.a._("Your Upload","Image a pinner just uploaded to a form");return this.isPin?y.a.createElement("img",{alt:a,src:r}):y.a.createElement(w.p,{alt:a,src:r,fit:"cover",naturalHeight:n,naturalWidth:o})}},{key:"renderResetButton",value:function e(){return y.a.createElement(w.b,{top:!0,left:!0,position:"absolute",margin:2},y.a.createElement(w.o,{accessibilityLabel:h.a._("Remove Photo","Remove photo from a form"),bgColor:"lightGray",icon:"clear",iconColor:"darkGray",onClick:this.clear,size:"sm"}))}},{key:"renderContent",value:function e(){var t=this.props,n=t.height,r=t.imagePreviewSrc,o=t.isHovering,a=t.isVideo,i=t.isVideoComplete,c=t.isOver,u=t.thumbnail,s=t.videoUrls,l=t.allowReset,d=void 0===l||l,f=t.width,p=s?y.a.createElement("video",{height:this.isPin?"auto":n,width:f,autoPlay:!0,controls:!0,loop:!0,poster:u||""},Object.keys(s).map(function(e){return y.a.createElement("source",{src:s[e],type:"hls"===e?"m3u8":"video/mp4",key:e})})):null,m=c?"lightGray":"white";return y.a.createElement(y.a.Fragment,null,y.a.createElement(w.u,{shape:"rounded",height:"100%"},y.a.createElement(w.b,{color:m,height:"100%",justifyContent:"center",alignItems:"center",display:"flex"},!r&&!a&&this.renderDropZone(),a&&!s&&y.a.createElement(w.b,null,i&&y.a.createElement(w.K,{size:"lg",bold:!0,align:"center"},h.a._("Processing Video","Loading message shown while user video is uploading")),y.a.createElement(w.b,{paddingY:4},y.a.createElement(w.G,{show:!0,accessibilityLabel:h.a._("Video uploading","Loading spinner while video uploads")}))),p,r&&this.renderImage())),(r||s)&&d&&o&&this.renderResetButton())}},{key:"render",value:function e(){var t=this.props,n=t.connectDropTarget,r=t.display,o=t.height,a=t.imagePreviewSrc,i=t.onClick,c=t.videoUrls,u=t.width,s=t.hoverHandlers,l=s.onMouseOver,d=s.onMouseLeave,f="communityImage"===r||"communityCoverImage"===r,p=this.isPin?"auto":o,m={width:u,border:this.isPin||f?0:"2px dashed #8e8e8e",borderRadius:"10px",cursor:a?"default":"pointer",height:p,marginLeft:"auto",marginRight:"auto",outline:"none",padding:0},h=y.a.createElement(w.b,{position:"relative"},this.renderProgressBar(),a||c?y.a.createElement("div",{onMouseEnter:l,onMouseLeave:d,style:b({},m)},this.renderContent()):y.a.createElement("button",{style:m,onClick:i,onMouseEnter:l,onMouseLeave:d},this.renderContent()));return n(y.a.createElement("div",null,h))}},{key:"isPin",get:function e(){var t=this.props,n=t.display,r=t.imagePreviewSrc,o=t.videoUrls;return!("pin"!==n||!r&&!o)}}]),o}(_.Component),j=function e(t,n){return{connectDropTarget:t.dropTarget(),isOver:n.isOver(),canDrop:n.canDrop()}},I=Object(c.compose)(s.a,Object(o.DropTarget)(function(e){return e.accepts},T,j))(x),D=n("THYI"),P=n.n(D),R=n("FJZF"),A=n("y2lE");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function U(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?G(e):t}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function z(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}function H(e,t){return(H=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=2e9,Y=1e3,K=["video/quicktime","video/mp4"],Z=function e(t){return 200<=t&&t<400},q=function(e){function o(){var e,i;F(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V(G(G(i=U(this,(e=B(o)).call.apply(e,[this].concat(n))))),"state",{file:null,imagePreviewSrc:i.props.existingImageSrc||"",isVideo:!1,isVideoComplete:!1,thumbnail:null,videoUrls:null,uploadId:null,errorFlyout:null,progress:0}),V(G(G(i)),"mounted",!1),V(G(G(i)),"containerRef",null),V(G(G(i)),"fileReader",null),V(G(G(i)),"file",null),V(G(G(i)),"fileInputRef",null),V(G(G(i)),"xhr",null),V(G(G(i)),"CHECK_VIDEO_TIMEOUT",null),V(G(G(i)),"ERROR_MESSAGE",h.a._("Unable to upload video. Please try again later.","Error shown when we can't accept video uploads")),V(G(G(i)),"handleFileDrop",function(e,t){if(t&&(!i.xhr||4===i.xhr.readyState)){var n,r=t.getItem().files[0];i.handleFile(r)}}),V(G(G(i)),"handleFile",function(e){var t=i.props.onImageUploadStart;e.size>W?i.showError(h.a._("The video is too large. The maximum size is 2 GB.","Error if a user tries to upload a video that is too large")):(i.props.allowVideo&&K.includes(e.type)?i.loadVideo(e):(i.fileReader.onload=function(){return i.uploadImage(e)},i.fileReader.readAsDataURL(e)),t())}),V(G(G(i)),"showError",function(e){var t=_.createElement(w.k,{color:"orange",anchor:i.containerRef,idealDirection:i.props.idealErrorDirection,onDismiss:function e(){return i.setState({errorFlyout:null})},size:"sm",shouldFocus:!1},_.createElement(w.b,{padding:3},_.createElement(w.K,{bold:!0,color:"white"},_.createElement("span",null,e))));i.removePreview(t)}),V(G(G(i)),"openFileDialog",function(){i.state.imagePreviewSrc||i.state.isVideo||(i.props.contextLog(101,{component:192,element:1156}),i.fileInputRef&&i.fileInputRef.click())}),V(G(G(i)),"openFile",function(e){var t,n=e.target.files[0];i.handleFile(n)}),V(G(G(i)),"removePreview",function(e){i.setState({imagePreviewSrc:"",progress:0,isVideo:!1,isVideoComplete:!1,videoUrls:null,errorFlyout:e}),i.fileInputRef&&(i.fileInputRef.value=""),i.xhr&&i.xhr.abort&&(i.xhr.abort(),i.xhr=null),i.CHECK_VIDEO_TIMEOUT&&clearTimeout(i.CHECK_VIDEO_TIMEOUT),i.props.onReset()}),V(G(G(i)),"loadVideo",function(a){i.setState({isVideo:!0}),P.a.create("VideoResource").callCreate().then(function(e){var t=e.resource_response.data,n=t.upload_id,r=t.upload_url,o=t.upload_parameters;i.setState({uploadId:n}),i.uploadVideo(a,n,r,o)},function(){i.showError(i.ERROR_MESSAGE)})}),V(G(G(i)),"checkForVideo",function(o){P.a.create("VideoResource",{upload_ids:[o]}).callGet().then(function(e){if(e.resource_response&&e.resource_response.data&&e.resource_response.data[o]){var t=e.resource_response.data[o],n=t.status,r=t.signature;"processing"===n||"registered"===n?i.CHECK_VIDEO_TIMEOUT=setTimeout(function(){return i.checkForVideo(o)},Y):"succeeded"===n?P.a.create("VideoUrlsResource",{signatures:[r]}).callGet().then(function(e){return i.handleVideoUploadSuccess(e,r,o)}):i.showError(i.ERROR_MESSAGE)}else i.showError(i.ERROR_MESSAGE)})}),V(G(G(i)),"uploadImage",function(e){i.setState({imagePreviewSrc:i.fileReader.result,isVideo:!1});var t=R.a.absolutify("/upload-image/"),n=new XMLHttpRequest;n.open("POST",t,!0),n.setRequestHeader("X-CSRFToken",a.a.getCSRFToken()),n.setRequestHeader("X-UPLOAD-SOURCE",i.props.uploadSource||"unknown"),n.setRequestHeader("Accept","application/json"),n.upload.onprogress=function(e){var t=Math.round(100*e.loaded/e.total);i.setState({progress:t})},n.onload=function(){if(Z(n.status)){var e=JSON.parse(n.responseText);e.success?(i.props.onImageUploadFinished({image:{height:e.height,url:e.image_url,width:e.width}}),i.setState({errorFlyout:null})):i.showError(e.error)}};var r=new FormData;r.append("img",e),n.send(r),i.xhr=n}),i}return z(o,e),N(o,[{key:"componentDidMount",value:function e(){this.mounted=!0,this.fileReader=new FileReader}},{key:"componentWillUnmount",value:function e(){this.mounted=!1}},{key:"uploadVideo",value:function e(t,n,r,o){var a=this,i=new XMLHttpRequest;i.open("POST",r,!0),i.onload=function(){Z(i.status)?a.setState({errorFlyout:null,progress:100,isVideoComplete:!0}):a.showError(h.a._("Something went wrong. Please try again later.","Error if video fails to upload")),a.checkForVideo(n)},i.upload.onprogress=function(e){var t=Math.round(100*e.loaded/e.total);a.setState({progress:t})};var c=new FormData;for(var u in o)c.append(u,o[u]);c.append("file",t),i.send(c),this.xhr=i}},{key:"handleVideoUploadSuccess",value:function e(t,n,r){var o=this;if(this.mounted){var a=t.resource_response.data,i="https://i.pinimg.com/".concat(a[n].metadata.thumbnail),c=a[n].urls;this.setState({videoUrls:c,thumbnail:i});var u=new XMLHttpRequest;u.onload=function(){var e=new FileReader;e.onloadend=function(){o.props.onImageUploadFinished({video:{uploadId:r,imageBase64:e.result}})},e.readAsDataURL(u.response)},u.open("GET",i),u.responseType="blob",u.send()}}},{key:"render",value:function e(){var n=this,t=E.NativeTypes.FILE,r=this.state,o=r.errorFlyout,a=r.imagePreviewSrc,i=r.isVideo,c=r.isVideoComplete,u=r.progress,s=r.thumbnail,l=r.videoUrls,d=this.props,f=d.allowReset,p=d.allowVideo,m=d.display,h=d.existingImageSrc,y=d.height,b=d.width,g=a||h,v=p?"image/*,video/mp4,video/quicktime":"image/*";return _.createElement("div",{ref:function e(t){n.containerRef=t}},_.createElement(w.b,{display:"visuallyHidden"},_.createElement("input",{accept:v,onChange:this.openFile,ref:function e(t){n.fileInputRef=t},type:"file"})),_.createElement(I,{allowReset:f,onClick:this.openFileDialog,handleRemoveClick:this.removePreview,imagePreviewSrc:g,accepts:[t],onDrop:this.handleFileDrop,height:y,width:b,progress:u,isVideo:i,isVideoComplete:c,videoUrls:l,thumbnail:s,display:m}),o)}}]),o}(_.Component);V(q,"defaultProps",{onImageUploadStart:function e(){}});var X=t.a=Object(A.a)(q)},"2UVm":function(e,t,n){"use strict";var l=n("d6ZO"),r=n.n(l),o=n("W/Cr"),d=n("Wd7r"),f=n("4WA0"),p=n("/rvR"),m=n("gEaE");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?g(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function a(){var e,t;i(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v(g(g(t=s(this,(e=h(a)).call.apply(e,[this].concat(r))))),"state",{truncate:!!t.props.text&&t.props.text.length>(t.props.maxCharLength||p.e)+t.revealText.length}),v(g(g(t)),"showFullText",function(){return t.setState({truncate:!1})}),t}return y(a,e),u(a,[{key:"render",value:function e(){var t=this.props,n=t.allowReveal,r=t.maxCharLength,o=t.size,a=t.tags,i=t.taggedUsers,c=t.text,u=this.state.truncate,s=u?c.substring(0,r||p.e).trim():c;return l.createElement(l.Fragment,null,l.createElement(d.a,{text:s,tags:a,taggedUsers:i,size:o}),u&&!n&&l.createElement(m.K,{inline:!0,bold:!0},this.revealText),u&&n&&l.createElement(f.a,{color:"darkGray",handleClick:this.showFullText,text:this.revealText,size:o}))}},{key:"revealText",get:function e(){return o.a._("... See more","click to see more of a long post")}}]),a}(l.PureComponent);v(_,"defaultProps",{allowReveal:!1,size:"md",tags:[],taggedUsers:[],text:""}),t.a=_},"2aok":function(e,t){},"2cew":function(e,t){var n=Array.isArray;e.exports=n},"2lkQ":function(e,t,n){"use strict";var c=n("Jw9X"),u=n("pOmq"),r=n("THYI"),s=n.n(r),o,a={USER_DID_IT_DATA_CREATE:"USER_DID_IT_DATA_CREATE",USER_DID_IT_DATA_DELETE:"USER_DID_IT_DATA_DELETE",USER_DID_IT_DATA_UPDATE:"USER_DID_IT_DATA_UPDATE",USER_DID_IT_DATA_UPDATE_COMMENT_COUNT:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",USER_DID_IT_DATA_FETCH:"USER_DID_IT_DATA_FETCH"},l=n("mZ/m");function d(e){return{type:"PIN_DID_IT",payload:{id:e,value:!0}}}function f(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}var i=n("S+Qs");function p(e){return{type:a.USER_DID_IT_DATA_CREATE,payload:{user_did_it_data:e}}}function m(e){return{type:a.USER_DID_IT_DATA_UPDATE,payload:{user_did_it_data:e}}}function h(e){return{type:a.USER_DID_IT_DATA_DELETE,payload:{id:e}}}function y(r,o,e,t,a,n){var i={aggregatedPinDataId:r,details:e,image_signatures:t,pin_id:a,publish_facebook:n};return function(n){s.a.create("DidItActivityResource",i).callCreate().then(function(e){var t=e.user_did_it_data;n(d(a)),n(p(t)),n(Object(c.a)({feedId:r,feedType:l.b.USER_DID_IT_DATA,itemIds:[t.id],itemType:t.type})),n(Object(c.a)({feedId:o,feedType:l.b.USER_DID_IT_DATA,itemIds:[t.id],itemType:t.type}))},function(e){})}}function b(e){var n=e.aggregatedPinDataId,r=e.id,o=e.isOwnedByMe,a=e.pinId,i=e.username;return function(t){s.a.create("DidItActivityResource",{user_did_it_data_id:r}).callDelete().then(function(e){o&&t(f(a)),t(h(r)),t(Object(u.a)({feedId:n,feedType:l.b.USER_DID_IT_DATA,itemIds:[r],itemType:"userdiditdata"})),t(Object(u.a)({feedId:i,feedType:l.b.USER_DID_IT_DATA,itemIds:[r],itemType:"userdiditdata"}))},function(e){})}}function g(e,t){return{type:a.USER_DID_IT_DATA_UPDATE_COMMENT_COUNT,payload:{id:e,increment:t}}}function v(e){return Object(i.a)("DidItActivityResource",{user_did_it_data_id:e})}function _(e){var t=e.id,n,r,o,a={details:e.details,image_signatures:e.image_signatures,user_did_it_data_id:t,pin_id:e.pinId};return function(n){s.a.create("DidItActivityResource",a).callUpdate().then(function(e){var t=e.resource_response.data;n(m(t))},function(e){})}}function E(t,e,n,r,o){var a={reason:r,detailed_reasons:e,user_did_it_data_id:n};return function(e){s.a.create("DidItActivityFlagResource",a).callCreate().then(function(){e(h(n)),e(Object(u.a)({feedId:t,feedType:l.b.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"})),e(Object(u.a)({feedId:o,feedType:l.b.USER_DID_IT_DATA,itemIds:[n],itemType:"userdiditdata"}))},function(e){})}}t.a=y,t.b=b,t.e=g,t.d=_,t.c=E},"2q2B":function(e,t,n){var r=n("rtTg"),o=n("kGVR"),a=n("10CS");function i(e,t,n){return t==t?a(e,t,n):r(e,o,n)}e.exports=i},"32is":function(e,t,n){var r=n("OKnC");function o(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}e.exports=o},"3ADV":function(e,t,n){"use strict";var r=n("d6ZO"),s=n.n(r),o=n("N2jM"),a=n.n(o),i=n("kqYA"),l=n("W/Cr"),c=n("JqyP"),u=n("FTnl"),d=n("w13j"),f=n.n(d),p=n("mO/z"),m=n.n(p);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var C,S=function(e){function n(e){var t;return y(this,n),(t=v(this,E(n).call(this,e))).id=m()(),t}return w(n,e),g(n,[{key:"componentDidMount",value:function e(){var n=document.getElementById(this.id),t=this.props,r=t.maxHeightPx,o=t.shaveOptions,a=void 0===o?{}:o;f()().then(function(e){var t;(0,e.default)(n,r,a)})}},{key:"render",value:function e(){var t=this.props.inline,n,r=void 0!==t&&t?{display:"inline"}:{};return s.a.createElement("div",{id:this.id,style:r},this.props.children)}}]),n}(r.Component),k=n("FJZF"),T=n("EAiy"),x=n("kxCB"),j=n("MQ2h"),I=n.n(j),D=n("8e8Q"),P=n("sYje"),R=n("i0Ug"),A=n("+UuE"),M=n("gEaE");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function L(e){return B(e)||U(e)||N()}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function U(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function B(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),e}function V(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?Z(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}function K(e,t){return(K=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=4e3,Q=44,J={backgroundColor:"#ffffff",border:"none",padding:0},$=function e(t){var n=t.text;return s.a.createElement(M.K,{align:"center",size:"xs"},s.a.createElement(S,{maxHeightPx:30},n))},ee=function(e){function o(){var e,a;z(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return q(Z(Z(a=V(this,(e=W(o)).call.apply(e,[this].concat(n))))),"state",{isShowLinkShare:!1,pinterestProfileLink:"",fb:null,whatsappInviteData:null,linkInviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),q(Z(Z(a)),"mounted",!1),q(Z(Z(a)),"handleCancelLinkDialog",function(){a.setState({isShowLinkShare:!1})}),q(Z(Z(a)),"logShareInviteLink",function(){var e=a.state,t=e.copyLinkLogged,n=e.linkInviteData,r=a.getShareOptions(12);t||(P.a.logShareInvite(r,n),a.setState({copyLinkLogged:!0}))}),q(Z(Z(a)),"createShareInviteLink",function(){var e=a.getShareOptions(12),t;a.state.linkInviteData||P.a.createShareInviteData(e).then(function(e){var t=e.invite_url;t?a.setState({pinterestProfileLink:t,linkInviteData:e}):a.setState({linkInviteData:e})})}),q(Z(Z(a)),"selectText",function(e){e.target.select()}),q(Z(Z(a)),"showToastMessage",function(e,t){var n=a.props,r=n.hideAllToasts,o=n.showToast;r(),e?(a.logShareInviteLink(),o(function(e){var t=e.onHide;return s.a.createElement(u.a,{duration:X,onHide:t,text:l.a._("Link copied to clipboard!","toast message to confirm if users copied the url successfully")})}),"hide"===t&&a.props.onHide()):o(function(e){var t=e.onHide;return s.a.createElement(u.a,{duration:X,onHide:t,text:[l.a._("Error!"),l.a._("Please try again","toast message to confirm if users copied the url unsuccessfully")]})})}),a}return Y(o,e),G(o,[{key:"componentDidMount",value:function e(){var t=this;this.mounted=!0,i.default.ensureInit(function(e){return t.setState({fb:e})}),this.state.whatsappInviteData||this.getWhatsAppURL(),this.state.linkInviteData||this.createShareInviteLink()}},{key:"componentWillUnmount",value:function e(){this.mounted=!1}},{key:"getShareOptions",value:function e(t){var n=this.props.sharedObject,r=3;return{invite_category:3,invite_channel:t,object_type:n.type,object_id:n.id,name:n.name,description:n.description||"",path:n.url,picture:n.imageUrl}}},{key:"getSendDisplayText",value:function e(t){switch(t){case D.a.BOARD:return l.a._("Share this board","social media sharing");case D.a.PIN:return l.a._("Share this Pin","social media sharing");case D.a.PINNER:return l.a._("Share this profile","social media sharing");default:return""}}},{key:"getWhatsAppURL",value:function e(){var r=this,t=this.getShareOptions(10);P.a.createShareInviteData(t).then(function(e){var t=e.message;if(t){var n=encodeURIComponent(t);r.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else r.setState({whatsappURL:"https://web.whatsapp.com/send?text="+k.a.absolutify(r.props.sharedObject.url)})})}},{key:"checkWritePermissions",value:function e(){return!!T.a.isWriteBanned()}},{key:"handleSocialShareClick",value:function e(t){this.checkWritePermissions()||("facebook"===t?this.openFacebookDialog():"twitter"===t?this.openTwitterDialog():"messenger"===t?this.openFbMessengerDialog():"whatsapp"===t?this.openWhatsAppDialog():"pincode"===t?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===t?this.openShareUrlLink():"email"===t&&this.openEmailDialog())}},{key:"openEmailDialog",value:function e(){this.props.onEmailIconClick()}},{key:"openFacebookDialog",value:function e(){var t=this;i.default.logIn(this.state.fb,function(
){P.a.shareFacebookInvite(t.getShareOptions(5))})}},{key:"openFbMessengerDialog",value:function e(){var t=this;i.default.logIn(this.state.fb,function(){P.a.shareFbMessengerInvite(t.getShareOptions(6))})}},{key:"openWhatsAppDialog",value:function e(){var t=this.getShareOptions(10);this.state.whatsAppLogged||(P.a.logShareInvite(t,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}},{key:"openShareUrlLink",value:function e(){this.logShareInviteLink(),this.setState({isShowLinkShare:!0})}},{key:"openTwitterDialog",value:function e(){P.a.shareTwitterInvite(this.getShareOptions(9))}},{key:"renderShareLink",value:function e(){var t=k.a.absolutify(this.props.sharedObject.url),n=this.state.pinterestProfileLink||t;return s.a.createElement(c.a,{link:n,handleClick:this.handleCancelLinkDialog,handleFocus:this.selectText})}},{key:"renderSocialButtons",value:function e(){var t=this,n=this.props,r=n.sharedObject,o=n.viewer,a,i=function e(t){var n=t.children;return s.a.createElement(M.b,{display:"flex",direction:"column",alignItems:"center",width:64},n)},c,u=L(n.onCreatePincodeClick&&(r.type===D.a.BOARD||[D.a.PINNER,D.a.USER].includes(r.type)&&o.isAuth&&(r.id===o.id||o.isEmployee))?[s.a.createElement(i,{key:"pincode"},s.a.createElement("button",{style:J,"aria-label":l.a._("Create Pincode","Menu option in the share menu"),onClick:function e(){return t.handleSocialShareClick("pincode")}},s.a.createElement(A.f,{size:44})),s.a.createElement($,{text:l.a._("Pincode","Share via pincode")}))]:[]).concat([s.a.createElement(i,{key:"copylink"},s.a.createElement("button",{style:J,"aria-label":l.a._("Share link"),onClick:function e(){t.handleSocialShareClick("copylink")}},s.a.createElement(A.d,{size:44})),s.a.createElement($,{text:l.a._("Copy link","Share via copy/paste link")})),s.a.createElement(i,{key:"email"},s.a.createElement(M.b,{display:"inlineBlock"},s.a.createElement(M.O,{onTouch:function e(){return t.handleSocialShareClick("email")},fullWidth:!1},s.a.createElement(A.b,{size:44}))),s.a.createElement($,{text:l.a._("Email","Share via email")})),s.a.createElement(i,{key:"blank-1"},s.a.createElement(M.b,{display:"inlineBlock",width:44,height:44})),s.a.createElement(i,{key:"blank-2"},s.a.createElement(M.b,{display:"inlineBlock",width:44,height:44}))]);return s.a.createElement("div",{className:"shareOptions"},s.a.createElement(M.b,{display:"flex",justifyContent:"around",marginBottom:2},s.a.createElement(i,null,s.a.createElement("button",{style:J,"aria-label":l.a._("Share on WhatsApp"),onClick:function e(){return t.handleSocialShareClick("whatsapp")}},s.a.createElement("a",{href:this.state.whatsappURL,target:"_blank",rel:"noopener noreferrer"},s.a.createElement(A.i,{size:44}))),s.a.createElement($,{text:l.a._("WhatsApp","WhatsApp App")})),s.a.createElement(i,null,s.a.createElement("button",{style:J,"aria-label":l.a._("Share on Facebook"),onClick:function e(){return t.handleSocialShareClick("facebook")}},s.a.createElement(A.c,{size:44})),s.a.createElement($,{text:l.a._("Facebook","Facebook App")})),s.a.createElement(i,null,s.a.createElement("button",{style:J,"aria-label":l.a._("Share on Twitter"),onClick:function e(){return t.handleSocialShareClick("twitter")}},s.a.createElement(A.h,{size:44})),s.a.createElement($,{text:l.a._("Twitter","Twitter App")})),s.a.createElement(i,null,s.a.createElement("button",{style:J,"aria-label":l.a._("Share on Facebook Messenger"),onClick:function e(){return t.handleSocialShareClick("messenger")}},s.a.createElement(A.e,{size:44})),s.a.createElement($,{text:l.a._("Facebook Messenger","Facebook Messenger App")}))),s.a.createElement(M.b,{display:"flex"},s.a.createElement(M.b,{display:"flex",width:"50%",justifyContent:"around"},u.slice(0,2)),s.a.createElement(M.b,{display:"flex",width:"50%",justifyContent:"around"},u.slice(2,4))))}},{key:"render",value:function e(){var t=this.state.isShowLinkShare,n=this.props.sharedObject;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"sharePrompt"},this.getSendDisplayText(n.type)),s.a.createElement("div",{className:"ShareSocialBar"},t?this.renderShareLink():this.renderSocialButtons()))}}]),o}(r.Component),te=t.a=Object(j.compose)(R.a,x.a)(ee)},"3UTw":function(e,t,n){var r=n("4fFO"),o=n("fXq8"),a="[object AsyncFunction]",i="[object Function]",c="[object GeneratorFunction]",u="[object Proxy]";function s(e){if(!o(e))return!1;var t=r(e);return t==i||t==c||t==a||t==u}e.exports=s},"3iJu":function(e,t){var n,r=Object.prototype.toString;function o(e){return r.call(e)}e.exports=o},"3k35":function(e,t,n){"use strict";var r=n("d6ZO"),I=n.n(r),o=n("DUIN"),D=n("9Yua"),a=n("kv+N"),P=n("/inl"),i=n("Esb+"),s=n.n(i),c=n("2Om6"),R=n("wUWH"),A=n("W/Cr"),M=n("cd67"),u=n("THYI"),d=n.n(u),F=n("gEaE");function L(e){return I.a.createElement(F.k,{color:"blue",idealDirection:"down",anchor:e.anchor,size:"lg",onDismiss:e.dismiss},I.a.createElement(F.b,{width:"100%"},I.a.createElement(F.b,{padding:2},I.a.createElement(F.K,{color:"white",bold:!0,size:"md"},A.a._("Some guidelines for posting in this community:","Education when first writing a community post or comment"))),I.a.createElement(F.b,{padding:2},I.a.createElement(F.K,{color:"white",size:"md",bold:!0},A.a._("Stay on topic","Education when first writing a community post or comment")),I.a.createElement(F.K,{color:"white",size:"md",bold:!0},A.a._("Limit self promotion","Education when first writing a community post or comment"))),I.a.createElement(F.b,{padding:2},I.a.createElement(F.c,{color:"white",text:A.a._("Okay, got it!","Accept education when creating a community post for the first time"),onClick:e.complete}))))}var l=n("DYU3"),f=n("YZkw"),p=n("i0Ug"),m=n("XDj/"),h=n("MQ2h"),y=n.n(h),N=n("/rvR"),b=n("wq4j"),g=n("5tOk"),v=n("woYD"),_=n("kzic"),E=n("w1jd");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){z(t,e,n[e])})}return t}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function T(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?B(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}function U(e,t){return(U=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H={addedObjects:[],anchorRefSet:!1,hasPostAction:!1,imageToSend:{},imageUploading:!1,inputAreaFocused:!1,isTextChanged:!1,showConfirmDiscardModal:!1,submissionInProgress:!1,textValue:"",viewType:"text"},G=2e3,V=185,W=function e(t,n){return t[n.id]=n,t},Y=function(e){function o(){var e,l;C(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return z(B(B(l=T(this,(e=x(o)).call.apply(e,[this].concat(n))))),"state",O({},H,{addedObjects:l.props.addedObjects,imageToSend:l.props.addedImage,tags:l.props.tags,taggedUserMap:{},taggedUsers:l.props.taggedUsers||[],textValue:l.props.text})),z(B(B(l)),"setAnchorRef",function(e){l._suggestionAnchor=e,l.setState({anchorRefSet:!0})}),z(B(B(l)),"setRef",function(e){return l._textAreaRef=e}),z(B(B(l)),"updateTags",function(e){var t=l.state.taggedUsers.concat(e),n=l.state.taggedUserMap;n[e.id]=W(e,l.state.taggedUserMap),l.setState({taggedUserMap:n,taggedUsers:t})}),z(B(B(l)),"routerWillLeave",function(){var e=l.props,t=e.addedObjects,n=e.text,r=e.statusType,o=l.state,a=o.addedObjects,i=o.hasPostAction,c=o.imageToSend,u=o.textValue,s=A.a._("Discard unsaved changes?");return"textInFlightEdit"===r?!!(i||t===a&&n===u)||s:!(!i&&(a.length||u||c.url))||s}),z(B(B(l)),"handleAddObject",function(e){l.setState({addedObjects:l.state.addedObjects.concat([e]),viewType:"text"}),l.props.onAddPinModeChange(!1)}),z(B(B(l)),"handleBlur",function(){l.setState({inputAreaFocused:!1})}),z(B(B(l)),"handleFocus",function(){l.props.onEnter()}),z(B(B(l)),"handleOnClickEdit",function(){var e=l.state.imageToSend,t=l.props.imageSignature;l.setState({submissionInProgress:!0});var n=e.url&&(!e.url.includes(t)||!t),r=e.url&&t&&e.url.includes(t),o;n?d.a.create("CommunityImageUploadResource",{imageUrl:e.url}).callCreate().then(function(e){l.handleOnClickEditFinal(e.resource_response.data.image_signature)}):l.handleOnClickEditFinal(r?t:"")}),z(B(B(l)),"handleOnClickEditFinal",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=l.props,n=t.clearReplyToObject,r=t.onEditItem,o=t.taggedUsers,a=l.state,i=a.addedObjects,c=a.taggedUserMap,u=Object(b.d)(l._textAreaRef,c,o,n),s={contentMarkdown:Object(g.i)(l._textAreaRef&&l._textAreaRef.textContent.trim()||""),imageSignatures:e,objectIds:i.map(function(e){return e.id.toString()}).join(","),tags:u};l.setState({hasPostAction:!0}),r(s),l.setState({submissionInProgress:!1})}),z(B(B(l)),"handleOnClickPost",function(){var e=l.state.imageToSend,t;(l.setState({submissionInProgress:!0}),e.url)?d.a.create("CommunityImageUploadResource",{imageUrl:e.url}).callCreate().then(function(e){l.handleOnClickPostFinal(e.resource_response.data.image_signature)}):l.handleOnClickPostFinal()}),z(B(B(l)),"handleOnClickPostFinal",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=l.props,n=t.clearReplyToObject,r=t.objectType,o=t.onAddItem,a=t.parentObject,i=t.taggedUsers,c=Object(b.d)(l._textAreaRef,l.state.taggedUserMap,i,n),u={communityItemId:a.id,contentMarkdown:Object(g.i)(l._textAreaRef&&l._textAreaRef.textContent.trim()||""),imageSignatures:e,objectIds:l.state.addedObjects.map(function(e){return e.id.toString()}).join(","),tags:c};l.setState({hasPostAction:!0}),o(u),l.isCommunityItemComposer&&Object(v.a)(101,{element:10477,component:r===E.b.COMMUNITY_POST?13158:13159,objectId:a.id}),l.setState(H)}),z(B(B(l)),"handleOnCancelAddObjects",function(){l.setState({viewType:"text"}),l.props.onAddPinModeChange(!1)}),z(B(B(l)),"handleOnFinalDiscardItem",function(){l._removeRouteLeaveHook&&l._removeRouteLeaveHook();var e=l.props,t=e.onCancelItem,n=e.objectType,r=e.parentObject.id;l.setState(H),t(),l.isCommunityItemComposer&&Object(v.a)(101,{element:10485,component:n===E.b.COMMUNITY_POST?13158:13159,objectId:r})}),z(B(B(l)),"handleShowAddObjects",function(){var e=l.state.taggedUserMap,t=l.props,n=t.clearReplyToObject,r=t.taggedUsers,o=t.onAddPinModeChange,a=l._textAreaRef&&l._textAreaRef.textContent||"",i=JSON.parse(Object(b.d)(l._textAreaRef,e,r,n));l.setState({tags:i,textValue:a,viewType:"objects"}),o(!0),l.props.onEnter()}),z(B(B(l)),"handleTextChange",function(e){return l.setState({isTextChanged:!(!l._textAreaRef||!l._textAreaRef.innerHTML.trim())&&e})}),z(B(B(l)),"handleUploadStarted",function(){l.setState({imageUploading:!0})}),z(B(B(l)),"handleFinishImageUpload",function(e){l.setState({imageToSend:e.image,imageUploading:!1})}),z(B(B(l)),"handleImageReset",function(){l.setState({imageToSend:{}})}),z(B(B(l)),"isSubmitEditDisabled",function(){var e=l.props,t=e.addedObjects,n=e.addedImage,r=l.state,o=r.addedObjects,a=r.imageToSend,i=r.isTextChanged,c=!s()(t,o),u=!s()(n,a);return!(i||c||u)}),z(B(B(l)),"removeAddedObject",function(t){l.setState({addedObjects:l.state.addedObjects.filter(function(e){return e.id!==t})})}),z(B(B(l)),"toggleShowConfirmDiscardModal",function(){var e=l.state.showConfirmDiscardModal;l.setState({showConfirmDiscardModal:!e})}),z(B(B(l)),"renderConfirmDiscardModal",function(){var e,t,n;return n="textInFlightEdit"===l.props.statusType?(t=A.a._("Your changes will be discarded","Confirmation dialog before discarding changes"),A.a._("Discard changes","Clear edits")):(t=A.a._("Once you delete a draft, you cant undo it","Confirmation before discarding changes"),A.a._("Delete","delete draft of a post or comment")),I.a.createElement(a.a,{accessibilityModalLabel:A.a._("Confirm discard composer","Confirm discarding a post or comment"),heading:A.a._("Are you sure?","Confirm discarding a post or comment"),cancelButtonText:A.a._("Cancel","Cancel discarding a post or comment"),confirmButtonText:n,detail:t,onConfirm:l.handleOnFinalDiscardItem,onDismiss:l.toggleShowConfirmDiscardModal})}),z(B(B(l)),"renderAddedObjects",function(e){return I.a.createElement(F.b,{marginRight:2},e.map(function(t,e){var n=t.images["474x"],r=n.width,o=n.height,a=n.url,i=r*V/o;return I.a.createElement(F.b,{position:"relative"},I.a.createElement(F.u,{shape:"rounded",height:V,width:i},I.a.createElement(F.p,{alt:t.description_html,fit:"cover",naturalHeight:o,naturalWidth:r,src:a})),I.a.createElement(F.b,{top:!0,left:!0,position:"absolute",margin:2},I.a.createElement(F.o,{accessibilityLabel:A.a._("Remove Pin","Remove Pin from composer"),bgColor:"lightGray",icon:"clear",iconColor:"darkGray",onClick:function e(){return l.removeAddedObject(t.id)},size:"sm"})))}))}),z(B(B(l)),"renderAddedImage",function(){var e=l.state,t=e.textValue,n=e.imageToSend,r=n.height,o=n.width,a=n.url,i=o*V/r;return I.a.createElement(F.b,{position:"relative"},I.a.createElement(F.u,{shape:"rounded",height:V,width:i},I.a.createElement(F.p,{alt:t,naturalHeight:r,naturalWidth:o,src:a})),I.a.createElement(F.b,{top:!0,left:!0,position:"absolute",margin:2},I.a.createElement(F.o,{accessibilityLabel:A.a._("Remove Pin","Remove Pin from composer"),bgColor:"lightGray",icon:"clear",iconColor:"darkGray",onClick:l.handleImageReset,size:"sm"})))}),z(B(B(l)),"renderAddPinButton",function(){return I.a.createElement(F.b,{display:"flex"},I.a.createElement(F.O,{onTouch:l.handleShowAddObjects,shape:"rounded"},I.a.createElement(F.b,{display:"flex"},I.a.createElement(F.n,{icon:"add-pin",accessibilityLabel:A.a._("Add pin icon","icon on community item composer to show a pin can be added"),size:16}),I.a.createElement(F.b,{alignItems:"center",display:"flex",marginLeft:1},I.a.createElement(F.K,{bold:!0,color:"gray",size:"md"},A.a._("Add Pin","Adding a pin to a community post or comment"))))))}),z(B(B(l)),"renderAddImageButton",function(){return I.a.createElement(F.b,{display:"flex"},I.a.createElement(F.b,{display:"flex"},I.a.createElement(c.a,{display:"communityImage",existingImageSrc:l.state.imageToSend.url,onImageUploadStart:l.handleUploadStarted,onImageUploadFinished:l.handleFinishImageUpload,idealErrorDirection:"up",onReset:l.handleImageReset})))}),l}return j(o,e),k(o,[{key:"componentDidMount",value:function e(){var t=this.props,n=t.objectType,r=t.parentObject.id,o=t.router,a=t.statusType;o.setRouteLeaveHook&&(this._removeRouteLeaveHook=o.setRouteLeaveHook(o.routes[o.routes.length-1],this.routerWillLeave)),"textInflightCreation"===a&&this.isCommunityItemComposer&&Object(v.a)(101,{element:this.composeContextLogElementMap[n],component:this.composeContextLogComponentMap[n],objectId:r})}},{key:"componentDidUpdate",value:function e(t){var n=this.props,r=n.statusType,o=n.objectType,a=n.parentObject.id;"textInflightCreation"!==t.statusType&&"textInflightCreation"===r&&Object(v.a)(101,{element:this.composeContextLogElementMap[o],component:this.composeContextLogComponentMap[o],objectId:a})}},{key:"render",value:function e(){var o=this,t=this.props,n=t.avatarSize,r=t.addedImage,a=t.replyToObject,i=t.hideAddObjects,c=t.showNewOwnerWelcomeEducation,u=t.statusType,s=t.viewerRoles,l=t.viewingUser,d=t.viewingUser.username,f=this.state,p=f.addedObjects,m=f.anchorRefSet,h=f.imageToSend,y=f.imageUploading,b=f.inputAreaFocused,g=f.isTextChanged,v=f.showConfirmDiscardModal,_=f.submissionInProgress,E=f.tags,w=f.taggedUsers,O=f.textValue,C=f.viewType,S={borderRadius:8,boxShadow:"0 0 0 4px rgba(0,132,255,.5)"},k={background:"transparent",border:"0",display:g?"inline-block":"block",minHeight:"textStaticDisplay"===u?"":"50px",fontSize:"16px",outline:"0",overflowX:"hidden",resize:"none",whiteSpace:"pre-wrap",width:"100%"},T,x;T=this.isPost?A.a._("Start a discussion","Writing a post"):this.isAggregatedComment?A.a._("Add a comment","Prompt to add a comment"):A.a._("Reply","Adding text to a community comment"),x=this.isPost?A.a._("Post","Create a post"):this.isAggregatedComment?A.a._("Done","Post a top level comment on a pin or tried it"):A.a._("Reply","Posting a reply to a post or comment");var j=g||h.url!==r.url;return"objects"===C?I.a.createElement(F.b,{dangerouslySetInlineStyle:{__style:{zIndex:1,top:"65px",right:"0px"}},width:"100%",height:"100%",position:"absolute",color:"white"},I.a.createElement(F.b,{display:"flex",justifyContent:"center",paddingY:4},I.a.createElement(F.b,{display:"flex",width:N.d,alignItems:"center"},I.a.createElement(F.o,{accessibilityLabel:A.a._("Cancel","Cancel making post or comment"),icon:"arrow-back",onClick:this.handleOnCancelAddObjects}),I.a.createElement(F.b,{marginLeft:2},I.a.createElement(F.K,{bold:!0,size:"xl"},A.a._("Add Pin","Add a Pin to your post or comment"))))),I.a.createElement(P.a,{addObjectToItem:this.handleAddObject,username:d})):"textInflightCreation"===u?I.a.createElement(F.b,{column:12,display:"flex",justifyContent:"center"},I.a.createElement(F.b,{width:"100%"},I.a.createElement(F.b,{display:"flex"},I.a.createElement(F.b,{width:40,marginRight:2},I.a.createElement(D.a,{user:l,userRoles:s,size:n})),I.a.createElement(F.b,{dangerouslySetInlineStyle:{__style:{borderRadius:"16px",border:"1px solid #EFEFEF"}},width:"100%",padding:4},I.a.createElement("div",{ref:this.setAnchorRef,style:b?S:{}},I.a.createElement(F.b,{display:"flex",shape:"rounded"},m&&I.a.createElement(M.a,{shouldLoseFocus:v,handleBlur:this.handleBlur,style:k,setRef:this.setRef,suggestionAnchor:this._suggestionAnchor,updateTags:this.updateTags,existingTags:E,replyToObject:a,taggedUsers:w,textValue:O,onChange:this.handleTextChange}))),!i&&I.a.createElement(F.b,{marginTop:2},0===p.length&&!h.url&&!y&&I.a.createElement(F.b,{display:"flex"},this.renderAddPinButton(),this.renderAddImageButton()),I.a.createElement(F.b,{display:"flex"},this.renderAddedObjects(p),h.url&&this.renderAddedImage()),I.a.createElement(F.G,{show:y,accessibilityLabel:A.a._("Spinner to indicate image uploading","accessibility label for a spinner")})))),I.a.createElement(F.b,{display:"flex",justifyContent:"end",marginTop:4},I.a.createElement(F.c,{color:"gray",inline:!0,onClick:j?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:A.a._("Cancel","Cancel making post or comment")}),I.a.createElement(F.b,{marginLeft:2},I.a.createElement(F.c,{color:"red",disabled:!g||_,inline:!0,onClick:this.handleOnClickPost,text:x})))),v&&this.renderConfirmDiscardModal(),this.isCommunityItemComposer&&I.a.createElement(R.a,{experienceIds:[500989],placementId:1000130},function(e){var t=e.complete,n=e.dismiss;return I.a.createElement(L,{anchor:o._suggestionAnchor,complete:t,dismiss:n})})):"textInFlightEdit"===u?I.a.createElement(F.b,{column:12,display:"flex",justifyContent:"center"},I.a.createElement(F.b,{width:"100%"},I.a.createElement(F.b,{display:"flex"},I.a.createElement(F.b,{dangerouslySetInlineStyle:{__style:{borderRadius:"16px",border:"1px solid #EFEFEF"}},width:"100%",padding:4},I.a.createElement("div",{ref:this.setAnchorRef,style:b?S:{}},I.a.createElement(F.b,{display:"flex",shape:"rounded"},m&&I.a.createElement(M.a,{handleBlur:this.handleBlur,style:k,setRef:this.setRef,suggestionAnchor:this._suggestionAnchor,updateTags:this.updateTags,existingTags:E,taggedUsers:w,textValue:O,onChange:this.handleTextChange}))),!i&&I.a.createElement(F.b,{marginTop:2},0===p.length&&!h.url&&!y&&I.a.createElement(F.b,{display:"flex"},this.renderAddPinButton(),this.renderAddImageButton()),I.a.createElement(F.b,{display:"flex"},this.renderAddedObjects(p),h.url&&this.renderAddedImage())))),I.a.createElement(F.b,{display:"flex",justifyContent:"end",marginTop:4},I.a.createElement(F.c,{color:"gray",inline:!0,onClick:j?this.toggleShowConfirmDiscardModal:this.handleOnFinalDiscardItem,text:A.a._("Cancel","Cancel making post or comment")}),I.a.createElement(F.b,{marginLeft:2},I.a.createElement(F.c,{color:"red",disabled:this.isSubmitEditDisabled()||_,inline:!0,onClick:this.handleOnClickEdit,text:A.a._("Edit","Edit a post")})))),v&&this.renderConfirmDiscardModal()):I.a.createElement(F.b,{alignItems:"center",display:"flex",justifyContent:"between",shape:"rounded"},I.a.createElement("div",{onKeyDown:this.handleFocus,onClick:this.handleFocus,role:"textbox",tabIndex:"0",style:{cursor:"text",width:"100%"}},I.a.createElement(F.b,{column:12,display:"flex"},I.a.createElement(F.b,{width:40},I.a.createElement(D.a,{user:l,userRoles:s,size:n})),I.a.createElement(F.b,{dangerouslySetInlineStyle:{__style:{borderRadius:"26px",border:"1px solid #EFEFEF"}},width:"100%",height:40,alignItems:"center",display:"flex",marginLeft:2,padding:4},I.a.createElement("textarea",{maxLength:G,name:"communityItemTextBox",onBlur:this.handleBlur,onFocus:this.handleFocus,placeholder:T,ref:function e(t){o._textAreaRef=t},rows:1,style:k}),!i&&I.a.createElement(I.a.Fragment,null,I.a.createElement(F.n,{icon:"add-pin",accessibilityLabel:A.a._("Add pin icon","icon on community item composer to show a pin can be added"),size:18}),I.a.createElement(F.b,{marginRight:6}),I.a.createElement(F.n,{icon:"camera-roll",accessibilityLabel:A.a._("Add photo icon","icon on community item composer to show a photo can be added"),size:18}))))),c&&I.a.createElement(R.a,{experienceIds:[500988],placementId:1000130},function(e){var t=e.complete,n=e.dismiss,r=e.display_data;return I.a.createElement(F.k,{color:"blue",idealDirection:"down",anchor:o._textAreaRef,size:"xl",onDismiss:n},I.a.createElement(F.b,{padding:4},I.a.createElement(F.K,{color:"white",bold:!0,size:"lg"},A.a._("Set the tone for your community with your first post. Introduce your community (and yourself!), and ask a question to get the discussion going"))))}))}},{key:"isCommunityItemComposer",get:function e(){var t=this.props.objectType;return t===E.b.COMMUNITY_POST||t===E.b.COMMUNITY_COMMENT}},{key:"isPost",get:function e(){var t=this.props.objectType;return t===E.b.COMMUNITY_POST||t===E.a.BOARD_ACTIVITY}},{key:"isAggregatedComment",get:function e(){var t=this.props.objectType;return t===m.a.pin||t===m.a.didIt||t===m.a.aggregatedComment}},{key:"composeContextLogComponentMap",get:function e(){var t;return z(t={},E.a.BOARD_ACTIVITY_COMMENT,13191),z(t,E.a.BOARD_ACTIVITY,13190),z(t,E.b.COMMUNITY_COMMENT,13159),z(t,E.b.COMMUNITY_POST,13158),t}},{key:"composeContextLogElementMap",get:function e(){var t;return z(t={},E.a.BOARD_ACTIVITY_COMMENT,10624),z(t,E.a.BOARD_ACTIVITY,10624),z(t,E.b.COMMUNITY_COMMENT,10476),z(t,E.b.COMMUNITY_POST,10476),t}}],[{key:"getDerivedStateFromProps",value:function e(t,n){return t.replyToObject?{taggedUserMap:W(n.taggedUserMap,t.replyToObject.user)}:{}}}]),o}(r.Component);z(Y,"defaultProps",{addedImage:{},addedObjects:[],imageSignature:"",onAddPinModeChange:function e(){},onEnter:function e(){},showWelcomeEducation:!1,text:"",widthAuto:!1});var K={image_medium_url:"",type:"user",username:"",full_name:"",first_name:"",id:""},Z=function e(t){var n=t.viewer;return K.image_medium_url=n.imageMediumUrl,K.username=n.username,K.full_name=n.fullName,{viewer:n,viewingUser:K}},q=t.a=Object(h.compose)(Object(o.connect)(Z),l.a,Object(f.a)(1000130),p.a,_.withRouter)(Y)},"3nZl":function(e,t){var n,r=Object.prototype.toString;function o(e){return r.call(e)}e.exports=o},"4D9R":function(e,t,n){var o=n("uw3G");function r(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}e.exports=r},"4SkS":function(e,t){function n(t){return function(e){return t(e)}}e.exports=n},"4WA0":function(e,t,n){"use strict";t.a=o;var r=n("d6ZO"),c=n.n(r),u=n("gEaE");function o(e){var t=e.color,n=void 0===t?"gray":t,r=e.handleClick,o=e.size,a=void 0===o?"sm":o,i=e.text;return c.a.createElement(u.b,{display:"inlineBlock"},c.a.createElement(u.O,{onTouch:r,shape:"pill"},c.a.createElement(u.K,{color:n,bold:!0,size:a},i)))}},"4bDc":function(e,t,n){var r=n("zGf6"),o=n("fXg5"),a=n("J7EG"),i=r?r.isConcatSpreadable:void 0;function c(e){return a(e)||o(e)||!!(i&&e&&e[i])}e.exports=c},"4e9l":function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=n},"4fFO":function(e,t,n){var r=n("zGf6"),o=n("ApYC"),a=n("3nZl"),i="[object Null]",c="[object Undefined]",u=r?r.toStringTag:void 0;function s(e){return null==e?void 0===e?c:i:u&&u in Object(e)?o(e):a(e)}e.exports=s},"5UEK":function(e,t){var n=Array.isArray;e.exports=n},"5Wsu":function(e,t,n){var p=n("1aiB"),m=n("YR4u"),h=n("PME9"),y=n("6qFz"),b=n("yVDt"),g=n("ZuLt"),v=200;function r(e,t,n){var r=-1,o=m,a=e.length,i=!0,c=[],u=c;if(n)i=!1,o=h;else if(v<=a){var s=t?null:b(e);if(s)return g(s);i=!1,o=y,u=new p}else u=t?[]:c;e:for(;++r<a;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,i&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),c.push(l)}else o(u,d,n)||(u!==c&&u.push(d),c.push(l))}return c}e.exports=r},"5Y0U":function(e,t,n){var r=n("K/lI"),o=n("vA09"),a=n("CvaY"),i=n("pm4P"),c=n("QAg/");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=c,e.exports=u},"5s1K":function(e,t,n){var r=n("lcvw");function o(e){return r(this,e).has(e)}e.exports=o},"5vge":function(e,t,n){var r=n("gcrN"),o=n("hXcP"),a=n("3iJu"),i="[object Null]",c="[object Undefined]",u=r?r.toStringTag:void 0;function s(e){return null==e?void 0===e?c:i:u&&u in Object(e)?o(e):a(e)}e.exports=s},"63R5":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),t.b=o;var s=n("FfPm"),l=20,d=100,f=.01,p=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2});function r(r){return new Promise(function(e,t){if(document.querySelector('script[src="'.concat(r,'"]')))e();else{var n=document.createElement("script");n.src=r,n.async=!0,n.addEventListener("load",e),n.addEventListener("error",t),document.getElementsByTagName("head")[0].appendChild(n)}})}function o(i){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p.OTHER,e,u=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?"web":"mweb";return new Promise(function(e,t){if(document.querySelector('script[src="'.concat(i,'"]'))){var n=0;if(c===p.GPLUS_ONE)if(window.gapi)e();else var r=setInterval(function(){window.gapi||n===l?(clearInterval(r),e()):(n+=1,s.default.increment("".concat(u,".loadScript.gplus_one.tries_").concat(n),f))},d);else if(c===p.FACEBOOK)if(window.FB)e();else var o=setInterval(function(){window.FB||n===l?(clearInterval(o),e()):(n+=1,s.default.increment("".concat(u,".loadScript.facebook.tries_").concat(n),f))},d);else e()}else{var a=document.createElement("script");a.src=i,a.async=!0,a.addEventListener("load",e),a.addEventListener("error",t),document.getElementsByTagName("head")[0].appendChild(a)}})}},"6Hh8":function(e,t){function n(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}e.exports=n},"6Kt5":function(e,t){function n(){}e.exports=n},"6jS8":function(e,t,n){var r=n("bi7d"),o=n("GPtk");function a(e,t){var n=o(e,t);return r(n)?n:void 0}e.exports=a},"6qFz":function(e,t){function n(e,t){return e.has(t)}e.exports=n},"6wfa":function(e,t,n){"use strict";function r(e,t,n){var r=n.getRegistry(),o=r.addSource(e,t);function a(){r.removeSource(o)}return{handlerId:o,unregister:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"7dRD":function(e,t,n){var r=n("aGIn"),o=(a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",a;function i(e){return!!o&&o in e}e.exports=i},"7dXy":function(e,t){var n="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,n),this}e.exports=r},"7jsK":function(e,t){var n,r=Function.prototype.toString;function o(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=o},"8/fN":function(e,t){function n(e){return function(){return e}}e.exports=n},"8CGM":function(e,c,u){(function(e){var t=u("Ayf+"),n="object"==typeof c&&c&&!c.nodeType&&c,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,o,a=r&&r.exports===n&&t.process,i=function(){try{return a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=i}).call(c,u("E1xI")(e))},"8Oqo":function(e,t,n){var r=n("FMW1"),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},"8S63":function(e,t){var n="__lodash_hash_undefined__";function r(e){return this.__data__.set(e,n),this}e.exports=r},"8WEi":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i=n("d6ZO"),r,c=o(n("CL6L"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}function a(a){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n;if((0,i.isValidElement)(e)){var r=e;u(r);var o=t?function(e){return a(e,t)}:a;return(0,c.default)(r,o)}a(e,t)}}function s(r){var o={};return Object.keys(r).forEach(function(e){var t,n=a(r[e]);o[e]=function(){return n}}),o}},"8e8Q":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",COMMUNITY:"community"},o=r},"8prp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.default=s;var o,a=i(n("ncT4"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(e){c(this,t),this.actions=e.getActions()}return r(t,[{key:"setup",value:function e(){this.didCallSetup=!0}},{key:"teardown",value:function e(){this.didCallTeardown=!0}},{key:"connectDragSource",value:function e(){return a.default}},{key:"connectDragPreview",value:function e(){return a.default}},{key:"connectDropTarget",value:function e(){return a.default}},{key:"simulateBeginDrag",value:function e(t,n){this.actions.beginDrag(t,n)}},{key:"simulatePublishDragSource",value:function e(){this.actions.publishDragSource()}},{key:"simulateHover",value:function e(t,n){this.actions.hover(t,n)}},{key:"simulateDrop",value:function e(){this.actions.drop()}},{key:"simulateEndDrag",value:function e(){this.actions.endDrag()}}]),t}();function s(e){return new u(e)}},"8zug":function(e,t,n){var o=n("32is"),a=n("e/71"),r,i=Object.prototype.hasOwnProperty;function c(e,t,n){var r=e[t];i.call(e,t)&&a(r,n)&&(void 0!==n||t in e)||o(e,t,n)}e.exports=c},"93Oe":function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n("d6ZO"),i=n.n(r),c=n("W/Cr"),u=n("nM9s"),s=n("LQgx");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?y(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=["mousedown","touchstart"],v=function(e){function a(){var e,n;l(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return b(y(y(n=f(this,(e=p(a)).call.apply(e,[this].concat(r))))),"handleClick",function(e){var t=e.target;e.stopPropagation(),e.preventDefault(),n.node&&n.node.contains(t)||n.props.onDeleteConfirmation(null)}),n}return m(a,e),d(a,[{key:"componentDidMount",value:function e(){var t=this;g.forEach(function(e){document.body&&document.body.addEventListener(e,t.handleClick)})}},{key:"componentWillUnmount",value:function e(){var t=this;g.forEach(function(e){document.body&&document.body.removeEventListener(e,t.handleClick)})}},{key:"render",value:function e(){var n=this,t=this.props,r=t.onDeleteConfirmation,o=t.didItData.id;return i.a.createElement(s.a,{onHide:r.bind(null,null)},i.a.createElement("div",{className:"ConfirmDialog Module inModal",style:{outline:"none"}},i.a.createElement("form",{className:"standardForm",ref:function e(t){n.node=t}},i.a.createElement("h1",null,c.a._("Are you sure?","Confirmation dialog for deleting data")),i.a.createElement("div",{className:"body"},i.a.createElement("p",null,c.a._("This will remove this photo","Confirmation dialog for deleting data"))),i.a.createElement("div",{className:"formFooter"},i.a.createElement("div",{className:"formFooterButtons"},i.a.createElement(u.a,{onClick:r.bind(null,null),text:c.a._("Cancel","Cancel the deleting data in a modal form")}),i.a.createElement(u.a,{className:"confirm",onClick:r.bind(null,o),text:c.a._("Delete","Confirmation of deleting data"),type:"primary"}))))))}}]),a}(r.Component)},"98Il":function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},"98fV":function(e,t,r){"use strict";e.exports=function(e){var t={};t.src_Any=r("OTgM").source,t.src_Cc=r("cdO0").source,t.src_Z=r("98Il").source,t.src_P=r("DKdx").source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var n="[><]";return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},"9FEF":function(e,t,n){"use strict";var r=n("Qsew"),l=n.n(r),o=/^[\/\:\-\_a-zA-Z0-9]*$/,a=!1;function d(){var e;a&&(e=console).log.apply(e,arguments)}function i(e){return e.split("/").filter(Boolean)}function c(e){return e.startsWith(":")}function u(e,t){d("checking tokens",e,t);var n=c(e);return n?n===c(t)?0:-1:e===t?0:1}function f(e,t){d("comparing",e,t);var n=0,r=0;if(0===e.length||0===t.length)return d("zero length, bailed"),1;if(e.length!==t.length)return 1;for(;1!==n;){if(d("those tokens are",n=u(e[r],t[r])),0!==n)return n;if(r+=1,e.length<=r||t.length<=r)return 0}return-1}function s(e){if(!e)return[];var c=[],t=!1,n=0,u=(e||[]).filter(Boolean).map(function(e){return e.path}).filter(function(e){return l()(e,"for flow"),t&&(n+=1),!!o.test(e)||("*"===e?!(t=!0):("/_/_/*"===e||c.push('Path "'.concat(e,'" cannot be understood by validateChildRouteOrder')),!1))});if(n)return c.push("There are ".concat(n,' routes defined after "*" that will never be invoked.')),c;var s=u.reduce(function(e,t){return l()(t,"for flow"),e[t]=i(t),e},{});return d("looking at",u),u.forEach(function(e,t){l()(e,"for flow");for(var n=[],r=[],o=0;o<t;o+=1){var a=u[o]||"";d("prev",a);var i=f(s[a]||[],s[e]||[]);d("isValid?",i),-1===i?n.push(a):0===i&&r.push(a)}r.length&&c.push('Path "'.concat(String(e),'" appears to be a clone of "').concat(r.join(", "),'"')),n.length&&c.push('Path "'.concat(String(e),'" should be defined before "').concat(n.join(", "),'"'))}),c}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",function(){return O}),n.d(t,"a",function(){return C});var O=function(){function v(e){var a=this,t=e.path,n=e.onEnter,r=e.props,o=void 0===r?{}:r,i=e.onChange,c=e.onLeave,u=e.indexRoute,s=e.childRoutes,l=e.legacy_server_context,d=e.deeplinks,f=e.pageType,p=e.getComponent,m=e.component,h=e.authBundleLoader,y=e.authResources,b=e.bundle,g=e.chunkFilename;_(this,v),w(this,"onEnter",function(t,e,n){var r=!1,o=a.wrapReplace(e);a.enterHooks.forEach(function(e){3===e.length?(r=!0,e.call(a,t,o,n)):e.call(a,t,o)}),r||n()}),w(this,"onLeave",function(t){a.leaveHooks.forEach(function(e){return e.call(a,t)})}),this.path=t,this.enterHooks=n?[n]:[],this.onChange=i,this.leaveHooks=c?[c]:[],this.props=o,this.indexRoute=u,this.childRoutes=s,this.legacy_server_context=l,this.deeplinks=d,this.pageType=f,this.getComponent=p,this.component=m,this.authBundleLoader=h,this.authResources=y,this.bundle=b,this.chunkFilename=g}return E(v,[{key:"wrapReplace",value:function e(o){return function(e){"string"==typeof e?e=encodeURI(e):e.pathname=encodeURI(e.pathname);for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.apply(void 0,[e].concat(n))}}},{key:"addEnterHook",value:function e(t){this.enterHooks.push(t)}},{key:"addLeaveHook",value:function e(t){this.leaveHooks.push(t)}}]),v}(),C=function(e){function r(e,t,n){return _(this,r),m(this,y(r).call(this,{path:e,onEnter:t,legacy_server_context:n}))}return b(r,e),r}(O)},"9Jjs":function(e,t){function n(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}e.exports=n},"9Yua":function(e,t,n){"use strict";var r=n("d6ZO"),l=n.n(r),o=n("W/Cr"),d=n("tmfO"),f=n("gEaE"),p={sm:24,md:40},a="\nM18.7,18H5.3L4,10.2c-0.1-0.9,0.8-1.5,1.5-1L9,12l2.1-5.4c0.4-0.7,1.4-0.7,1.8,0L15,12l3.4-2.8c0.7-0.5,1.7,0.1,1.5,1L18.7,\n18z\n",m=function e(){return l.a.createElement(f.n,{color:"red",icon:"pinterest",accessibilityLabel:o.a._("Admin","Icon indicating a user in a community is an admin"),size:"100%"})},h=function e(){return l.a.createElement(f.n,{color:"white",dangerouslySetSvgPath:{__path:a},accessibilityLabel:o.a._("Moderator","Icon indicating a user in a community is a moderator"),size:"100%"})},y=function e(t){return t.includes(4)?"admin":t.includes(3)||t.includes(2)?"moderator":null};function i(e){var t=e.user,n=e.size,r=void 0===n?"md":n,o=e.hasOutline,a=e.userRoles,i=t.first_name,c=t.image_medium_url,u=t.username,s=a?y(a):null;return l.a.createElement(d.b,{stopPropagation:!0,to:"/".concat(u,"/")},l.a.createElement(f.b,{position:"relative",width:p[r],height:p[r]},l.a.createElement(f.a,{size:r,src:c,name:i||u||"",outline:o}),s&&l.a.createElement(f.b,{position:"absolute",width:"40%",height:"40%",minWidth:8,minHeight:8,dangerouslySetInlineStyle:{__style:{bottom:"0",right:"0"}}},l.a.createElement(f.b,{color:"admin"===s?"white":"orange",width:"100%",height:"100%",shape:"circle",dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 2px #fff"}}},"admin"===s&&l.a.createElement(m,null),"moderator"===s&&l.a.createElement(h,null)))))}t.a=i},"9bGG":function(e,t,n){"use strict";t.a=O;var r=n("d6ZO"),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=32,y=100,b=null,g=!1,v=[],_=function e(){b&&clearTimeout(b),g=!0,b=setTimeout(function(){g=!1},y)},E=function e(t){0===v.length&&window.addEventListener("scroll",_),v.push(t)},w=function e(t){var n=v.indexOf(t);v.splice(n,1),0===v.length&&window.removeEventListener("scroll",_)};function O(t){return function(e){function a(){var e,t;i(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(p(p(t=s(this,(e=l(a)).call.apply(e,[this].concat(r))))),"state",{isHovering:!1}),m(p(p(t)),"handlers",{onMouseOver:function e(){return t._setHover(!0)},onMouseLeave:function e(){return t._setHover(!1)}}),t}return d(a,e),u(a,[{key:"componentDidMount",value:function e(){E(this)}},{key:"componentWillUnmount",value:function e(){this.hoverTimer&&clearTimeout(this.hoverTimer),w(this)}},{key:"_setHover",value:function e(t){var n=this;this.hoverTimer&&clearTimeout(this.hoverTimer),this.hoverTimer=t&&g?setTimeout(function(){return n._setHover(t)},y):setTimeout(function(){t!==n.state.isHovering&&n.setState({isHovering:t})},h)}},{key:"render",value:function e(){return r.createElement(t,Object.assign({},this.props,{hoverHandlers:this.handlers,isHovering:this.state.isHovering}))}}]),a}(r.Component)}},"9c2v":function(e,t,n){var r=n("fXHG"),o=n("iHXa"),a=n("0agp"),i=n("KqUj"),c=o(function(e){return a(r(e,1,i,!0))});e.exports=c},"9qwG":function(e,t,n){var r,o=n("Q0Wc").Symbol;e.exports=o},"9zfJ":function(e,t,n){var r,o,a=n("f2d5")(n("8Oqo"),"Set");e.exports=a},AXxc:function(e,t,n){"use strict";function r(){var e;return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0)+1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},AgRu:function(e,t,n){var r=n("E4Pc"),o=(a=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"",a;function i(e){return!!o&&o in e}e.exports=i},ApYC:function(e,t,n){var r=n("zGf6"),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,c=r?r.toStringTag:void 0;function u(e){var t=a.call(e,c),n=e[c];try{var r=!(e[c]=void 0)}catch(e){}var o=i.call(e);return r&&(t?e[c]=n:delete e[c]),o}e.exports=u},"Ayf+":function(n,e,t){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}).call(e,t("5jJ4"))},B0A7:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r=function e(t,n){return"".concat(t,":").concat(n||"")},o=function e(t,n){return t.feeds.profileBoards[r(n.username,n.boardOrder)]},a=function e(t,n){return n.isOverview?"xxWide":n.isOwnProfile&&t.ui.views&&t.ui.views.profileBoardView||"wide"}},BDFH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r,a=p(n("muM2")),i,c=p(n("RzoQ")),u,s=f(n("IHGr")),l,d=p(n("2JfW"));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};m(this,r);var n=(0,a.default)(c.default);this.context=t,this.store=n,this.monitor=new d.default(n),this.registry=this.monitor.registry,this.backend=e(this),n.subscribe(this.handleRefCountChange.bind(this))}return o(r,[{key:"handleRefCountChange",value:function e(){var t=0<this.store.getState().refCount;t&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!t&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)}},{key:"getContext",value:function e(){return this.context}},{key:"getMonitor",value:function e(){return this.monitor}},{key:"getBackend",value:function e(){return this.backend}},{key:"getRegistry",value:function e(){return this.registry}},{key:"getActions",value:function e(){var a=this,i=this.store.dispatch;function r(o){return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=o.apply(a,t);void 0!==r&&i(r)}}return Object.keys(s).filter(function(e){return"function"==typeof s[e]}).reduce(function(e,t){var n=s[t];return e[t]=r(n),e},{})}}]),r}();t.default=h},BNUP:function(e,t){var a=800,n=16,i=Date.now;function r(n){var r=0,o=0;return function(){var e=i(),t=16-(e-o);if(o=e,0<t){if(++r>=a)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}e.exports=r},BO5H:function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"j",function(){return u}),n.d(t,"h",function(){return s}),n.d(t,"i",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"g",function(){return f}),n.d(t,"a",function(){return p}),n.d(t,"f",function(){return m});var r=n("/rvR"),o=n("w1jd"),a=525,i=255,c=[2,3],u=function e(t){var n=t.type;return n===o.b.COMMUNITY_POST?t.community||{}:n===o.b.COMMUNITY_COMMENT&&t.root_post?t.root_post:{}},s=function e(t){var n=t.type,r=t.root_post;return n===o.b.COMMUNITY_POST?t.community||{}:n===o.b.COMMUNITY_COMMENT&&r?r.community:{}},l=function e(t){if(t.community_display_name)return t.community_display_name;var n=t.first_name||t.full_name;return n.length>r.f?n.substring(0,r.f).trim().concat("..."):n},d="COMMUNITY_BADGED",f="COMMUNITY_DIRECTORY_WELCOME",p={border:"1px solid #efefef",borderRadius:"16px"},m=[{id:"temp-id-0",title:"Stay on topic",content:{text:"Make sure your posts fit the community's theme"}},{id:"temp-id-1",title:"Limit self-promotion",content:{text:"Share ideas from all over the webnot just your own content!"}}],h=void 0},Bhm9:function(e,t,n){var r=n("5Y0U"),c="Expected a function";function u(o,a){if("function"!=typeof o||null!=a&&"function"!=typeof a)throw new TypeError(c);var i=function(){var e=arguments,t=a?a.apply(this,e):e[0],n=i.cache;if(n.has(t))return n.get(t);var r=o.apply(this,e);return i.cache=n.set(t,r)||n,r};return i.cache=new(u.Cache||r),i}u.Cache=r,e.exports=u},BqRI:function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function e(){},i=function(){function t(e){o(this,t),this.isDisposed=!1,this.action=e||a}return r(t,null,[{key:"empty",value:{dispose:a},enumerable:!0}]),t.prototype.dispose=function e(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},t}();t.default=i,e.exports=t.default},BtHP:function(e,t){function n(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}e.exports=n},CGTb:function(f,e,t){"use strict";(function(e){function t(e){r.length||(n(),o=!0),r[r.length]=e}f.exports=t;var r=[],o=!1,n,a=0,i=1024;function c(){for(;a<r.length;){var e=a;if(a+=1,r[e].call(),i<a){for(var t=0,n=r.length-a;t<n;t++)r[t]=r[t+a];r.length-=a,a=0}}r.length=0,a=0,o=!1}var u=void 0!==e?e:self,s=u.MutationObserver||u.WebKitMutationObserver;function l(e){var t=1,n=new s(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function e(){t=-t,r.data=t}}function d(o){return function e(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),o()}}}n="function"==typeof s?l(c):d(c),t.requestFlush=n,t.makeRequestCallFromTimer=d}).call(e,t("5jJ4"))},CL6L:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r,o=i(n("Qsew")),a=n("d6ZO");function i(e){return e&&e.__esModule?e:{default:e}}function c(e,n){var r=e.ref;return(0,o.default)("string"!=typeof r,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),r?(0,a.cloneElement)(e,{ref:function e(t){n(t),r&&r(t)}}):(0,a.cloneElement)(e,{ref:n})}},CO7E:function(e,t,n){var r=n("E6BD"),o=n("6Kt5"),a=n("oRS4"),i=1/0,c=r&&1/a(new r([,-0]))[1]==i?function(e){return new r(e)}:o;e.exports=c},CvaY:function(e,t,n){var r=n("o2yE");function o(e){return r(this,e).get(e)}e.exports=o},"D+il":function(e,t,n){var r=n("waY5"),o=n("oV4I"),a=n("Wah3"),i=n("GLiy"),c=o(function(e){return a(r(e,i))});e.exports=c},DKdx:function(e,t){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},DY8y:function(e,t,n){var r=n("hlGK"),o,a=n("WQxq")(r);e.exports=a},DYU3:function(e,t,n){"use strict";var r=n("jsUH"),o=n.n(r),a=n("neDk"),i=n.n(a);t.a=Object(r.DragDropContext)(i.a)},Dnv3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("BDFH");Object.defineProperty(t,"DragDropManager",{enumerable:!0,get:function e(){return c(r).default}});var o=n("1Ar8");Object.defineProperty(t,"DragSource",{enumerable:!0,get:function e(){return c(o).default}});var a=n("KvUe");Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function e(){return c(a).default}});var i=n("8prp");function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"createTestBackend",{enumerable:!0,get:function e(){return c(i).default}})},E4Pc:function(e,t,n){var r,o=n("8Oqo")["__core-js_shared__"];e.exports=o},E6BD:function(e,t,n){var r,o,a=n("6jS8")(n("ghX8"),"Set");e.exports=a},EGQl:function(e,t,n){var r=n("4fFO"),o=n("W1qr"),a=n("lOQh"),i="[object Arguments]",c="[object Array]",u="[object Boolean]",s="[object Date]",l="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",h="[object RegExp]",y="[object Set]",b="[object String]",g="[object WeakMap]",v="[object ArrayBuffer]",_="[object DataView]",E,w="[object Float64Array]",O="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",k="[object Uint8Array]",T="[object Uint8ClampedArray]",x="[object Uint16Array]",j="[object Uint32Array]",I={};function D(e){return a(e)&&o(e.length)&&!!I[r(e)]}I["[object Float32Array]"]=I[w]=I[O]=I[C]=I[S]=I[k]=I[T]=I[x]=I[j]=!0,I[i]=I[c]=I[v]=I[u]=I[_]=I[s]=I[l]=I[d]=I[f]=I[p]=I[m]=I[h]=I[y]=I[b]=I[g]=!1,e.exports=D},EOyg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=l;var o,a=u(n("YCjV")),i=n("IHGr"),c=n("V4Pm");function u(e){return e&&e.__esModule?e:{default:e}}var s={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function l(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case i.BEGIN_DRAG:return r({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case i.PUBLISH_DRAG_SOURCE:return r({},e,{isSourcePublic:!0});case i.HOVER:return r({},e,{targetIds:t.targetIds});case c.REMOVE_TARGET:return-1===e.targetIds.indexOf(t.targetId)?e:r({},e,{targetIds:(0,a.default)(e.targetIds,t.targetId)});case i.DROP:return r({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case i.END_DRAG:return r({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}},Eava:function(e,t,n){var r=n("3UTw"),o=n("W1qr");function a(e){return null!=e&&o(e.length)&&!r(e)}e.exports=a},EvJ3:function(e,t,n){var r=n("lcvw");function o(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}e.exports=o},EyZ1:function(e,t,n){var r=n("iHXa"),u=n("F0WT");function o(c){return r(function(e,t){var n=-1,r=t.length,o=1<r?t[r-1]:void 0,a=2<r?t[2]:void 0;for(o=3<c.length&&"function"==typeof o?(r--,o):void 0,a&&u(t[0],t[1],a)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var i=t[n];i&&c(e,i,n,o)}return e})}e.exports=o},F0WT:function(e,t,n){var o=n("e/71"),a=n("Eava"),i=n("uOSF"),c=n("fXq8");function r(e,t,n){if(!c(n))return!1;var r=typeof t;return!!("number"==r?a(n)&&i(t,n.length):"string"==r&&t in n)&&o(n[t],e)}e.exports=r},FB4j:function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,a=0;a<n.length;a+=1){if(!o.call(t,n[a])||e[n[a]]!==t[n[a]])return!1;var i,c;if(e[n[a]]!==t[n[a]])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},FBJc:function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},FKtX:function(e,t,n){var r,o=n("6jS8")(Object,"create");e.exports=o},FMW1:function(n,e,t){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}).call(e,t("5jJ4"))},FRu4:function(e,t,n){var r=n("H5SO");function o(e,t){var n;return!!(null==e?0:e.length)&&-1<r(e,t,0)}e.exports=o},FTnl:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var r=n("d6ZO"),p=n.n(r),o=n("GGB8"),m=n.n(o),a=n("IaRT"),i=n.n(a),h=n("gEaE");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?g(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=2e3;function E(e,t,n){if(e[t]){var r=e[t];if(r instanceof Array)return r.length<=2?null:new Error(t+" in "+n+" should contain a max of 2 strings")}return null}var w=function(e){function a(){var e,t;u(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return v(g(g(t=d(this,(e=f(a)).call.apply(e,[this].concat(r))))),"state",{hiding:!1,visible:!1}),v(g(g(t)),"handleHide",function(){var e=200;t.setState({hiding:!0}),t.timeout=setTimeout(t.props.onHide,e)}),v(g(g(t)),"handleMouseEnter",function(){t.timeout&&clearTimeout(t.timeout)}),v(g(g(t)),"handleMouseLeave",function(){t.timeout=setTimeout(t.handleHide,t.props.duration)}),t}return y(a,e),l(a,[{key:"componentDidMount",value:function e(){var t=this;setTimeout(function(){t.setState({visible:!0})},100),this.timeout=setTimeout(this.handleHide,this.props.duration)}},{key:"componentWillUnmount",value:function e(){this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function e(){var t=this.props,n=t.icon,r=t.imageUrl,o=t.href,a=t.onClick,i=t.text,c=t.openNewPage,u=this.props.color?this.props.color:"darkGray",s="string"==typeof i?i:"".concat(i[0]," ").concat(i[1]),l=n;o&&(l=r?void 0:"arrow-circle-forward");var d=o||r?p.a.createElement("div",{className:"imageWrapper"},p.a.createElement("img",{className:"toastImage",src:r,alt:s})):void 0,f=p.a.createElement(h.N,{color:u,icon:l,text:i,thumbnail:d});return p.a.createElement("div",{className:m()("ToastBase","react",{visible:this.state.visible},{hiding:this.state.hiding}),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-test-id":"toast"},o?p.a.createElement("a",{href:o,onClick:a,target:c?"_blank":null,rel:c?"noopener noreferrer":null},f):f)}}]),a}(r.Component);v(w,"defaultProps",{duration:_})},Fcab:function(e,t,n){"use strict";var r=n("d6ZO"),a=n.n(r),i=n("BO5H"),c=n("gEaE"),u=n("/rvR");function s(e){var t=e.pin,n=e.fullSize,r=void 0!==n&&n,o=t.images[u.h].height*i.c/t.images[u.h].width;return a.a.createElement(c.u,{wash:!0,shape:"rounded",height:r||o<u.g?o:u.g},a.a.createElement(c.p,{alt:t.description,color:t.dominantColor,fit:"cover",naturalHeight:t.images[u.h].height,naturalWidth:t.images[u.h].width,src:t.images[u.h].url}))}var l=n("W/Cr");function o(e){var t=e.pin,n=e.hideBorder,r=void 0!==n&&n,o=t.grid_title||t.grid_description||t.description;return a.a.createElement(c.b,{display:"flex",color:"white",dangerouslySetInlineStyle:r?{__style:{}}:{__style:i.a},padding:r?0:4},a.a.createElement(c.b,{column:6,marginRight:2},t.images&&a.a.createElement(s,{pin:t})),a.a.createElement(c.b,{column:6,marginLeft:2},o&&a.a.createElement(c.b,{marginBottom:2},a.a.createElement(c.K,{size:"sm",bold:!0},o)),t.domain&&a.a.createElement(c.b,{display:"flex"},a.a.createElement(c.b,{minWidth:0,padding:2,color:"lightGray",display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderRadius:4}}},a.a.createElement(c.n,{icon:"arrow-up-right",accessibilityLabel:l.a._("link","Website url link"),size:14,color:"darkGray"}),a.a.createElement(c.b,{marginLeft:2,height:18,flex:"grow"},a.a.createElement(c.K,{bold:!0,
size:"sm",truncate:!0},t.domain))))))}t.a=o},Fk06:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r;t.createNativeDragSource=p,t.matchNativeItemType=m;var o,a=c(n("XYyz"));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(n,e,t){var r=e.reduce(function(e,t){return e||n.getData(t)},null);return null!=r?r:t}var f=(l(r={},a.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function e(t){return Array.prototype.slice.call(t.files)}}),l(r,a.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function e(t,n){return d(t,n,"").split("\n")}}),l(r,a.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function e(t,n){return d(t,n,"")}}),r);function p(e){var t=f[e],r=t.exposeProperty,o=t.matchesTypes,a=t.getData;return function(){function n(){var e,t;s(this,n),this.item=(e={},(t={})[r]=t[r]||{},t[r].get=function(){return console.warn("Browser doesn't allow reading \""+r+'" until the drop event.'),null},u(e,t),e)}return i(n,[{key:"mutateItemByReadingDataTransfer",value:function e(t){delete this.item[r],this.item[r]=a(t,o)}},{key:"canDrag",value:function e(){return!0}},{key:"beginDrag",value:function e(){return this.item}},{key:"isDragging",value:function e(t,n){return n===t.getSourceId()}},{key:"endDrag",value:function e(){}}]),n}()}function m(e){var n=Array.prototype.slice.call(e.types||[]);return Object.keys(f).filter(function(e){var t;return f[e].matchesTypes.some(function(e){return-1<n.indexOf(e)})})[0]||null}},"Fm/v":function(e,t,n){"use strict";var r=n("d6ZO"),i=n.n(r),o=n("GGB8"),c=n.n(o),u=n("LrFa"),s=n("/e0Y"),l=n("W/Cr"),d=n("nM9s"),a=n("IaRT"),f=n.n(a),p=n("THYI"),m=n.n(p),h=n("aWXG");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){k(t,e,n[e])})}return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function E(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?S(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){function a(){var e,n;g(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return k(S(S(n=E(this,(e=w(a)).call.apply(e,[this].concat(r))))),"state",{flow:h.b.REPORT,status:h.c.STARTED,selectedReason:void 0,flagReason:void 0}),k(S(S(n)),"getTitle",function(){var e=n.props.isManagedView,t;return n.state.flow===h.b.REPORT?e?l.a._("What's wrong with this comment?","title for the report comment flow"):l.a._("Report this comment","title for the report comment flow"):l.a._("Thanks for your report","title at end of report flow")}),k(S(S(n)),"getOptionsConfig",function(){var e;return n.props.isManagedView?{__default:[{text:l.a._("It's spam","an option in the form to report stuff"),value:"spam",isTerminalReason:!0,category:"spam"},{text:l.a._("It's harassment","an option in the form to report stuff"),value:"attacks",isTerminalReason:!0,category:"attacks"},{text:l.a._("It's hate speech","an option in the form to report stuff"),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"}]}:{__default:[{text:l.a._("This is spam","an option in the form to report stuff"),value:"spam",isTerminalReason:!0,category:"spam"},{text:l.a._("This is harassing me or someone else","an option in the form to report stuff"),value:"attacks",isTerminalReason:!0,category:"attacks"},{text:l.a._("This is hate speech towards a group of people","an option in the form to report stuff"),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"}]}}),k(S(S(n)),"handleSelectReason",function(e,t){e&&n.setState({selectedReason:t,status:h.c.SELECTED})}),k(S(S(n)),"handleClose",function(){n.props.onClose()}),k(S(S(n)),"handleSubmit",function(){n.setState({status:h.c.PROCESSING});var e=b({pin_id:n.props.pinId,comment_id:n.props.commentId,reason:n.state.selectedReason},n.props.resourceOptions),t;return s.a.trackEvent("comment_flag","click_submit","flagReason",e.reason),m.a.create(n.props.resourceName||"CommentFlagResource",e).callCreate().then(function(){s.a.trackEvent("comment_flag","success")},function(){s.a.trackEvent("comment_flag","error")}).finally(function(){n.setState({flow:h.b.BLOCK,status:h.c.STARTED})})}),k(S(S(n)),"handleFlowStatusChange",function(e,t){n.setState(e,t)}),n}return O(a,e),_(a,[{key:"render",value:function e(){var t=this.props.users,n=this.state,r=n.flow,o=n.status,a=i.a.createElement(d.a,{className:"reportButton reportComment",htmlType:"submit",id:"submitButton",loading:o===h.c.PROCESSING,onClick:this.handleSubmit,text:l.a._("Report message","button to report a message"),type:"primary"});return i.a.createElement(u.a,Object.assign({},this.props,this.state,{className:c()({FlagComment:r===h.b.REPORT}),flagOptionsConfig:this.getOptionsConfig(),flagType:h.a.COMMENT,onFlowStatusChange:this.handleFlowStatusChange,onSelectReason:this.handleSelectReason,showPrimaryAction:!0,submitButton:a,title:this.getTitle(),users:t}))}}]),a}(r.Component);t.a=T},GLiy:function(e,t,n){var r=n("T/tJ"),o=n("qPK+");function a(e){return o(e)&&r(e)}e.exports=a},GPtk:function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},GU18:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r);function c(e){var r=!1,t;return{promise:new Promise(function(t,n){e.then(function(e){return r?n({isCanceled:!0}):t(e)},function(e){return n(r?{isCanceled:!0}:e)})}),cancel:function e(){r=!0}}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e){return l(e)||s(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function l(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function m(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?g(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(t){var e,n;return n=e=function(e){function o(){var e,i;d(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(g(g(i=m(this,(e=h(o)).call.apply(e,[this].concat(n))))),"makeCancelablePromise",function(e,t){if(t){var n=i.cancelCallbackMap[t];n&&(n(),delete i.cancelCallbackMap[t])}var r=c(e),o=r.cancel,a=r.promise;return t?i.cancelCallbackMap[t]=o:i.cancelCallbacks.push(o),a}),v(g(g(i)),"cancelCallbacks",[]),v(g(g(i)),"cancelCallbackMap",{}),i}return y(o,e),p(o,[{key:"componentWillUnmount",value:function e(){var t=this;i(Object.keys(this.cancelCallbackMap).map(function(e){return t.cancelCallbackMap[e]})).concat(i(this.cancelCallbacks)).forEach(function(e){return e()}),this.cancelCallbacks=[],this.cancelCallbackMap={}}},{key:"render",value:function e(){return r.createElement(t,Object.assign({},this.props,{makeCancelablePromise:this.makeCancelablePromise}))}}]),o}(r.Component),v(e,"displayName","WithPromiseCancellation(".concat(t.displayName||t.name,")")),n}t.a=_},GtMa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeClientOffset=C,t.getEventClientOffset=i,t.getDragPreviewOffset=c;var w=n("tacu"),r,O=o(n("KUSF"));function o(e){return e&&e.__esModule?e:{default:e}}var a=1;function C(e){var t=e.nodeType===a?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top,o;return{x:n.left,y:r}}function i(e){return{x:e.clientX,y:e.clientY}}function S(e){return"IMG"===e.nodeName&&((0,w.isFirefox)()||!document.documentElement.contains(e))}function k(e,t,n,r){var o=e?t.width:n,a=e?t.height:r;return(0,w.isSafari)()&&e&&(a/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:a}}function c(e,t,n,r,o){var a=S(t),i,c=C(a?e:t),u={x:n.x-c.x,y:n.y-c.y},s=e.offsetWidth,l=e.offsetHeight,d=r.anchorX,f=r.anchorY,p=k(a,t,s,l),m=p.dragPreviewWidth,h=p.dragPreviewHeight,y=function e(){var t,n=new O.default([0,.5,1],[u.y,u.y/l*h,u.y+h-l]).interpolate(f);return(0,w.isSafari)()&&a&&(n+=(window.devicePixelRatio-1)*h),n},b=function e(){var t;return new O.default([0,.5,1],[u.x,u.x/s*m,u.x+m-s]).interpolate(d)},g=o.offsetX,v=o.offsetY,_,E=0===v||v;return{x:0===g||g?g:b(),y:E?v:y()}}},Gub0:function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},H5SO:function(e,t,n){var r=n("XkXJ"),o=n("rpgY"),a=n("aEvB");function i(e,t,n){return t==t?a(e,t,n):r(e,o,n)}e.exports=i},HCKV:function(e,t,n){var r=n("n/NP");function o(){this.__data__=r?r(null):{},this.size=0}e.exports=o},HE1j:function(e,t,n){var p=n("1aiB"),m=n("YR4u"),h=n("PME9"),y=n("vx+O"),b=n("KBuc"),g=n("6qFz"),v=200;function r(e,t,n,r){var o=-1,a=m,i=!0,c=e.length,u=[],s=t.length;if(!c)return u;n&&(t=y(t,b(n))),r?(a=h,i=!1):t.length>=v&&(a=g,i=!1,t=new p(t));e:for(;++o<c;){var l=e[o],d=null==n?l:n(l);if(l=r||0!==l?l:0,i&&d==d){for(var f=s;f--;)if(t[f]===d)continue e;u.push(l)}else a(t,d,r)||u.push(l)}return u}e.exports=r},HOmI:function(e,t){var n,r=Function.prototype.toString;function o(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}e.exports=o},Hg71:function(e,t,n){var o=n("fXq8"),a=n("oZYS"),i=n("bawM"),r,c=Object.prototype.hasOwnProperty;function u(e){if(!o(e))return i(e);var t=a(e),n=[];for(var r in e)("constructor"!=r||!t&&c.call(e,r))&&n.push(r);return n}e.exports=u},HnXo:function(e,t,n){var r=n("9qwG"),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,c=r?r.toStringTag:void 0;function u(e){var t=a.call(e,c),n=e[c];try{var r=!(e[c]=void 0)}catch(e){}var o=i.call(e);return r&&(t?e[c]=n:delete e[c]),o}e.exports=u},"Hut+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=c;var o,a=i(n("5UEK"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return"string"==typeof e||"symbol"===(void 0===e?"undefined":r(e))||t&&(0,a.default)(e)&&e.every(function(e){return c(e,!1)})}},I7Sx:function(e,t,n){var r=n("lEeN"),o=n("EvJ3"),a=n("bhRu"),i=n("5s1K"),c=n("LWNL");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=c,e.exports=u},IG7N:function(e,t,n){"use strict";t.a=u;var o=n("pOmq"),r=n("THYI"),a=n.n(r),i=n("mZ/m");function c(e,t){return{type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:e,aggregatedCommentId:t}}}function u(e){var n=e.aggregatedCommentId,r=e.parentId;return function(t){a.a.create("AggregatedCommentResource",{commentId:n}).callDelete({showError:!1}).then(function(e){return t(Object(o.a)({feedId:r,feedType:i.b.AGGREGATED_COMMENTS,itemIds:[n],itemType:"aggregatedcomment"})),t(c(r,n)),e})}}},IHGr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.END_DRAG=t.DROP=t.HOVER=t.PUBLISH_DRAG_SOURCE=t.BEGIN_DRAG=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.beginDrag=f,t.publishDragSource=p,t.hover=y,t.drop=E,t.endDrag=w;var r,b=c(n("Qsew")),o,g=c(n("2cew")),a,m=c(n("O/Ib")),i,v=c(n("N57z"));function c(e){return e&&e.__esModule?e:{default:e}}var h=t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",s=t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",_=t.HOVER="dnd-core/HOVER",l=t.DROP="dnd-core/DROP",d=t.END_DRAG="dnd-core/END_DRAG";function f(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{publishSource:!0,clientOffset:null},n=t.publishSource,r=t.clientOffset,o=t.getSourceClientOffset;(0,b.default)((0,g.default)(e),"Expected sourceIds to be an array.");var a=this.getMonitor(),i=this.getRegistry();(0,b.default)(!a.isDragging(),"Cannot call beginDrag while dragging.");for(var c=0;c<e.length;c++)(0,b.default)(i.getSource(e[c]),"Expected sourceIds to be registered.");for(var u=null,s=e.length-1;0<=s;s--)if(a.canDragSource(e[s])){u=e[s];break}if(null!==u){var l=null;r&&((0,b.default)("function"==typeof o,"When clientOffset is provided, getSourceClientOffset must be a function."),l=o(u));var d,f=i.getSource(u).beginDrag(a,u);(0,b.default)((0,m.default)(f),"Item must be an object."),i.pinSource(u);var p=i.getSourceType(u);return{type:h,itemType:p,item:f,sourceId:u,clientOffset:r,sourceClientOffset:l,isSourcePublic:n}}}function p(){var e;if(this.getMonitor().isDragging())return{type:s}}function y(e){var t,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).clientOffset,r=void 0===n?null:n;(0,b.default)((0,g.default)(e),"Expected targetIds to be an array.");var o=e.slice(0),a=this.getMonitor(),i=this.getRegistry();(0,b.default)(a.isDragging(),"Cannot call hover while not dragging."),(0,b.default)(!a.didDrop(),"Cannot call hover after drop.");for(var c=0;c<o.length;c++){var u=o[c];(0,b.default)(o.lastIndexOf(u)===c,"Expected targetIds to be unique in the passed array.");var s=i.getTarget(u);(0,b.default)(s,"Expected targetIds to be registered.")}for(var l=a.getItemType(),d=o.length-1;0<=d;d--){var f=o[d],p=i.getTargetType(f);(0,v.default)(p,l)||o.splice(d,1)}for(var m=0;m<o.length;m++){var h=o[m],y;i.getTarget(h).hover(a,h)}return{type:_,targetIds:o,clientOffset:r}}function E(){var o=this,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},i=this.getMonitor(),c=this.getRegistry();(0,b.default)(i.isDragging(),"Cannot call drop while not dragging."),(0,b.default)(!i.didDrop(),"Cannot call drop twice during one drag operation.");var e=i.getTargetIds().filter(i.canDropOnTarget,i);e.reverse(),e.forEach(function(e,t){var n,r=c.getTarget(e).drop(i,e);(0,b.default)(void 0===r||(0,m.default)(r),"Drop result must either be an object or undefined."),void 0===r&&(r=0===t?{}:i.getDropResult()),o.store.dispatch({type:l,dropResult:u({},a,r)})})}function w(){var e=this.getMonitor(),t=this.getRegistry();(0,b.default)(e.isDragging(),"Cannot call endDrag while not dragging.");var n=e.getSourceId(),r;return t.getSource(n,!0).endDrag(e,n),t.unpinSource(),{type:d}}},IQpX:function(e,s,l){(function(e){var t=l("ghX8"),n=l("aJni"),r="object"==typeof s&&s&&!s.nodeType&&s,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,a,i=o&&o.exports===r?t.Buffer:void 0,c,u=(i?i.isBuffer:void 0)||n;e.exports=u}).call(s,l("E1xI")(e))},ISge:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r,u=a(n("8WEi")),o,s=a(n("fcWg"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=void 0,r=void 0,o=void 0,n=void 0,a;function i(){n&&(n(),n=null),t&&r&&(n=e.connectDropTarget(t,r,o))}function c(e){e!==t&&(t=e,i())}return{receiveHandlerId:c,hooks:(0,u.default)({dropTarget:function e(t,n){t===r&&(0,s.default)(n,o)||(r=t,o=n,i())}})}}},IfTP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.default=f;var r,a=u(n("Qsew")),i,c=u(n("UziA"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=["canDrag","beginDrag","isDragging","endDrag"],d=["beginDrag"];function f(r){Object.keys(r).forEach(function(e){(0,a.default)(-1<l.indexOf(e),'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',l.join(", "),e),(0,a.default)("function"==typeof r[e],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",e,e,r[e])}),d.forEach(function(e){(0,a.default)("function"==typeof r[e],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",e,e,r[e])});var n=function(){function t(e){s(this,t),this.monitor=e,this.props=null,this.component=null}return o(t,[{key:"receiveProps",value:function e(t){this.props=t}},{key:"receiveComponent",value:function e(t){this.component=t}},{key:"canDrag",value:function e(){return!r.canDrag||r.canDrag(this.props,this.monitor)}},{key:"isDragging",value:function e(t,n){return r.isDragging?r.isDragging(this.props,this.monitor):n===t.getSourceId()}},{key:"beginDrag",value:function e(){var t=r.beginDrag(this.props,this.monitor,this.component);return t}},{key:"endDrag",value:function e(){r.endDrag&&r.endDrag(this.props,this.monitor,this.component)}}]),t}();return function e(t){return new n(t)}}},IudV:function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},J2FB:function(e,t,n){"use strict";var r=n("d6ZO"),U=n.n(r),o=n("DUIN"),B=n("5tOk"),z=n("W/Cr"),H=n("cd67"),a=n("R6a3"),G=n("tmfO"),V=n("Wd7r"),i=n("S3+b"),W=n("XDj/"),m=n("wq4j"),Y=n("nhMV"),c=n("zAVW"),K=n("gEaE"),u=n("MQ2h"),s=n.n(u);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function h(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?v(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function o(){var e,c;d(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(v(v(c=h(this,(e=y(o)).call.apply(e,[this].concat(n))))),"state",{addCommentText:"",anchorRefSet:!1,commentCount:c.props.comment.comment_count,editingCommentText:"",inputAreaFocused:!1,isFlyoutOpen:!1,isLikedByMe:1===c.props.comment.reaction_by_me,likeCount:c.props.comment.reaction_counts&&c.props.comment.reaction_counts[1]||0,showLikesListModal:!1,showReply:!1,tags:{},text:c.props.comment.text}),_(v(v(c)),"setRef",function(e){c._textAreaRef=e}),_(v(v(c)),"setAnchorRef",function(e){c._suggestionAnchor=e,c.setState({anchorRefSet:!0})}),_(v(v(c)),"assignCommentActionButtonRef",function(e){c.commentActionsButton=e}),_(v(v(c)),"handleClickLike",function(){var e=c.state,t=e.isLikedByMe,n=e.likeCount,r=c.props,o=r.toggleLikeComment,a=r.aggregatedCommentId;c.setState({isLikedByMe:!t,likeCount:c.updateLikesCount(n,t)}),o({aggregatedCommentId:a,isLikedByMe:t})}),_(v(v(c)),"handleClickReply",function(){return c.setState({showReply:!c.state.showReply})}),_(v(v(c)),"handleCommentAdded",function(){var e=c.state,t=e.showReply,n=e.commentCount,r=c.props.onReply;c.setState({showReply:!t,commentCount:c.props.depth<te?n+1:0}),r&&r()}),_(v(v(c)),"handleCommentRemoved",function(){return c.setState({commentCount:c.state.commentCount-1})}),_(v(v(c)),"handleOnEdit",function(){c.setState({editingCommentText:c.props.comment.text,isFlyoutOpen:!1})}),_(v(v(c)),"handleEditCommentFinished",function(e){if(e.trim()){var t=c.state.tags,n=c.props,r=n.comment,o=r.id,a=r.tagged_users,i=n.updateComment;a&&a.forEach(function(e){t[e.id]=e}),i({commentId:o,tags:Object(m.d)(c._textAreaRef,t),text:e})}c.setState({inputAreaFocused:!1}),c.setState({editingCommentText:""})}),_(v(v(c)),"handleFlagComment",function(){return c.props.onReport(c.props.comment)}),_(v(v(c)),"textAreaBlur",function(){c.setState({inputAreaFocused:!1}),c.state.editingCommentText===c.props.comment.text&&c.setState({editingCommentText:""})}),_(v(v(c)),"textAreaFocus",function(){return c.setState({inputAreaFocused:!0})}),_(v(v(c)),"updateLikesCount",function(e,t){return t?e-1:e+1}),_(v(v(c)),"updateTags",function(e){var t=c.state.tags;t[e.id]=e,c.setState({tags:t})}),_(v(v(c)),"toggleLikesListModal",function(e){c.setState({showLikesListModal:e})}),_(v(v(c)),"toggleCommentFlyout",function(){c.setState({isFlyoutOpen:!c.state.isFlyoutOpen})}),_(v(v(c)),"renderLikesListModal",function(){var e=c.state.likeCount,t=c.props.aggregatedCommentId;return U.a.createElement(a.a,{accessibilityCloseLabel:z.a._("close","accessible label for button to close modal"),accessibilityModalLabel:z.a._("Users who have liked this.","Label for a modal showing a list of users who have liked a Tried Item Comment"),heading:B.h(z.a.ngettext("{{count}} Like","{{count}} Likes",e),{count:e.toString()}),onDismiss:function e(){return c.toggleLikesListModal(!1)},size:"md"},U.a.createElement(i.a,{id:t}),",")}),c}return b(o,e),p(o,[{key:"render",value:function e(){var t=this;if(!this.props.comment)return null;var n=this.props,r=n.aggregatedCommentId,o=n.comment,a=o.created_at,i=o.is_edited,c=o.tags,u=o.tagged_users,s=o.text,l=o.user,d=l.id,f=l.full_name,p=l.username,m=l.image_medium_url,h=n.viewerId,y=n.didItOwnerId,b=n.depth,g=n.comment,v=n.onReply,_=n.parentObjectId,E=n.pinDomainOwnerId,w=n.isManagedView,O=this.state,C=O.anchorRefSet,S=O.commentCount,k=O.editingCommentText,T=O.inputAreaFocused,x=O.isLikedByMe,j=O.likeCount,I=O.showReply,D=O.showLikesListModal,P=x?z.a._("Liked","unliking a comment previously liked"):z.a._("Like","liking a comment"),R="/".concat(p,"/"),A=0<S||I,M=h===d||h===y||h===E,F=h===d,L={background:"white",border:"none",borderRadius:"5px",fontSize:"16px",outline:"0",overflowY:"auto",overflowX:"hidden",padding:"8px",resize:"none",whiteSpace:"pre-wrap",width:"95%"},N={border:"1px",borderColor:"#8e8e8e",borderStyle:"solid",borderRadius:"5px",minHeight:"9em"};return T&&(N.boxShadow="0 0 0 4px rgba(0,132,255,.5)"),U.a.createElement(K.b,{xs:{column:12},"data-test-id":"canonicalComment"},U.a.createElement(K.b,{display:"flex",column:12,alignItems:"center",flex:"grow"},U.a.createElement(K.b,{marginRight:3},U.a.createElement(G.b,{key:R,to:R},U.a.createElement(K.a,{size:"sm",src:m,name:f}))),U.a.createElement(K.b,{display:"flex",column:12,justifyContent:"between",flex:"grow"},U.a.createElement(K.b,{display:"flex",alignItems:"center"},U.a.createElement(K.K,{size:"sm",bold:!0,color:"darkGray"},f)),U.a.createElement(K.b,null,U.a.createElement("div",{ref:this.assignCommentActionButtonRef},U.a.createElement(K.o,{accessibilityLabel:z.a._("Comment Actions","show comment action flyout"),accessibilityHaspopup:!0,icon:"ellipsis",size:"sm",onClick:this.toggleCommentFlyout})),this.state.isFlyoutOpen&&U.a.createElement(K.k,{anchor:this.commentActionsButton,idealDirection:"down",onDismiss:function e(){return t.setState({isFlyoutOpen:!1})},size:"sm"},U.a.createElement(K.h,{xs:12},F&&U.a.createElement(K.c,{accessibilityLabel:z.a._("Edit","Edit comment"),color:"white",text:z.a._("Edit","Edit comment"),onClick:this.handleOnEdit}),M&&U.a.createElement(K.c,{accessibilityLabel:z.a._("Delete","Delete comment"),color:"white",text:z.a._("Delete","Delete comment"),onClick:this.props.onDelete}),h!==d&&U.a.createElement(K.c,{accessibilityLabel:z.a._("Report","Report comment"),color:"white",text:z.a._("Report","Report comment"),onClick:this.handleFlagComment})))))),U.a.createElement(K.b,{display:"flex",column:12},U.a.createElement(K.b,{marginLeft:9,column:11},U.a.createElement(K.b,{marginBottom:1},k?U.a.createElement(K.b,{flex:"grow"},U.a.createElement("div",{style:N,ref:this.setAnchorRef},C&&U.a.createElement(H.a,{style:L,setRef:this.setRef,suggestionAnchor:this._suggestionAnchor,updateTags:this.updateTags,handleEnter:this.handleEditCommentFinished,handleBlur:this.textAreaBlur,handleFocus:this.textAreaFocus,existingTags:c,taggedUsers:u,textValue:s}))):U.a.createElement(V.a,{text:s,tags:c,taggedUsers:u})),U.a.createElement(K.b,{display:"flex"},U.a.createElement(K.K,{size:"sm",color:"gray"},U.a.createElement(Y.b,{value:new Date(a),dateFormatType:Y.a.SHORT_MONTH_DAY,useUTC:!1})),i&&U.a.createElement(K.b,{marginLeft:2},U.a.createElement(K.K,{size:"sm",color:"gray"},z.a._("(Edited)",'Edited comment with "Edited" in parentheses'))),U.a.createElement(K.b,{display:"flex",alignItems:"center",marginLeft:2},U.a.createElement("button",{"data-test-id":"reply",style:{border:"none",background:"none",padding:"0"},onClick:this.handleClickReply},U.a.createElement(K.K,{size:"sm",bold:!0},z.a._("Reply","reply to a comment on a pin or a try")))),U.a.createElement(K.b,{margin:1}),U.a.createElement("button",{"data-test-id":"like",style:{border:"none",background:"none",padding:"0"},onClick:this.handleClickLike},U.a.createElement(K.K,{color:x?"red":"darkGray",size:"sm",bold:!0},P)),U.a.createElement(K.b,{margin:1}),!!j&&U.a.createElement("button",{style:{border:"none",background:"none",padding:"0"},onClick:function e(){return t.toggleLikesListModal(!0)}},U.a.createElement(K.K,{size:"sm",color:"gray",bold:!0},B.h(z.a.ngettext("{{ likeCount}} like","{{ likeCount }} likes",j),{likeCount:j}))),w&&U.a.createElement(K.b,{display:"flex",flex:"grow",justifyContent:"end"},U.a.createElement("button",{"data-test-id":"report",style:{border:"none",background:"none",padding:"0"},onClick:this.handleFlagComment},U.a.createElement(K.K,{size:"sm",bold:!0,color:"darkGray"},z.a._("Report","Report comment"))))))),U.a.createElement("div",{className:"fadeInComments"},U.a.createElement("div",{className:A?"responseComments revealed":"responseComments"},U.a.createElement(K.b,{dangerouslySetInlineStyle:{__style:{paddingLeft:"36px"}},xs:{column:12}},U.a.createElement(ie,{replyToName:f,didItOwnerId:y,commentCount:S,objectType:W.a.aggregatedComment,onCommentAdded:this.handleCommentAdded,showReply:I,onReply:v,objectId:r,depth:b,comment:g,parentObjectId:_,pinDomainOwnerId:E,isManagedView:w})))),D&&this.renderLikesListModal())}}]),o}(r.PureComponent),w=function e(t,n){return{toggleLikeComment:Object(u.bindActionCreators)(c.a,t),updateComment:Object(u.bindActionCreators)(c.b,t)}},O=Object(u.compose)(Object(o.connect)(function(e,t){var n;return{comment:e.aggregatedComments[t.aggregatedCommentId]}},w))(E);function C(e){var t=e.onClose,n=e.onConfirm;return U.a.createElement(a.a,{accessibilityCloseLabel:z.a._("close","accessible label for button to close modal"),heading:z.a._("Are you sure?","Are you sure you want to remove this comment"),accessibilityModalLabel:z.a._("Deleting a comment","Label for deleting a comment"),size:"sm",onDismiss:t},U.a.createElement(K.b,null,U.a.createElement(K.b,{padding:4},U.a.createElement(K.K,{size:"lg"},z.a._("This comment will be deleted","confirmation before deleting comment"))),U.a.createElement(K.b,{display:"flex",justifyContent:"end"},U.a.createElement(K.b,{margin:2,"data-test-id":"confirm-comment-delete-cancel"},U.a.createElement(K.c,{onClick:t,text:z.a._("Cancel","Cancel deleting comment")})),U.a.createElement(K.b,{margin:2,"data-test-id":"confirm-comment-delete-confirm"},U.a.createElement(K.c,{color:"red",onClick:n,text:z.a._("Delete","Delete comment")})))))}var S=n("lip+"),k=n("Fm/v"),T=n("LQgx"),x=n("suNN"),j=n("woYD"),I=n("JyNp"),D=n("jxTn"),P=n("IG7N"),R=n("OtL/"),A=n("mZ/m");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&L(e.prototype,t),n&&L(e,n),e}function Z(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?J(e):t}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}function Q(e,t){return(Q=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",function(){return te}),n.d(t,"a",function(){return ae}),n.d(t,"d",function(){return ie}),n.d(t,"b",function(){return ce});var ee=2,te=2,ne=function e(t){},re=function(e){function o(){var e,p;F(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return $(J(J(p=Z(this,(e=q(o)).call.apply(e,[this].concat(n))))),"state",{anchorRefSet:!1,flaggedComment:null,inputAreaFocused:!1,tags:p.props.depth===te&&p.props.comment?$({},p.props.comment.user.id,p.props.comment):{},text:"",deletingComment:null}),$(J(J(p)),"setRef",function(e){p._textAreaRef=e}),$(J(J(p)),"setAnchorRef",function(e){p._suggestionAnchor=e,p.setState({anchorRefSet:!0})}),$(J(J(p)),"cancelFlagComment",function(){return p.setState({flaggedComment:null})}),$(J(J(p)),"handleInput",function(e){return p.setState({text:e})}),$(J(J(p)),"handleAddComment",function(){var e=p.props,t=e.createComment,n=e.objectId,r=e.objectType,o=e.onCommentAdded,a=e.onCountChange,i=e.pinId,c=e.parentObjectId,u=e.depth,s=Object(m.d)(p._textAreaRef,p.state.tags),l,d=n;c&&u===te&&(d=c,l=n),t({objectType:r,objectId:d,pinId:i,tags:s,text:Object(B.i)(p._textAreaRef&&p._textAreaRef.textContent||""),replyToCommentId:l});var f=p._textAreaRef;f&&(f.blur(),f.innerHTML=""),p.setState({text:""}),(o||ne)(),(a||ne)(1),r===W.a.pin&&Object(j.a)(7,{objectId:p.props.pinId})}),$(J(J(p)),"handleDelete",function(e){return p.setState({deletingComment:e})}),$(J(J(p)),"handleCancelDelete",function(){return p.setState({deletingComment:null})}),$(J(J(p)),"handleConfirmDelete",function(){var e=p.props,t=e.deleteComment,n=e.objectType,r=e.onCommentRemoved,o=e.onCountChange,a=e.objectId,i=e.pinId,c=p.state.deletingComment;c&&t({aggregatedCommentId:c,parentId:a}),p.setState({deletingComment:null}),(r||ne)(),(o||ne)(-1),n===W.a.pin&&Object(j.a)(10,{objectId:i})}),$(J(J(p)),"handleEnter",function(){p._textAreaRef&&p._textAreaRef.textContent.trim()&&p.handleAddComment()}),$(J(J(p)),"handleCommentButtonClick",function(e){var t;e.event.preventDefault(),p.props.feedResource.fetchMore()}),$(J(J(p)),"textAreaFocus",function(){p.setState({inputAreaFocused:!0})}),$(J(J(p)),"textAreaBlur",function(){p.setState({inputAreaFocused:!1})}),$(J(J(p)),"flagComment",function(e){return p.setState({flaggedComment:e})}),$(J(J(p)),"confirmFlagComment",function(e){p.props.hideComment({parentId:p.props.objectId,aggregatedCommentId:e.id})}),$(J(J(p)),"updateTags",function(e){var t=p.state.tags;t[e.id]=e,p.setState({tags:t})}),$(J(J(p)),"renderComments",function(){var e=p.props,r=e.didItOwnerId,o=e.depth,t=e.feedItems,n=e.feedResource.isLoaded,a=e.onReply,i=e.pinDomainOwnerId,c=e.isManagedView;return U.a.createElement(K.b,null,t&&0<t.length&&U.a.createElement(S.a,null,function(n){return U.a.createElement(K.b,null,t.map(function(t,e){return U.a.createElement(K.b,{marginBottom:2,key:t.id},U.a.createElement(O,{aggregatedCommentId:t.id,didItOwnerId:r,viewerId:n.id,onDelete:function e(){return p.handleDelete(t.id)},onReport:p.flagComment,onReply:a,pinDomainOwnerId:i,depth:o+1,parentObjectId:p.props.objectId,isManagedView:c}))}))}),U.a.createElement(K.G,{accessibilityLabel:z.a._("Comments loading"),show:!n}))}),$(J(J(p)),"renderLeaveAComment",function(){var e=p.props,t=e.feedItems,n=e.feedResource.isLoaded,r=e.objectType,o=e.comment,a=e.depth,i=p.state,c=i.anchorRefSet,u=i.inputAreaFocused,s=i.text,l=c&&(0<a||u||s),d={background:"white",border:"none",borderRadius:"5px",fontSize:"16px",height:l?"9em":"3em",outline:"0",overflowY:l?"auto":"hidden",overflowX:"hidden",padding:"8px",resize:"none",whiteSpace:"pre-wrap",width:"95%"},f={border:"1px",borderColor:"#8e8e8e",borderStyle:"solid",borderRadius:"5px"};return u?f.boxShadow="0 0 0 4px rgba(0,132,255,.5)":f.padding="4px",U.a.createElement(K.b,{xs:{column:12}},r===W.a.pin&&t&&0===t.length&&n&&U.a.createElement(K.b,{paddingX:1,marginBottom:2,xs:{column:12}},U.a.createElement(K.K,null,z.a._("Share feedback, ask a question or give a high five"))),U.a.createElement(K.b,{paddingY:1},U.a.createElement("div",{style:f,ref:p.setAnchorRef},l?U.a.createElement(H.a,{style:d,setRef:p.setRef,suggestionAnchor:p._suggestionAnchor,updateTags:p.updateTags,handleEnter:p.handleEnter,handleBlur:p.textAreaBlur,handleInput:p.handleInput,handleFocus:p.textAreaFocus,replyToObject:a===te?o:void 0}):U.a.createElement("textarea",{"data-test-id":"addComment",onFocus:p.textAreaFocus,placeholder:p.commentPlaceholder,rows:1,style:d}))))}),p}return X(o,e),N(o,[{key:"render",value:function e(){var t=this,n=this.props,r=n.commentCount,o=n.feedItems,a=n.feedResource.isLoaded,i=n.objectType,c=n.showReply,u=n.isManagedView,s=this.state,l=s.deletingComment,d=s.flaggedComment,f=!!o&&a&&r>o.length,p=o?r-o.length:0,m=Object(x.b)(z.a.ngettext("{{commentCount}} comment","{{commentCount}} comments",p,"Show comments link with count"),{commentCount:String(p)}),h=i===W.a.aggregatedComment;return U.a.createElement(K.b,{column:12,marginTop:h?2:0,paddingY:h?0:2},c&&U.a.createElement(K.b,{flex:"grow",marginBottom:h?0:4,marginRight:1},this.renderLeaveAComment()),this.renderComments(),f&&U.a.createElement(K.b,{xs:{column:5},marginBottom:3,marginTop:3},U.a.createElement(K.O,{mouseCursor:"pointer",onTouch:this.handleCommentButtonClick,fullWidth:!1},U.a.createElement(K.K,{size:"sm",color:"gray",bold:!0},m))),i!==W.a.aggregatedComment&&!u&&this.renderLeaveAComment(),d?U.a.createElement(T.a,null,U.a.createElement(k.a,{resourceName:"AggregatedCommentFlagResource",resourceOptions:{commentId:d.id},onClose:function e(){t.cancelFlagComment()},onCompletedBlock:function e(){t.confirmFlagComment(d)},onCompletedReport:function e(){t.confirmFlagComment(d)},users:[d.user],isManagedView:u})):null,l?U.a.createElement(C,{onClose:this.handleCancelDelete,onConfirm:this.handleConfirmDelete}):null)}},{key:"commentPlaceholder",get:function e(){var t;return this.props.privatePin?z.a._("Add a public comment","Add a comment"):(z.a._("Add comment","Add a comment to a try or Pin"),z.a._("Add comment","Add a comment to a try"))}}]),o}(r.Component);$(re,"defaultProps",{reverseOrder:!1,depth:0});var oe=function e(t,n){return{createComment:Object(u.bindActionCreators)(D.a,t),deleteComment:Object(u.bindActionCreators)(P.a,t),hideComment:Object(u.bindActionCreators)(R.a,t),updateComment:Object(u.bindActionCreators)(c.b,t)}},ae=Object(u.compose)(Object(o.connect)(function(e,t){var n=e.feeds[A.b.AGGREGATED_COMMENTS],r,o;return{feedItems:(void 0===n?{}:n)[t.objectId]||[]}},oe),Object(I.b)({name:"AggregatedCommentResource",key:"feedResource",options:function e(t){return{objectId:t.objectId,page_size:t.initialLoadCount||2,redux_normalize_feed:!0}}}))(re),ie=Object(u.compose)(Object(o.connect)(function(e,t){var n=e.feeds[A.b.AGGREGATED_COMMENTS],r,o;return{feedItems:(void 0===n?{}:n)[t.objectId]||[]}},oe),Object(I.b)({name:"AggregatedCommentReplyResource",key:"feedResource",options:function e(t){return{objectId:t.objectId,page_size:t.initialLoadCount||2,redux_normalize_feed:!0}}}))(re),ce=Object(u.compose)(Object(o.connect)(function(e,t){var n=e.feeds[A.b.AGGREGATED_COMMENTS],r,o;return{feedItems:(void 0===n?{}:n)[t.objectId]||[]}},oe),Object(I.b)({name:"DidItCommentsResource",key:"feedResource",options:function e(t){return{objectId:t.objectId,page_size:t.initialLoadCount||2,redux_normalize_feed:!0}}}))(re)},J2bL:function(e,t){e.exports=["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","active","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","aigo","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blanco","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnl","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","chase","chat","cheap","chintai","christmas","chrome","chrysler","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dodge","dog","doha","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epost","epson","equipment","er","ericsson","erni","es","esq","estate","esurance","et","etisalat","eu","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodhands","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","industries","infiniti","info","ing","ink","institute","insurance","insure","int","intel","international","intuit","investments","io","ipiranga","iq","ir","irish","is","iselect","ismaili","ist","istanbul","it","itau","itv","iveco","iwc","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jlc","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","meo","merckmsd","metlife","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","mobily","moda","moe","moi","mom","monash","money","monster","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nadex","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","panerai","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sapo","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","spiegel","sport","spot","spreadbetting","sr","srl","srt","st","stada","staples","star","starhub","statebank","statefarm","statoil","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","symantec","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","telecity","telefonica","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","uconnect","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vista","vistaprint","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","vermgensberater","vermgensberatung","","","","","","","","","","","","","","xperia","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zippo","zm","zone","zuerich","zw"]},J7EG:function(e,t){var n=Array.isArray;e.exports=n},JJqf:function(e,t,n){var r=n("GLiy");function o(e){return r(e)?e:[]}e.exports=o},JMBu:function(e,t,n){"use strict";var r=n("tQ0j"),a=n.n(r),o=n("/e0Y"),i=n("FJZF"),c=n("1zCC"),u={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog:function e(t){var n=t.ga_category||"share_twitter";o.a.trackEvent(n,"click");var r=u._getWindowUrl(t.tweet_path,t.tweet_text);c.a.open(r,u.DIALOG_WIDTH,u.DIALOG_HEIGHT)},_getWindowUrl:function e(t,n){var r="https://twitter.com/intent/tweet?via=pinterest",o={};return t&&(o.url=encodeURIComponent(i.a.absolutify(t))),n&&(o.text=encodeURIComponent(n)),a.a.reduce(o,function(e,t,n){return e+"&"+n+"="+t},r)}};t.a=u},Jj3T:function(e,t,n){var r=n("TCnH"),o=n("qPK+"),a=Object.prototype,i=a.hasOwnProperty,c=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!c.call(e,"callee")};e.exports=u},JmUs:function(e,t,n){var r=n("gRQm");function o(e,t){var n;return!!(null==e?0:e.length)&&-1<r(e,t,0)}e.exports=o},JqyP:function(e,t,n){"use strict";var r=n("d6ZO"),i=n.n(r),o=n("2aok"),a=n.n(o),c=n("W/Cr"),u=n("XSNT"),s=n("gEaE"),l=n("+UuE"),d=function e(t){var n=t.link,r=t.grayscale,o=t.handleClick,a=t.handleFocus;return i.a.createElement("div",{className:"ShareLink"},i.a.createElement("div",{className:"link"},i.a.createElement("div",{className:"icon"},i.a.createElement(l.d,{size:30,grayscale:r})),i.a.createElement(u.a,{ref:function e(t){return t&&t.focus()},className:"Input linkField",value:n,onFocus:a}),i.a.createElement("div",{className:"cancelLink",onClick:o},i.a.createElement(s.n,{accessibilityLabel:c.a._("Close","close copy link"),icon:"cancel",bgColor:"white",color:"gray"}))))};d.defaultProps={grayscale:!1},t.a=d},Jw9X:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEMS_ADDED",payload:e}}t.a=r},JyQ6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("d6ZO"),l=n.n(a),r=n("DUIN"),i=n("BAXv"),u=n("W/Cr"),d=n("gEaE"),o=n("hNf0");function c(t){return a.createElement(o.a,Object.assign({thriftComponentType:172},t),function(e){var r=e.onTriedItButtonClick;return a.createElement(d.c,{onClick:function e(t){var n=t.event;return r(n)},text:u.a._("Add","Add a try to a pin"),disabled:t.isDoneByMe,inline:!0})})}var f=c,p=n("tmfO");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function b(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?E(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O="136x136",C=function(e){function a(){var e,t;m(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return w(E(E(t=b(this,(e=g(a)).call.apply(e,[this].concat(r))))),"state",{isDoneByMe:!1}),w(E(E(t)),"handleModalStateChanged",function(e){return t.setState({isDoneByMe:e})}),t}return v(a,e),y(a,[{key:"render",value:function e(){var t=this.props,n=t.loggedInUser,r=t.pin,o="/pin/".concat(r.id,"/"),a=r.images[O].url,i=r.images[O].height,c=r.images[O].width,u=r.rich_summary&&r.rich_summary.display_name||r.description,s={aggregatedPinDataId:r.aggregated_pin_data.id,isDoneByMe:this.state.isDoneByMe,loggedInUser:n,onDoneStateChanged:this.handleModalStateChanged,pinId:r.id,pinTitle:u};return l.a.createElement(d.b,{display:"flex",alignItems:"center",justifyContent:"between",deprecatedPadding:{y:2}},l.a.createElement(d.b,{xs:{column:10,display:"flex"},alignItems:"center"},l.a.createElement(d.b,{xs:{column:2}},l.a.createElement(p.b,{key:o,to:o},l.a.createElement(d.u,{shape:"rounded",wash:!0},l.a.createElement(d.p,{alt:r.title,color:r.dominant_color,naturalHeight:i,naturalWidth:c,src:a,key:a})))),l.a.createElement(d.b,{xs:{column:10},deprecatedPadding:{x:2}},l.a.createElement(p.b,{key:o,to:o},l.a.createElement(d.K,{bold:!0,size:"lg",smSize:"sm",mdSize:"md",lgSize:"lg"}," ",u," ")))),l.a.createElement(d.b,{xs:{column:2}},l.a.createElement(f,s)))}}]),a}(a.Component),S=n("JyNp"),k=n("MQ2h"),T=n.n(k);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),e}function P(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?F(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=5,U=function(e){function a(){var e,r;j(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return L(F(F(r=P(this,(e=R(a)).call.apply(e,[this].concat(n))))),"getFilteredPins",function(){var e=r.props.pins,t;return e.isLoaded?e.data.filter(function(e){return e.is_whitelisted_for_tried_it}):[]}),L(F(F(r)),"renderEmptyState",function(){var n=r.props.loggedInUser;u.a._("Tried any of these? Add a photo:","Text suggesting users to Try a Pin they alread saved");var e=r.getFilteredPins().slice(0,5);return l.a.createElement(d.i,null,l.a.createElement(d.b,{xs:{display:"flexColumn"},alignItems:"center",deprecatedPadding:{y:6}},l.a.createElement(d.K,{align:"center",bold:!0,smSize:"xs",mdSize:"sm",lgSize:"md"}," ",u.a._("Pins you try live here")," "),l.a.createElement(d.b,{xs:{column:12},md:{column:6}},l.a.createElement(d.K,{color:"gray",bold:!0,align:"center",smSize:"xs",mdSize:"sm",lgSize:"md"},u.a._("Add notes and photos to recipes you made, places you traveled and other ideas you tried")))),!!e.length&&l.a.createElement(d.b,{xs:{column:12,display:"flex"},deprecatedPadding:{y:6}},l.a.createElement(d.b,{xs:{display:!1},md:{column:1,display:"flex"}}),l.a.createElement(d.b,{xs:{column:12},md:{column:10}},l.a.createElement(d.b,{deprecatedPadding:{y:2},margin:1},l.a.createElement(d.K,{bold:!0,size:"lg",smSize:"sm",mdSize:"md",lgSize:"lg"},u.a._("Tried any of these? Add a photo or note:","Text suggesting users to Try a Pin they alread saved"))),e.map(function(e,t){return l.a.createElement(C,{key:e.id,pin:e,loggedInUser:n})}))))}),r}return A(a,e),D(a,[{key:"render",value:function e(){var t=this.props.pins;return l.a.createElement(d.b,null,l.a.createElement(d.G,{show:!t.isLoaded,accessibilityLabel:u.a._("Pins to try are loading")}),t.isLoaded&&this.renderEmptyState())}}]),a}(a.PureComponent),B=Object(k.compose)(Object(S.b)({name:"UserPinsResource",options:function e(t){return{prepend:!1,username:t.loggedInUser.username,field_set_key:"did_it_grid_item",page_size:10}},key:"pins"}))(U),z=n("vyF1"),H=n("WBZ1"),G=n.n(H),V=n("nX0T"),W=n("FTnl"),Y=n("pN+K"),K=n("kxCB"),Z=n("woYD"),q=n("7IpV");function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return t&&J(e.prototype,t),n&&J(e,n),e}function ee(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?oe(e):t}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}function re(e,t){return(re=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ie=200,ce=100,ue=3e3,se=function(e){function a(){var e,r;Q(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ae(oe(oe(r=ee(this,(e=te(a)).call.apply(e,[this].concat(n))))),"removeReportedActivity",function(e){r.props.showToast(function(e){var t=e.onHide;return l.a.createElement(W.a,{duration:3e3,href:i.a.GEN.templateConst.settings.HELP_PIN_POLICIES_URL,onHide:t,text:u.a._("Thanks! Well take this down if it goes against our guidelines.","Statement that a tried item has successfully been reported")})})}),ae(oe(oe(r)),"handleScroll",G()(function(){if(!r.props.isFetching&&!r.props.isAtEnd){var e=Object(q.a)(window),t,n;Object(q.c)(window)-Object(q.e)()-200<e&&r.fetchMore()}},100)),r}return ne(a,e),$(a,[{key:"componentDidMount",value:function e(){window.addEventListener("scroll",this.handleScroll),Object(Z.a)(13,{view:4,viewParameter:3071})}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("scroll",this.handleScroll)}},{key:"fetchMore",value:function e(){this.props.isFetching||(this.props.isAtEnd?window.removeEventListener("scroll",this.handleScroll):this.props.fetchMoreData())}},{key:"render",value:function e(){var t=this,n=this.props,r=n.feedItems,o=n.isOwnProfile,a=n.resourceLoaded,i=n.triedItUser;if(!a)return l.a.createElement(d.i,null,l.a.createElement(d.b,{deprecatedMargin:6},l.a.createElement("div",{className:"loadingSpinner"},l.a.createElement(d.G,{accessibilityLabel:u.a._("Tried it feed"),show:!0}))));var c=o?3106:3107;return!r.length&&o?l.a.createElement(B,{loggedInUser:i}):l.a.createElement(d.i,null,l.a.createElement(V.a,{view:4,viewParameter:c,component:212},l.a.createElement(d.b,{xs:{display:"flex",column:12},justifyContent:"center"},l.a.createElement(d.b,{xs:{column:12},md:{column:10}},r.map(function(e){return l.a.createElement(d.b,{key:e.id},l.a.createElement(z.a,{didItDataId:e.id,removeReportedActivity:t.removeReportedActivity,viewType:4}))})))))}}]),a}(a.Component),le=Object(k.compose)(Object(r.connect)(function(e,t){var n=e.feeds.userDidItData,r,o;return{feedItems:((void 0===n?{}:n)[t.triedItUser.username]||[]).reduce(function(e,t){return"userdiditdata"===t.type?e.concat({type:t.type,id:t.id}):e},[])}}),Object(Y.b)({name:"DidItUserFeedResource",options:function e(t){
return{username:t.triedItUser.username,redux_normalize_feed:!0}}},{allowStale:!1}),K.a)(se),de=n("Xafg");function fe(e){var t=e.data,n=e.params,r=e.viewer;if(!t)return null;var o=r.username===n.username;return a.createElement(le,{isOwnProfile:o,triedItUser:t})}var pe=t.default=Object(k.compose)(Object(de.a)({name:"TriedItList",routeContextLog:function e(){return{view_type:4,view_parameter:3071}}}),Object(Y.c)({name:"UserResource",options:function e(t){var n;return{field_set_key:"profile",username:t.params.username}}}),Object(r.connect)(function(e){return{viewer:e.viewer}}))(fe)},"K/lI":function(e,t,n){var r=n("KvdU"),o=n("28GN"),a=n("myrz");function i(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}e.exports=i},KBuc:function(e,t){function n(t){return function(e){return t(e)}}e.exports=n},KUSF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function C(n,e){S(this,C);for(var t=n.length,r=[],o=0;o<t;o++)r.push(o);r.sort(function(e,t){return n[e]<n[t]?-1:1});for(var a=[],i=[],c=[],u=void 0,s=void 0,l=0;l<t-1;l++)u=n[l+1]-n[l],s=e[l+1]-e[l],i.push(u),a.push(s),c.push(s/u);for(var d=[c[0]],f=0;f<i.length-1;f++){var p=c[f],m=c[f+1];if(p*m<=0)d.push(0);else{u=i[f];var h=i[f+1],y=u+h;d.push(3*y/((y+h)/p+(y+u)/m))}}d.push(c[c.length-1]);for(var b=[],g=[],v=void 0,_=0;_<d.length-1;_++){v=c[_];var E=d[_],w=1/i[_],O=E+d[_+1]-v-v;b.push((v-E-O)*w),g.push(O*w*w)}this.xs=n,this.ys=e,this.c1s=d,this.c2s=b,this.c3s=g}return r(C,[{key:"interpolate",value:function e(t){var n=this.xs,r=this.ys,o=this.c1s,a=this.c2s,i=this.c3s,c=n.length-1;if(t===n[c])return r[c];for(var u=0,s=i.length-1,l=void 0;u<=s;){var d=n[l=Math.floor(.5*(u+s))];if(d<t)u=l+1;else{if(!(t<d))return r[l];s=l-1}}var f=t-n[c=Math.max(0,s)],p=f*f;return r[c]+o[c]*f+a[c]*p+i[c]*f*p}}]),C}();t.default=o},KfVG:function(e,t){function n(e){return function(){return e}}e.exports=n},KjQs:function(e,t){function n(e){return e!=e}e.exports=n},KqUj:function(e,t,n){var r=n("Eava"),o=n("lOQh");function a(e){return o(e)&&r(e)}e.exports=a},KsY6:function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.a=r},KtTI:function(e,t,n){"use strict";var i=n("d6ZO"),p=n.n(i),r=n("DUIN"),o=n("GGB8"),m=n.n(o),c=n("W/Cr"),h=n("tmfO"),u=n("5tOk");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?v(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function a(){var e,r;s(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return _(v(v(r=f(this,(e=y(a)).call.apply(e,[this].concat(n))))),"getContent",function(){var e=r.props,t=e.fullName,n=e.imageSrc;return n?i.createElement("img",{alt:t,src:n,title:Object(u.h)(c.a._("More from {{ fullName }}"),{fullName:t})}):i.createElement("span",{className:"icon"},t[0].toUpperCase())}),r}return b(a,e),d(a,[{key:"render",value:function e(){return i.createElement("div",null,this.getContent())}}]),a}(i.Component),w=n("y2lE"),O=n("gEaE"),C=n("MQ2h"),S=n.n(C),k=n("L1Kv");function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function D(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?M(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function A(e,t){return(A=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=function(e){function o(){var e,a;x(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return F(M(M(a=D(this,(e=P(o)).call.apply(e,[this].concat(n))))),"state",{isFollowing:a.props.user.explicitly_followed_by_me||!1}),F(M(M(a)),"handleFollowClick",function(){var e=a.props,t=e.follow,n=e.unfollow,r=e.user,o;a.state.isFollowing?(n(r.id),a.setState({isFollowing:!1})):(t(r.id),a.setState({isFollowing:!0})),a.props.logData&&a.props.contextLog(101,a.props.logData)}),a}return R(o,e),I(o,[{key:"renderFollowButton",value:function e(){var t=this.state.isFollowing,n=this.props.isSelf,r=t?c.a._("Unfollow"):c.a._("Follow");return n?p.a.createElement(O.c,{inline:!0,disabled:!0,text:c.a._("That's you!","Text describing that the person's avatar is you")}):p.a.createElement(O.c,{color:t?"gray":"red",inline:!0,onClick:this.handleFollowClick,text:r})}},{key:"render",value:function e(){var t=this.props,n=t.className,r=t.showName,o=t.showFollow,a=t.size,i=t.subtitle,c=t.title,u=t.user,s=void 0===u?{}:u,l=s.full_name,d=s.username,f=s.image_key||s.image_medium_url||s.image_small_url;return p.a.createElement("div",{className:m()("Module","User","hasText","thumb",a,n)},p.a.createElement(O.b,{alignItems:"center",direction:"row",display:"flex",marginStart:-1,marginEnd:-1},p.a.createElement(O.b,{flex:"grow",paddingX:1},p.a.createElement(h.b,{className:"profileSource",to:"/".concat(d,"/")},p.a.createElement("div",{className:"thumbImageWrapper"},p.a.createElement(E,{fullName:s.full_name,imageSrc:f})),c&&p.a.createElement("h3",{className:"title"},c),r&&p.a.createElement("h4",{className:"fullname"},l),i&&p.a.createElement("div",{className:"subtitle"},i))),o&&p.a.createElement(O.b,{paddingX:1},this.renderFollowButton())))}}]),o}(i.Component);F(L,"defaultProps",{followedByMe:!1,showFollow:!1,showName:!1,size:"small",subtitle:"",viewType:"thumb"});var N=function e(n){return{follow:function e(t){return n(Object(k.a)(t))},unfollow:function e(t){return n(Object(k.b)(t))}}},U=t.a=Object(C.compose)(Object(r.connect)(null,N),w.a)(L)},KvUe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(){o(this,e)}return r(e,[{key:"canDrop",value:function e(){return!0}},{key:"hover",value:function e(){}},{key:"drop",value:function e(){}}]),e}();t.default=a},KvdU:function(e,t,n){var r=n("wq6O"),o=n("WFLb"),a=n("N7CH"),i=n("ydBC"),c=n("p/7r");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=c,e.exports=u},L1Kv:function(e,t,n){"use strict";t.a=u,t.b=s;var r=n("THYI"),o=n.n(r),a=n("7rV5");function i(e){return o.a.create("UserFollowResource",{user_id:e})}function c(e,t){return{type:a.a.USER_FOLLOW,payload:{id:e,value:t}}}function u(t){return function(e){i(t).callCreate().catch(function(){return e(c(t,!1))}),e(c(t,!0))}}function s(t){return function(e){i(t).callDelete().catch(function(){return e(c(t,!0))}),e(c(t,!1))}}},L2lD:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var r=n("d6ZO"),i=n.n(r),c=n("W/Cr"),o=n("IaRT"),a=n.n(o),u=n("5tOk"),s=n("8e8Q"),l=n("gEaE");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function a(){var e,r;f(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return _(v(v(r=h(this,(e=y(a)).call.apply(e,[this].concat(n))))),"state",{textValue:r.props.initialTextValue||"",emailValue:""}),_(v(v(r)),"handleSendEmail",function(e,t){if(e){var n={email:e,fullName:e,id:null,imageSmallUrl:null,usernamne:null};r.props.onSendMessage(n,t)}}),_(v(v(r)),"handleTextValueChange",function(e){var t=e.value;r.setState({textValue:t})}),_(v(v(r)),"handleEmailValueChange",function(e){var t=e.value;r.setState({emailValue:t})}),r}return b(a,e),m(a,[{key:"render",value:function e(){var t=this,n=this.props,r=n.isFlyout,o=n.onCancelDraft;return i.a.createElement(l.b,{display:"flex",direction:"column",column:12,padding:2},i.a.createElement(l.b,{display:"flex",alignItems:"center"},i.a.createElement(l.b,{flex:"grow"},i.a.createElement(l.K,{bold:!0},c.a._("Send to"))),r?i.a.createElement(l.o,{accessibilityLabel:c.a._("Cancel share to user","accessibility label for close button"),icon:"cancel",onClick:o,size:"sm"}):null),i.a.createElement(l.b,{display:"flex",direction:"column"},i.a.createElement(l.b,{paddingY:1},i.a.createElement(l.L,{id:"email",onChange:this.handleEmailValueChange,placeholder:c.a._("Enter email address","Email address to send to"),value:this.state.emailValue||"",rows:1})),i.a.createElement(l.L,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:c.a._("Add a message"),value:this.state.textValue||""}),i.a.createElement(l.b,{paddingY:1},i.a.createElement(l.c,{color:"red",onClick:function e(){return t.handleSendEmail(t.state.emailValue||"",t.state.textValue||"")},type:"submit",text:c.a._("Send"),disabled:!Object(u.g)(this.state.emailValue)}))))}}]),a}(r.Component)},LQXo:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"h",function(){return p}),n.d(t,"j",function(){return y}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return h}),n.d(t,"m",function(){return b}),n.d(t,"i",function(){return E}),n.d(t,"g",function(){return w}),n.d(t,"c",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"e",function(){return v});var r=170,o=236,a=24,i=2,c=125,u=16,s=25,l=14,d=16,f=25,p=function e(t){var n=16,r;t&&((t.v2ActivateExperiment("default_ssr_grid_num")||"").startsWith("enabled")&&(n=25));return n},m=function e(t){return t?170:o},h=function e(t,n,r){var o=16;return n&&(n.startsWith("enabled_25")?o=25:n.startsWith("enabled_all")&&r&&(o=r)),t?4:o},y=function e(t){return t?8:l},b=function e(t){return t?350:900},g=12,v=24,_=10,E=function e(t,n){return t?10:n?12:v},w=function e(t,n,r,o,a){var i=n+y(t),c,u=(o+1)*i-1,s;return"\n@media (min-width: ".concat(r*i,"px) and (max-width: ").concat(u,"px) {\n  ").concat(a,"\n}\n")}},LUz4:function(e,t,n){var r=n("KfVG"),o=n("OKnC"),a=n("Rzma"),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=i},LWNL:function(e,t,n){var o=n("lcvw");function r(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}e.exports=r},LnZt:function(e,t,n){var r=n("xlRZ");function o(e){return-1<r(this.__data__,e)}e.exports=o},LrFa:function(e,t,n){"use strict";var r=n("d6ZO"),E=n.n(r),o=n("DUIN"),a=n("BAXv"),i=n("GGB8"),w=n.n(i),O=n("W/Cr"),c=n("O+l2"),p=n.n(c),s=n("nM9s"),l=n("LQgx"),m=n("suNN");function h(e){var t={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return;case 1:return Object(m.b)(O.a._("{{ first }}"),t);case 2:return Object(m.b)(O.a._("{{ first }} and {{ second }}"),t);case 3:return Object(m.b)(O.a._("{{ first }}, {{ second }} and {{ third }}"),t);case 4:return Object(m.b)(O.a._("{{ first }}, {{ second }}, {{ third }} and {{ fourth }}"),t);case 5:return Object(m.b)(O.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}"),t);case 6:return Object(m.b)(O.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}"),t);default:return Object(m.b)(O.a._("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others"),t)}}var u=n("tmfO"),d=n("IaRT"),f=n.n(d),y=n("pOMZ"),b=n("L1Kv"),g=a.a.GEN.templateConst.settings.HELP_BLOCKING+"?source=block_dialogue";function v(e){return e.map(function(e){return E.a.createElement("span",{key:e.id},e.full_name)})}function _(e){var t=e.users,n=e.onClose,r=e.isLoading,o=e.onSubmit,a=E.a.createElement("strong",{key:"userlist"},h(v(t)));return E.a.createElement("form",{className:"standardForm",method:"post"},E.a.createElement("h1",null,O.a.ngettext("Block this person?","Block these people?",t.length,"Confirmation text when blocking users (plural)")),E.a.createElement("p",null,Object(m.b)(O.a._("If you block {{ users }}, you wont be able to follow  each other or interact with each others Pins.","description of blocking users"),{users:a}),E.a.createElement("br",null),E.a.createElement("br",null),E.a.createElement("a",{className:"external",href:g},O.a._("Learn more","link to learn more about blocking"))),E.a.createElement("div",{className:"formFooter"},E.a.createElement("div",{className:"formFooterButtons"},E.a.createElement(s.a,{className:"cancelButton",id:"cancelButton",onClick:n,text:O.a._("Cancel","cancel form")}),E.a.createElement(s.a,{className:"blockButton",htmlType:"submit",id:"submitButton",loading:r,onClick:o,text:O.a._("Block","submit form to block users"),type:"primary"}))))}var C=_,S=n("/e0Y"),k=n("THYI"),T=n.n(k),x=n("Cjb7");function j(e){var t=T.a.create("UserBlockResource",{blocked_user_id:e}),n="user_block";return t.callCreate().then(function(){S.a.trackEvent(n,"success"),x.b.publish(e,"userBlocked")},function(){S.a.trackEvent(n,"error")})}function I(e,t,n){var r=T.a.create(e.name,e.options);return r?r.callDelete().then(function(){return t&&S.a.trackEvent(t,"success"),n&&x.b.publish(n.id,n.topic,!0),Promise.resolve()},function(){return t&&S.a.trackEvent(t,"error"),Promise.reject(new Error(r.getName()+" failed to call callDelete()"))}):Promise.reject(new Error(r.getName()+" was not created"))}function D(e,t){var n,r;return I({name:"BoardCollaboratorResource",options:{board_id:e,invited_user_id:t,ban:!1}},"collaborator_delete_invite",{id:e,topic:"boardWriteAccessUpdated"})}var P=n("aWXG");function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return t&&M(e.prototype,t),n&&M(e,n),e}function L(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?z(e):t}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}function B(e,t){return(B=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=a.a.GEN.templateConst.settings.HELP_BLOCKING,V=a.a.GEN.templateConst.settings.ABOUT_ACCEPTABLE_USE,W="leaveAndUnfollowBoard",Y="leaveBoardAndBlockPinner";function K(e){var t=e.type,n=e.labelText,r=e.labelDescription,o=e.handleRadioUpdate;return E.a.createElement("label",{className:"blockAndUnfollowFormLabel",htmlFor:t,onChange:o,key:t},E.a.createElement("input",{id:t,name:"action",type:"radio",value:t}),E.a.createElement("div",{className:"flagReasonRadioButtonOuter"},E.a.createElement("div",{className:"flagReasonRadioButtonInner"})),E.a.createElement("div",{className:"labelWrapper"},n,E.a.createElement("span",{className:"labelDescription"},r)))}function Z(e){var t=e.id,n=e.value,r=e.labelText,o=e.labelDescription,a=e.handler;return E.a.createElement("label",{className:"blockAndUnfollowFormLabel",htmlFor:t,onChange:a,key:t},E.a.createElement("input",{id:t,name:"action",type:"checkbox",value:n}),E.a.createElement("span",{className:"uncheckedBox"},""),E.a.createElement("span",{className:"checkedBox"},""),E.a.createElement("div",{className:"labelWrapper"},r,E.a.createElement("span",{className:"labelDescription"},o)))}var q=function(e){function o(){var e,f;A(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return H(z(z(f=L(this,(e=N(o)).call.apply(e,[this].concat(n))))),"state",{userIdsToBlock:new Set,selectedRadio:null,selectedCheckboxes:new Set,isUnfollowSubflow:!1}),H(z(z(f)),"isFollowingBoard",f.props.board&&f.props.board.followed_by_me),H(z(z(f)),"isFollowingPinner",f.props.users[0]&&f.props.users[0].explicitly_followed_by_me),H(z(z(f)),"isBoardCollaboratedByMe",f.props.board&&f.props.board.collaborated_by_me),H(z(z(f)),"handleClose",function(){f.props.onClose()}),H(z(z(f)),"handleCloseUserBlock",function(){f.props.onFlowStatusChange({status:P.c.SELECTED})}),H(z(z(f)),"handleFlowStatusChange",function(e,t){f.props.onFlowStatusChange(e,t)}),H(z(z(f)),"handleUpdateUserIdsToBlock",function(e){var t=new Set(f.state.userIdsToBlock);e.target.checked?t.add(e.target.value):t.delete(e.target.value),f.setState({userIdsToBlock:t}),f.handleFlowStatusChange({status:0===t.size?P.c.STARTED:P.c.SELECTED})}),H(z(z(f)),"handleCheckboxUpdate",function(e){var t=new Set(f.state.selectedCheckboxes);e.target.checked?t.add(e.target.value):t.delete(e.target.value),f.setState({selectedCheckboxes:t}),f.handleFlowStatusChange({status:0===t.size?P.c.STARTED:P.c.SELECTED})}),H(z(z(f)),"handleRadioUpdate",function(e){var t=f.state.userIdsToBlock;"blockPinner"===e.target.value?t.add(f.props.users[0].id):t.delete(f.props.users[0].id),f.setState({selectedRadio:e.target.value,isUnfollowSubflow:e.target.value.match(/^unfollow/),userIdsToBlock:t},function(){f.handleFlowStatusChange({status:P.c.SELECTED})})}),H(z(z(f)),"handleSubmit",function(){var e=f.state.userIdsToBlock,t=function e(){};"unfollowPinner"===f.state.selectedRadio?t=f.unfollowPinner:"unfollowBoard"===f.state.selectedRadio?t=f.unfollowBoard:0<f.state.selectedCheckboxes.size&&(f.state.selectedCheckboxes.has(Y)&&e.add(f.props.users[0].id),f.state.selectedCheckboxes.has(W)&&(t=function e(){return Promise.all([f.leaveBoard(),f.unfollowBoard()])})),f.setState({userIdsToBlock:e},function(){f.handleFlowStatusChange({status:P.c.SUBMITTED},function(){t()})})}),H(z(z(f)),"unfollowPinner",function(){var e=f.props.unfollowUser;f.handleFlowStatusChange({status:P.c.PROCESSING},function(){e(f.props.users[0].id).then(function(){f.handleFlowStatusChange({status:P.c.COMPLETED})})})}),H(z(z(f)),"unfollowBoard",function(){var e=f.props.unfollowBoard;f.handleFlowStatusChange({status:P.c.PROCESSING},function(){e(f.props.board.id).then(function(){f.handleFlowStatusChange({status:P.c.COMPLETED})})})}),H(z(z(f)),"leaveBoard",function(){f.handleFlowStatusChange({status:P.c.PROCESSING},function(){D(f.props.board.id,f.props.viewer.id).then(function(){f.handleFlowStatusChange({status:P.c.COMPLETED})})})}),H(z(z(f)),"handleSubmitUserBlock",function(){return f.handleFlowStatusChange({status:P.c.PROCESSING}),Promise.all(Array.from(f.state.userIdsToBlock).map(function(e){return j(e)})).then(function(){if(f.state.selectedCheckboxes.has(Y))return Promise.all([f.leaveBoard(),f.unfollowBoard()])}).finally(function(){f.handleFlowStatusChange({status:P.c.COMPLETED})})}),H(z(z(f)),"renderBlockPinnerCheckbox",function(e,t){return Z({id:"blockPinner"+e.id,value:e.id,labelText:Object(m.b)(O.a._("Block {{ pinnerName }}","form option to block a pinner"),{pinnerName:e.full_name}),labelDescription:O.a._("You wont be able to send each other messages or interact with each others Pins.","explanation of blocking a user"),handler:t})}),H(z(z(f)),"renderUnfollowBoardRadio",function(){return K({type:"unfollowBoard",labelText:O.a._("Unfollow this board"),labelDescription:O.a._("If you want to stop seeing Pins from this board in your home feed"),handleRadioUpdate:f.handleRadioUpdate})}),H(z(z(f)),"renderUnfollowPinnerRadio",function(){var e=f.props.users;return K({type:"unfollowPinner",labelText:Object(m.b)(O.a._("Unfollow {{ pinnerName }}","form option to unfollow a pinner"),{pinnerName:e[0].full_name}),labelDescription:O.a._("If you want to stop seeing any of their Pins in your home feed"),handleRadioUpdate:f.handleRadioUpdate})}),H(z(z(f)),"renderBlockPinnerRadio",function(){var e=f.props.users;return K({type:"blockPinner",labelText:Object(m.b)(O.a._("Block {{ pinnerName }}","form option to block a pinner"),{pinnerName:e[0].full_name}),labelDescription:O.a._("You wont be able to follow each other or interact with each others Pins"),handleRadioUpdate:f.handleRadioUpdate})}),H(z(z(f)),"renderLeaveAndUnfollowBoardCheckbox",function(){return Z({id:W,value:W,labelText:O.a._("Leave and unfollow this group board","form option to leave a group board"),labelDescription:O.a._("You wont be able to Pin to it and you wont see Pins from it in your home feed"),handler:f.handleCheckboxUpdate})}),H(z(z(f)),"renderLeaveBoardBlockPinnerCheckbox",function(){var e=f.props.users;return Z({id:Y,value:Y,labelText:Object(m.b)(O.a._("Leave this group board and block {{ pinnerName }}","form option to block a pinner"),{pinnerName:e[0].full_name}),labelDescription:O.a._("You wont be able to follow each other or interact with each others Pins"),handler:f.handleCheckboxUpdate})}),H(z(z(f)),"renderBlockAndUnfollow",function(){var e=f.props,t=e.flagReason,n=e.selectedReason,r=e.users,o=e.flagType,a,i;"harassingOther"===n?a=Object(m.b)(O.a._("We remove content that identifies and attacks private people because we consider it to be bullying. We also dont allow content that reveal someones personally identifiable information.  Learn more about our  {{ communityGuidelines }}.","confirmation message after reporting harassment"),{communityGuidelines:E.a.createElement(u.b,{key:"policyLink",to:V},O.a._("Community Guidelines","link to community guidelines for harassment"))}):"harassingPublicFigure"===n?a=O.a._("Please note that we wont necessarily take down stuff that attacks public figures.","message shown after reporting harrassment"):"harassingFriend"===n?a=O.a._("Before we can review this Pin, we need to hear from the person whos being harassed. Please have your friend report this Pin to us.","message shown after reporting harrassment"):["spam","policies","hurtfulContent"].includes(t)&&(a=O.a._("Well take a look at this Pin and delete it if it goes against our policies.","confirmation message after reporting a pin")),i=f.isFollowingBoard&&f.isFollowingPinner?O.a._("You can also unfollow or block this person.","description to block or unfollow"):O.a.ngettext("You can also block this person.","You can also block these people.",r.length,"description to block people");var c=[];switch(o){case P.a.PIN:f.isBoardCollaboratedByMe?c=[f.renderLeaveAndUnfollowBoardCheckbox(),f.renderLeaveBoardBlockPinnerCheckbox()]:(f.isFollowingBoard&&c.push(f.renderUnfollowBoardRadio()),f.isFollowingPinner&&c.push(f.renderUnfollowPinnerRadio()),c.push(f.renderBlockPinnerRadio()));break;case P.a.CONVERSATION:c=r.map(function(e){return f.renderBlockPinnerCheckbox(e,f.handleUpdateUserIdsToBlock)});break;case P.a.DID_IT:c=r.map(function(e){return f.renderBlockPinnerCheckbox(e,f.handleUpdateUserIdsToBlock)});break;case P.a.COMMENT:c=r.map(function(e){return f.renderBlockPinnerCheckbox(e,f.handleUpdateUserIdsToBlock)})}return E.a.createElement("div",{className:"blockAndUnfollowFormContent"},E.a.createElement("div",{className:"modalDescription"},a?E.a.createElement("div",null,a,E.a.createElement("br",null),E.a.createElement("br",null)):null,i),c)}),H(z(z(f)),"renderTitle",function(){var e=f.props,t=e.status,n=e.users,r=e.detailedReasons,o=e.flagType,a=f.state,i=a.selectedCheckboxes,c=a.selectedRadio,u=a.userIdsToBlock;switch(o){case P.a.CONVERSATION:if(t!==P.c.COMPLETED)return O.a._("Thanks for your report","title at end of report flow");var s=n.filter(function(e){return f.state.userIdsToBlock.has(e.id)});return Object(m.b)(O.a._("Youve blocked {{usernames}}","title of modal after user has been blocked"),{usernames:h(v(s))});case P.a.PIN:var l;if(t!==P.c.COMPLETED)return 0<p()(r,["nudity","spam","hate-speech","self-harm","harassingMeOrMyChild","harassingMeOrAFriend","gore"]).length?O.a._("Thanks for your report","title at end of report flow"):f.boardCollaboratedByMe?O.a._("Leave this board or block this person?"):f.isFollowingBoard||f.isFollowingPinner?O.a._("Unfollow or block this person?"):O.a._("Block this person?");if("unfollowBoard"===c)return O.a._("Youve unfollowed this board","title confirming board unfollow");if("unfollowPinner"===c)return Object(m.b)(O.a._("Youve unfollowed {{ pinnerName }}","title confirming user unfollow"),{pinnerName:n[0].full_name});if(0<u.size){var d=n.filter(function(e){return u.has(e.id)});return Object(m.b)(O.a._("Youve blocked {{usernames}}","title of modal after user has been blocked"),{usernames:h(v(d))})}if(0<i.size)return O.a._("Youve left and unfollowed this board","title confirming board leave & unfollow")}}),H(z(z(f)),"renderCompletionMessage",function(){var e=f.props.users,t=f.state,n=t.selectedRadio,r=t.userIdsToBlock,o=t.selectedCheckboxes,a;return"unfollowBoard"===n?a=O.a._("You wont see Pins from this board in your home feed anymore.","message describing what unfollowing a board means"):"unfollowPinner"===n?a=Object(m.b)(O.a._("You wont see {{ username }} Pins in your home feed anymore.","message describing what unfollowing a pinner means"),{username:e[0].full_name}):0<r.size?a=O.a._("You wont be able to follow each other or interact with each others pins.","message describing what blocking means"):0<o.size&&(a=O.a._("You wont be able to save Pins to this board or see its Pins in your home feed anymore.","message describing leave/unfollow board")),E.a.createElement("span",{key:"blockingConfirmation"},a)}),H(z(z(f)),"renderPolicyLink",function(){var e;if(f.props.status!==P.c.COMPLETED)return E.a.createElement("p",{className:"helpText"},Object(m.b)(O.a._("Learn more about {{ linkToTopic }}","footer link to learn more about a topic"),{linkToTopic:E.a.createElement(u.b,{key:"policyLink",to:G},O.a._("blocking","footer link to learn more about blocking"))}))}),f}return U(o,e),F(o,[{key:"render",value:function e(){var t=this.props,n=t.status,r=t.users,o=this.state,a=o.isUnfollowSubflow,i=o.selectedCheckboxes,c,u;[P.c.STARTED,P.c.COMPLETED].includes(n)?c=E.a.createElement(s.a,{className:w()("doneButton","visible"),onClick:this.handleClose,style:{display:"block"},text:O.a._("Done","confirm reporting flow is done & close modal"),type:"primary"}):(u=0<i.size?O.a._("Leave","submit button"):this.state.isUnfollowSubflow?O.a._("Unfollow","submit board/user to unfollow"):O.a._("Block","submit users to block"),c=E.a.createElement(s.a,{className:w()("blockButton","visible"),onClick:this.handleSubmit,loading:[P.c.SUBMITTED,P.c.PROCESSING].includes(n),text:u,type:"primary"}));return E.a.createElement("form",{className:w()({standardForm:!0,BlockAndUnfollowForm:n!==P.c.COMPLETED,BlockAndUnfollowMessage:n!==P.c.COMPLETED,ConfirmDialog:n===P.c.COMPLETED,fluid:n===P.c.COMPLETED}),method:"post"},E.a.createElement("h1",null,this.renderTitle()),E.a.createElement("div",{className:w()("flagContent",{modalActionDescription:n===P.c.COMPLETED})},n!==P.c.COMPLETED?this.renderBlockAndUnfollow():this.renderCompletionMessage()),E.a.createElement("div",{className:"formFooter"},this.renderPolicyLink(),E.a.createElement("div",{className:"formFooterButtons"},c)),![P.c.SUBMITTED,P.c.PROCESSING].includes(n)||a&&!i.has(Y)?null:E.a.createElement(l.a,{className:w()("UserBlock"),onHide:this.handleCloseUserBlock},E.a.createElement(C,{isLoading:n===P.c.PROCESSING,onClose:this.handleCloseUserBlock,onSubmit:this.handleSubmitUserBlock,users:r})))}}]),o}(r.Component),X=function e(t,n){return{viewer:t.viewer}},Q=function e(n){return{unfollowBoard:function e(t){return n(Object(y.b)(t))},unfollowUser:function e(t){return n(Object(b.b)(t))}}},J=Object(o.connect)(X,Q)(q),$=n("gEaE");function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t,n){return t&&te(e.prototype,t),n&&te(e,n),e}function re(r){var o={},e=function e(n){var t;r[n].forEach(function(e){var t=e.value;if(Object.prototype.hasOwnProperty.call(o,t))throw new Error("Duplicate key in FlagOptions config: "+t);o[t]=e,o[t].parentOption=n})};for(var t in r)e(t);return o}function oe(e,n,t,r){var o=e.text,a=e.value,i=e.category;return E.a.createElement("label",{className:"flagReasonLabel",htmlFor:a,key:r},E.a.createElement($.b,{alignItems:"center",deprecatedPadding:2,display:"flex"},E.a.createElement($.B,{checked:t===a,id:a,onChange:function e(t){return n(t,a,i)},name:"flagReason",value:a}),E.a.createElement($.b,{deprecatedPadding:2},E.a.createElement($.K,{size:"sm"},o))))}function ae(e,r,o){return e.map(function(e,t){var n=e.condition;return void 0===n||n?oe(e,r,o,t):null})}var ie=function(){function t(e){ee(this,t),this.config=e,this.configMap=re(e)}return ne(t,[{key:"getFlagOption",value:function e(t){return this.configMap[t]}},{key:"renderFlagLabels",value:function e(t){var n=t.flagReason,r=t.onSelectReason,o=t.selectedReason;return ae(this.config[n],r,o)}}]),t}();function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t&&se(e.prototype,t),n&&se(e,n),e}function de(e,t){return!t||"object"!==ce(t)&&"function"!=typeof t?he(e):t}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}function me(e,t){return(me=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=a.a.GEN.templateConst.settings.ABOUT_ACCEPTABLE_USE,ge={contentContainer:{color:"#999",display:"table",fontSize:13,height:360,width:550},contents:{display:"table-cell",padding:"0 18px",textAlign:"center",verticalAlign:"middle"}},ve=function(e){function o(){var e,i;ue(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ye(he(he(i=de(this,(e=fe(o)).call.apply(e,[this].concat(n))))),"UNSAFE_componentWillUpdate",function(e){var t=i.props,n=t.flow,r=t.onCompletedReport,o=t.onCompletedBlock;if(e.flow!==n)switch(n){case P.b.REPORT:r&&r();break;case P.b.BLOCK:o&&o()}}),ye(he(he(i)),"flagOptions",new ie(i.props.flagOptionsConfig)),ye(he(he(i)),"handleClose",function(){i.props.onClose()}),ye(he(he(i)),"handleRevert",function(){i.props.onRevert&&i.props.onRevert()}),ye(he(he(i)),"handleNext",function(){i.props.onNext()}),ye(he(he(i)),"handleFlowStatusChange",function(e){var t=e.flow,n=void 0===t?i.props.flow:t,r=e.status,o=void 0===r?i.props.status:r,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};i.props.onFlowStatusChange({flow:n,status:o},a)}),ye(he(he(i)),"renderPolicyLink",function(){var e=i.props,t=e.flow,n=e.flagReason;if(t===P.b.REPORT){if("attacks"===n)return E.a.createElement("p",null,E.a.createElement($.K,{size:"xs"},Object(m.b)(O.a._("Learn more about our {{ linkToTopic }}","footer link to learn more about community guidelines"),{linkToTopic:E.a.createElement(u.b,{key:"policyLink",to:be},E.a.createElement($.K,{inline:!0,color:"red",size:"xs"},O.a._("Community Guidelines","name of footer link to community guidelines")))})));if("policies"===n)return E.a.createElement("p",null,E.a.createElement($.K,{size:"xs"},Object(m.b)(O.a._("Learn about {{ linkToTopic }}","footer link to learn more about a topic"),{linkToTopic:E.a.createElement(u.b,{key:"policyLink",to:be+"?collapsible-element=0"},E.a.createElement($.K,{inline:!0,color:"red",size:"xs"},O.a._("our nudity policies","name of footer link to policy")))})),E.a.createElement($.K,{size:"xs"},Object(m.b)(O.a._("Learn about {{ linkToTopic }}","footer link to learn more about a topic"),{linkToTopic:E.a.createElement(u.b,{key:"policyLink",to:be+"?collapsible-element=1"},E.a.createElement($.K,{inline:!0,color:"red",size:"xs"},O.a._("our policies on hurtful content","name of footer link to policy")))})),E.a.createElement($.K,{size:"xs"},Object(m.b)(O.a._("Learn about {{ linkToTopic }}","footer link to learn more about a topic"),{linkToTopic:E.a.createElement(u.b,{key:"policyLink",to:be+"?collapsible-element=5"},E.a.createElement($.K,{inline:!0,color:"red",size:"xs"},O.a._("our policies on gore","name of footer link to policy")))})));if("spam"===n||void 0===n)return E.a.createElement("p",{className:"helpText"},E.a.createElement($.K,{size:"xs"},Object(m.b)(O.a._("Learn about {{ linkToTopic }}","footer link to learn more about a topic"),{linkToTopic:E.a.createElement(u.b,{key:"policyLink",to:be},"spam"===n?O.a._("our spam policies","name of footer link to policy"):O.a._("our policies","name of footer link to policy"))})))}}),ye(he(he(i)),"renderContent",function(){var e=i.props,t=e.content,n=e.flow,r=e.onSelectReason,o=e.selectedReason;if(t)return t;if(n===P.b.REPORT)return i.flagOptions.renderFlagLabels({flagReason:i.props.flagReason||"__default",onSelectReason:r,selectedReason:o});if(n===P.b.BLOCK);else if(n===P.b.END)return E.a.createElement("span",{style:ge.contents},O.a._("Well use your feedback to make your Pinterest experience better.","final message in reporting flow"))}),i}return pe(o,e),le(o,[{key:"render",value:function e(){var t=this.props,n=t.aggregated_rich_data_type,r=t.className,o=t.flagType,a=t.flow,i=t.status,c=t.pin,u=t.selectedReason,s=t.detailedReasons,l=t.submitButton,d=t.flagReason,f=t.showPrimaryAction,p=t.title,m=t.users,h=t.board,y=n,b;if(!y&&c&&c.rich_metadata){var g=c.rich_metadata;["recipe","tutorial"].forEach(function(e){g[e]&&g[e].from_aggregated_data&&g[e].additional_data.url&&(b=g[y=e].additional_data.url)}),y&&b&&(this.extraData={aggregated_rich_data_type:y,rich_data_url:b})}var v=null,_;return a===P.b.REPORT&&(v=void 0===d?E.a.createElement($.c,{id:"cancelButton",onClick:this.handleClose,text:O.a._("Cancel","cancel form")}):E.a.createElement($.c,{id:"backButton",onClick:this.handleRevert,text:O.a._("Back","previous step in a form")})),a===P.b.REPORT?P.c.PROCESSING===i||this.flagOptions.getFlagOption(u)&&this.flagOptions.getFlagOption(u).isTerminalReason?_=l:f&&(_=E.a.createElement($.c,{color:"red",disabled:void 0===u,onClick:this.handleNext,text:O.a._("Next","go to the next view in the report flow")})):a===P.b.BLOCK||a===P.b.END&&(_=E.a.createElement($.c,{color:"red",onClick:this.handleClose,text:O.a._("Got it","confirm reporting flow is done & close modal")})),E.a.createElement("div",{className:w()(r,{FlagBase:a===P.b.REPORT})},a!==P.b.BLOCK?E.a.createElement("form",{className:"standardForm",method:"post"},E.a.createElement($.b,{deprecatedPadding:2},E.a.createElement($.m,{size:"sm"},p)),E.a.createElement("div",{className:w()("flagContent",{withBadRichDataLabel:y,modalActionDescription:a===P.b.BLOCK&&i===P.c.COMPLETED}),style:a===P.b.END||"IP"===d?ge.contentContainer:null},this.renderContent()),E.a.createElement("div",{className:"formFooter"},E.a.createElement($.b,{display:"flex",alignItems:"center"},E.a.createElement($.b,{flex:"grow"},this.renderPolicyLink()),E.a.createElement($.b,{deprecatedPadding:1},v),E.a.createElement($.b,{deprecatedPadding:1},_)))):E.a.createElement(J,{flagReason:d,flagType:o,selectedReason:u,flow:a,detailedReasons:s,status:i,onClose:this.handleClose,users:m,onFlowStatusChange:this.handleFlowStatusChange,board:h}))}}]),o}(r.Component),_e=t.a=ve},LvLd:function(e,t,n){"use strict";var x=n("d6ZO"),i=n.n(x),j=n("9Yua"),c=n("tmfO"),I=n("BO5H"),u=n("/rvR"),D=n("gEaE");function r(e){var t=e.createdAt,n=e.commentId,r=e.linkTimestamp,o=e.user,a=i.a.createElement(D.K,{color:"gray",size:"sm"},Object(u.i)(t));return i.a.createElement(D.b,{display:"flex",alignItems:"start",marginStart:-1,marginEnd:-1},i.a.createElement(D.b,{paddingX:1},i.a.createElement(c.b,{to:"/".concat(o.username,"/")},i.a.createElement(D.K,{bold:!0,size:"sm"},Object(I.i)(o)))),i.a.createElement(D.b,{paddingX:1},r?i.a.createElement(c.b,{to:"/community_comment/".concat(n,"/")},a):a))}var P=r,R=n("Fcab"),A=n("tCTl"),M=n("q3SD"),F=n("Wd7r"),L=n("2UVm"),m=n("3k35");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?y(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return g});var N={border:"1px solid transparent",borderRadius:"16px"},g=function(e){function o(){var e,p;a(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(y(y(p=d(this,(e=f(o)).call.apply(e,[this].concat(n))))),"renderEditMode",function(){var e=p.props,t=e.contentImage,n=e.contentImageSignature,r=e.contentText,o=e.handleOnEdited,a=e.handleOnEditCancel,i=e.hideAddObjects,c=e.parentObject,u=e.pins,s=e.tags,l=e.taggedUsers,d=e.type,f=e.viewerRoles;return x.createElement(m.a,{addedObjects:u,addedImage:t,hideAddObjects:i,imageSignature:n,objectType:d,onAddItem:function e(){},onCancelItem:a,onEditItem:o,onEnter:function e(){},parentObject:c,statusType:"textInFlightEdit",tags:s,taggedUsers:l,text:r,viewerRoles:f,widthAuto:!0})}),p}return p(o,e),l(o,[{key:"render",value:function e(){var t=this.props,n=t.avatarSize,r=t.authorUserRoles,o=t.createdAt,a=t.commentCount,i=t.commentId,c=t.commentAuthor,u=t.contentImage,s=t.contentText,l=t.cropImages,d=t.flyout,f=t.handleLikeClick,p=t.handlePinClick,m=t.handleReplyClick,h=t.handleReplyCountClick,y=t.hideReplyCount,b=t.inEditMode,g=t.isLikedByMe,v=t.linkTimestamp,_=t.pins,E=t.reactionCounts,w=t.tags,O=t.taggedUsers,C=t.handleLikeCountClick,S=t.truncateText,k=_&&0<_.length,T=u&&u.url;return x.createElement(D.b,{display:"flex"},x.createElement(D.b,{marginRight:2},x.createElement(j.a,{user:c,userRoles:r,size:n})),x.createElement(D.b,{flex:"grow"},x.createElement(D.b,{dangerouslySetInlineStyle:{__style:b?N:I.a},padding:b?0:3},b?this.renderEditMode():x.createElement(x.Fragment,null,x.createElement(P,{commentId:i,createdAt:o,linkTimestamp:v,user:c}),S?x.createElement(L.a,{text:s,tags:w,taggedUsers:O,size:"sm",allowReveal:!0}):x.createElement(F.a,{text:s,tags:w,taggedUsers:O,size:"sm"}),k&&p&&x.createElement(D.b,{marginTop:3},x.createElement(D.O,{mouseCursor:"zoomIn",onTouch:p},!!_&&x.createElement(R.a,{pin:_[0],hideBorder:!0}))),T&&u&&x.createElement(D.b,{marginTop:3},x.createElement(A.a,{contentText:s,fullSize:!l,image:u,linkToImage:!0})))),!b&&x.createElement(M.default,{commentCount:a,flyout:b?null:d,hideReplyCount:y,isLikedByMe:g,onLikeClick:f,onLikeCountClick:C,onReplyClick:m,onReplyCountClick:h,reactionCounts:E,small:!0})))}}]),o}(x.PureComponent);b(g,"defaultProps",{avatarSize:"sm",linkTimestamp:!1})},"MNy/":function(n,e,t){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}).call(e,t("5jJ4"))},N2jM:function(e,t){},N57z:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r,o=a(n("2cew"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(0,o.default)(e)?e.some(function(e){return e===t}):e===t}},N7CH:function(e,t,n){var r=n("FKtX"),o="__lodash_hash_undefined__",a,i=Object.prototype.hasOwnProperty;function c(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return i.call(t,e)?t[e]:void 0}e.exports=c},NRL7:function(e,t,n){var r,o=n("/SYo")(Object.getPrototypeOf,Object);e.exports=o},"O+l2":function(e,t,n){var r=n("ihZi"),o=n("hg+C"),a=n("qJu0"),i=n("kJ6e"),c=a(function(e){var t=r(e,i);return t.length&&t[0]===e[0]?o(t):[]});e.exports=c},"O/Ib":function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},OKnC:function(e,t,n){var r=n("6jS8"),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},OTgM:function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},"OtL/":function(e,t,n){"use strict";t.a=i;var r=n("pOmq"),o=n("mZ/m");function a(e,t){return{type:"AGGREGATED_COMMENT_HIDDEN",payload:{parentId:e,aggregatedCommentId:t}}}function i(e){var t=e.aggregatedCommentId,n=e.parentId;return function(e){e(a(t,n)),e(Object(r.a)({feedId:n,feedType:o.b.AGGREGATED_COMMENTS,itemIds:[t],itemType:"aggregatedcomment"}))}}},PME9:function(e,t){function n(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}e.exports=n},Q0Wc:function(e,t,n){var r=n("1FFh"),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},"QAg/":function(e,t,n){var o=n("o2yE");function r(e,t){var n=o(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}e.exports=r},Qs2K:function(e,t,n){var r,o=n("Wsxv")(Object.getPrototypeOf,Object);e.exports=o},Riwm:function(e,t,n){var r=n("y5wT"),o=n("tIfM"),a=n("XDmN"),i=n("d/m+"),c=n("4D9R");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=c,e.exports=u},Rzma:function(e,t){function n(e){return e}e.exports=n},RzoQ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r,o=p(n("Vu+K")),a,i=p(n("EOyg")),c,u=p(n("rihZ")),s,l=p(n("wuIk")),d,f=p(n("AXxc"));function p(e){return e&&e.__esModule?e:{default:e}}function m(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{dirtyHandlerIds:(0,l.default)(e.dirtyHandlerIds,t,e.dragOperation),dragOffset:(0,o.default)(e.dragOffset,t),refCount:(0,u.default)(e.refCount,t),dragOperation:(0,i.default)(e.dragOperation,t),stateId:(0,f.default)(e.stateId)}}},"S3+b":function(e,t,n){"use strict";n.d(t,"a",function(){return D}),n.d(t,"b",function(){return P});var r=n("d6ZO"),u=n.n(r),o=n("DUIN"),s=n("lip+"),l=n("W/Cr"),a=n("WBZ1"),i=n.n(a),d=n("KtTI"),c=n("MQ2h"),f=n.n(c),p=n("gEaE"),m=n("JyNp"),h=n("7IpV");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){k(t,e,n[e])})}return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function E(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?S(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=50,x=10,j=function(e){function a(){var e,o;g(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(S(S(o=E(this,(e=w(a)).call.apply(e,[this].concat(n))))),"setRef",function(e){e&&!o.list&&(o.list=e.parentElement,o.list&&o.list.addEventListener("scroll",o.handleScroll))}),k(S(S(o)),"fetchMore",function(){var e=o.props.feedResource;e.isFetching||(e.isAtEnd?window.removeEventListener("scroll",o.handleScroll):e.fetchMore())}),k(S(S(o)),"handleScroll",i()(function(){var e=o.props.feedResource;if(!e.isFetching&&!e.isAtEnd){var t=Object(h.a)(o.list),n,r;Object(h.c)(o.list)-Object(h.d)(o.list)-50<t&&o.fetchMore()}},10)),o}return O(a,e),_(a,[{key:"componentWillUnmount",value:function e(){this.list.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function e(){var n=this,t=this.props,r=t.feedResource,o=r.data,a=r.isLoaded,i=t.users;if(a&&o&&o.length){var c=o.map(function(e){return e.id?b({},e,i[e.id]):e});return u.a.createElement(s.a,null,function(t){return u.a.createElement("div",{style:{maxHeight:"400"},ref:n.setRef,"data-test-id":"liked-by-list"},c.map(function(e){return u.a.createElement(d.a,{isSelf:t.id&&e.id===t.id,className:"p2 communityItem",key:e.id,showFollow:!0,showName:!0,size:"medium",user:e,viewType:"thumb"})}))})}return u.a.createElement("div",{className:"loadingSpinner"},u.a.createElement(p.G,{accessibilityLabel:l.a._("Loading spinner for like list","Accessibility label for loading spinner for like list"),show:!0}))}}]),a}(r.Component),I=function e(t,n){return{users:t.users}},D=Object(c.compose)(Object(m.b)({name:"AggregatedCommentLikedByResource",options:function e(t){return{aggregatedCommentId:t.id}},key:"feedResource"}),Object(o.connect)(I))(j),P=Object(c.compose)(Object(m.b)({name:"DidItLikedByResource",options:function e(t){return{didItDataId:t.id}},key:"feedResource"}),Object(o.connect)(I))(j)},SXFK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r,f=a(n("8WEi")),o,p=a(n("fcWg"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=void 0,r=void 0,o=void 0,n=void 0,a=void 0,i=void 0,c=void 0,u;function s(){n&&(n(),n=null),t&&r&&(n=e.connectDragSource(t,r,o))}function l(){c&&(c(),c=null),t&&a&&(c=e.connectDragPreview(t,a,i))}function d(e){e!==t&&(t=e,s(),l())}return{receiveHandlerId:d,hooks:(0,f.default)({dragSource:function e(t,n){t===r&&(0,p.default)(n,o)||(r=t,o=n,s())},dragPreview:function e(t,n){t===a&&(0,p.default)(n,i)||(a=t,i=n,l())}})}}},SeRx:function(e,t,n){"use strict";var S=n("d6ZO"),h=n.n(S),r=n("DUIN"),k=n("3k35"),a=n("5tOk"),i=n("kv+N"),s=n("pf5e"),T=n("LvLd"),c=n("Fm/v"),x=n("W/Cr"),l=n("LQgx"),d=n("R6a3"),f=n("S3+b"),j=n("XDj/"),o=n("jxTn"),u=n("IG7N"),p=n("OtL/");function m(e,t){return{type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:t,id:e}}}function y(e){return m(e,!1)}function b(e){return m(e,!0)}var g=void 0,v=n("zAVW"),_=n("MQ2h"),E=n.n(_),I=n("gEaE");function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function P(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?F(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function A(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=48,U=function(e){function o(){var e,u;O(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return L(F(F(u=P(this,(e=R(o)).call.apply(e,[this].concat(n))))),"state",{inEditMode:!1,isLoadingNewCreatedComment:!1,renderActiveModal:function e(){},showReplyComposer:!1}),L(F(F(u)),"componentDidMount",function(){u.parentObjectTemp.id=u.props.parentObjectId}),L(F(F(u)),"parentObjectTemp",{}),L(F(F(u)),"handleClickLike",function(){var e=u.props,t=e.aggregatedCommentId,n=e.comment.reaction_by_me,r;(0,e.toggleLikeComment)({aggregatedCommentId:t,isLikedByMe:!!n})}),L(F(F(u)),"toggleReplyComposer",function(){return u.setState({showReplyComposer:!u.state.showReplyComposer})}),L(F(F(u)),"handleAddComment",function(e){var t=u.props,n=t.aggregatedCommentId,r=t.createComment,o=t.incrementCommentCount,a=t.parentObjectId,i,c=n;u.toggleReplyComposer(),u.setState({isLoadingNewCreatedComment:!0}),u.isReply&&(c=a,i=n),r({objectType:j.a.aggregatedComment,objectId:c,tags:e.tags,text:e.contentMarkdown,replyToCommentId:i}).then(function(){o(u.isReply?a:n),u.setState({isLoadingNewCreatedComment:!1})})}),L(F(F(u)),"handleDelete",function(){var e=u.props,t=e.aggregatedCommentId,n=e.decrementCommentCount,r=e.deleteComment,o=e.updateRootItemCommentCount,a=e.parentObjectId;r({aggregatedCommentId:t,parentId:a}),o&&o(-1),u.isReply&&n(a)}),L(F(F(u)),"handleOnEdit",function(){u.setState({inEditMode:!0})}),L(F(F(u)),"handleOnEdited",function(e){var t=u.props,n=t.aggregatedCommentId,r=t.updateComment;u.setState({inEditMode:!1}),r({commentId:n,tags:e.tags,text:e.contentMarkdown})}),L(F(F(u)),"handleOnEditCancel",function(){u.setState({inEditMode:!1})}),L(F(F(u)),"handleSubmitReport",function(){var e=u.props,t=e.aggregatedCommentId,n,r;(0,e.hideComment)({parentId:e.parentObjectId,aggregatedCommentId:t})}),L(F(F(u)),"updateLikesCount",function(e,t){return t?e-1:e+1}),L(F(F(u)),"showConfirmDeleteModal",function(){u.setState({renderActiveModal:u.renderConfirmDeleteModal})}),L(F(F(u)),"showLikeListModal",function(){u.setState({renderActiveModal:u.renderLikeListModal})}),L(F(F(u)),"showReportModal",function(){u.setState({renderActiveModal:u.renderReportModal})}),L(F(F(u)),"hideModal",function(){u.setState({renderActiveModal:function e(){}})}),L(F(F(u)),"renderFlyout",function(){var e=u.props,t=e.comment.user.id,n=e.didItOwnerId,r=e.pinDomainOwnerId,o=e.viewerId,a=o===t||o===n||o===r,i=o===t,c=o!==t;return S.createElement(s.a,{handleClickReport:c?u.showReportModal:null,handleDelete:a?u.showConfirmDeleteModal:null,handleOnEdit:i?u.handleOnEdit:null,small:!0})}),L(F(F(u)),"renderConfirmDeleteModal",function(){return S.createElement(i.a,{accessibilityModalLabel:x.a._("Deleting a comment","Label for deleting a comment"),heading:x.a._("Are you sure?","Are you sure to remove post or comment"),cancelButtonText:x.a._("Cancel","Cancel deleting comment"),confirmButtonText:x.a._("Delete","Delete comment"),detail:x.a._("This comment will be deleted","confirmation before deleting comment"),onConfirm:u.handleDelete,onDismiss:u.hideModal})}),L(F(F(u)),"renderLikeListModal",function(){var e=u.props,t=e.aggregatedCommentId,n,r=e.comment.reaction_counts[1];return S.createElement(d.a,{accessibilityCloseLabel:x.a._("close","accessible label for button to close modal"),accessibilityModalLabel:x.a._("Users who have liked this.","Label for a modal showing a list of users who have liked a Tried Item Comment"),heading:a.h(x.a.ngettext("{{count}} Like","{{count}} Likes",r),{count:r.toString()}),onDismiss:u.hideModal,size:"md"},S.createElement(f.a,{id:t}),",")}),L(F(F(u)),"renderReportModal",function(){var e=u.props,t=e.aggregatedCommentId,n=e.comment.user,r=e.isManagedView;return S.createElement(l.a,null,S.createElement(c.a,{resourceName:"AggregatedCommentFlagResource",resourceOptions:{commentId:t},onClose:u.hideModal,onCompletedBlock:u.handleSubmitReport,onCompletedReport:u.handleSubmitReport,users:[n],isManagedView:r}))}),u}return A(o,e),D(o,[{key:"render",value:function e(){if(!this.props.comment)return null;var t=this.props,n=t.aggregatedCommentId,r=t.comment,o=r.comment_count,a=r.created_at,i=r.reaction_by_me,c=r.reaction_counts,u=r.tags,s=r.tagged_users,l=r.text,d=r.user.full_name,f=t.didItOwnerId,p=t.comment,m=t.depth,h=t.parentObjectId,y=t.pinDomainOwnerId,b=t.isManagedView,g=this.state,v=g.inEditMode,_=g.isLoadingNewCreatedComment,E=g.renderActiveModal,w=g.showReplyComposer,O=0<o,C=this.isReply?0:48;return S.createElement(S.Fragment,null,S.createElement(T.a,{avatarSize:this.isReply?"sm":"md",commentCount:o,contentText:l,flyout:this.renderFlyout(),handleOnEditCancel:this.handleOnEditCancel,handleOnEdited:this.handleOnEdited,handleLikeClick:this.handleClickLike,handleLikeCountClick:this.showLikeListModal,handleReplyClick:this.toggleReplyComposer,hideAddObjects:!0,hideReplyCount:!0,inEditMode:v,isLikedByMe:!!i,parentObject:this.parentObjectTemp,reactionCounts:c,taggedUsers:s,tags:u,truncateText:!0,commentId:n,createdAt:a,commentAuthor:p.user,type:j.a.aggregatedComment}),w&&S.createElement(I.b,{dangerouslySetInlineStyle:{__style:{paddingLeft:C}},"data-test-id":"reply-composer"},S.createElement(I.b,{display:"flex",marginTop:2},S.createElement(I.b,{flex:"grow"},S.createElement(k.a,{avatarSize:"sm",hideAddObjects:!0,onAddItem:this.handleAddComment,onCancelItem:this.toggleReplyComposer,onEnter:function e(){},objectType:j.a.aggregatedComment,parentObject:this.parentObjectTemp,replyToObject:this.isReply?p:null,statusType:"textInflightCreation"})))),O&&S.createElement(I.b,{dangerouslySetInlineStyle:{__style:{paddingLeft:48}}},S.createElement(se,{replyToName:d,didItOwnerId:f,commentCount:o,objectType:j.a.aggregatedComment,objectId:n,depth:m,comment:p,parentObjectId:h,pinDomainOwnerId:y,isManagedView:b}),S.createElement(I.G,{accessibilityLabel:x.a._("Comments loading"),show:_})),E())}},{key:"isReply",get:function e(){var t;return this.props.depth===ae}}]),o}(S.PureComponent),B=function e(t,n){return{createComment:Object(_.bindActionCreators)(o.a,t),deleteComment:Object(_.bindActionCreators)(u.a,t),incrementCommentCount:Object(_.bindActionCreators)(b,t),decrementCommentCount:Object(_.bindActionCreators)(y,t),toggleLikeComment:Object(_.bindActionCreators)(v.a,t),updateComment:Object(_.bindActionCreators)(v.b,t),hideComment:Object(_.bindActionCreators)(p.a,t)}},z=Object(_.compose)(Object(r.connect)(function(e,t){var n;return{comment:e.aggregatedComments[t.aggregatedCommentId]}},B))(U),H=n("lip+"),G=n("4WA0"),V=n("suNN"),W=n("woYD"),Y=n("JyNp"),K=n("mZ/m");function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}function J(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?ne(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}function te(e,t){return(te=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",function(){return ae}),n.d(t,"a",function(){return ue}),n.d(t,"d",function(){return se}),n.d(t,"b",function(){return le});var oe=2,ae=2,ie=function(e){function o(){var e,s;q(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return re(ne(ne(s=J(this,(e=$(o)).call.apply(e,[this].concat(n))))),"state",{inCreationMode:!1,isLoadingNewCreatedComment:!1}),re(ne(ne(s)),"handleAddComment",function(e){var t=s.props,n=t.createComment,r=t.objectId,o=t.objectType,a=t.updateRootItemCommentCount,i=t.pinId;s.toggleCreationMode(),s.setState({isLoadingNewCreatedComment:!0}),n({objectType:o,objectId:r,pinId:i,tags:e.tags,text:e.contentMarkdown}).then(function(){return s.setState({isLoadingNewCreatedComment:!1})}),a&&a(1),o===j.a.pin&&Object(W.a)(7,{objectId:s.props.pinId})}),re(ne(ne(s)),"toggleCreationMode",function(){return s.setState({inCreationMode:!s.state.inCreationMode})}),re(ne(ne(s)),"renderComments",function(){var e=s.props,r=e.didItOwnerId,o=e.depth,t=e.feedItems,n=e.feedResource.isLoaded,a=e.updateRootItemCommentCount,i=e.pinDomainOwnerId,c=e.isManagedView,u=s.state.isLoadingNewCreatedComment;return h.a.createElement(I.b,null,t&&0<t.length&&h.a.createElement(H.a,null,function(n){return h.a.createElement(I.b,null,t.map(function(e,t){return h.a.createElement(I.b,{marginBottom:2,key:e.id},h.a.createElement(z,{aggregatedCommentId:e.id,didItOwnerId:r,updateRootItemCommentCount:a,viewerId:n.id,pinDomainOwnerId:i,depth:o+1,parentObjectId:s.props.objectId,isManagedView:c}))}))}),h.a.createElement(I.G,{accessibilityLabel:x.a._("Comments loading"),show:!n||u}))}),re(ne(ne(s)),"renderLeaveAComment",function(){var e=s.props.objectType,t=s.state.inCreationMode;return h.a.createElement(I.b,{display:"flex",marginTop:6},h.a.createElement(I.b,{flex:"grow"},h.a.createElement(k.a,{hideAddObjects:!0,onAddItem:s.handleAddComment,onCancelItem:s.toggleCreationMode,onEnter:s.toggleCreationMode,objectType:e,onAddPinModeChange:function e(){},parentObject:{},replyToObject:null,statusType:t?"textInflightCreation":"textStaticDisplay"})))}),s}return ee(o,e),Q(o,[{key:"render",value:function e(){var t=this.props,n=t.commentCount,r=t.feedItems,o=t.feedResource,a=o.isLoaded,i=o.isAtEnd,c=o.fetchMore,u=t.objectType,s=t.isManagedView,l=!!r&&a&&n>r.length&&!i,d=r?n-r.length:0,f=Object(V.b)(x.a.ngettext("{{commentCount}} comment","{{commentCount}} comments",d,"Show comments link with count"),{commentCount:String(d)}),p=u===j.a.aggregatedComment,m=u===j.a.pin&&r&&0===r.length&&a;return h.a.createElement(I.b,{column:12,marginTop:p?2:0,paddingY:p?0:2},this.renderComments(),l&&h.a.createElement(I.b,{marginTop:3},h.a.createElement(G.a,{text:f,handleClick:c})),
m&&h.a.createElement(I.b,{paddingY:2},h.a.createElement(I.K,null,x.a._("Share feedback, ask a question or give a high five"))),u!==j.a.aggregatedComment&&!s&&this.renderLeaveAComment())}}]),o}(S.Component);re(ie,"defaultProps",{reverseOrder:!1,depth:0});var ce=function e(t,n){return{createComment:Object(_.bindActionCreators)(o.a,t),updateComment:Object(_.bindActionCreators)(v.b,t)}},ue=Object(_.compose)(Object(r.connect)(function(e,t){var n=e.feeds[K.b.AGGREGATED_COMMENTS],r,o;return{feedItems:(void 0===n?{}:n)[t.objectId]||[]}},ce),Object(Y.b)({name:"AggregatedCommentResource",key:"feedResource",options:function e(t){return{objectId:t.objectId,page_size:t.initialLoadCount||2,redux_normalize_feed:!0}}}))(ie),se=Object(_.compose)(Object(r.connect)(function(e,t){var n=e.feeds[K.b.AGGREGATED_COMMENTS],r,o;return{feedItems:(void 0===n?{}:n)[t.objectId]||[]}},ce),Object(Y.b)({name:"AggregatedCommentReplyResource",key:"feedResource",options:function e(t){return{objectId:t.objectId,page_size:t.initialLoadCount||2,redux_normalize_feed:!0}}}))(ie),le=Object(_.compose)(Object(r.connect)(function(e,t){var n=e.feeds[K.b.AGGREGATED_COMMENTS],r,o;return{feedItems:(void 0===n?{}:n)[t.objectId]||[]}},ce),Object(Y.b)({name:"DidItCommentsResource",key:"feedResource",options:function e(t){return{objectId:t.objectId,page_size:t.initialLoadCount||2,redux_normalize_feed:!0}}}))(ie)},Sqw4:function(e,t,n){var o=n("e/71"),a=Object.prototype,i=a.hasOwnProperty;function r(e,t,n,r){return void 0===e||o(e,a[n])&&!i.call(r,n)?t:e}e.exports=r},Svvu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("hlP+"),o=n.n(r),u=n("BVzu"),a=n("XZ9g"),s=n.n(a),i=n("/4D9"),l=n.n(i),d=n("W/Cr"),f=n("DLm7"),p=n("EAiy"),c;function m(){}Object.assign(m.prototype,o.a),Object.assign(m.prototype,{connect:function e(a,i){var c=this;(i=Object.assign({},{success:function e(){},error:function e(){},complete:function e(){}},i)).rerequest_facebook_email?l()().then(function(e){var t;e.default.ensureInit(function(e){e.login(function(e){var t=e.authResponse,n,r;t&&(n=(n=t.grantedScopes)?n.split(","):[],r=t.userID);var o=n.find(function(e){return"email"===e}),a={id:r};"connected"===e.status&&o?i.success(a):i.error(a),i.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},p.a)}):s()().then(function(e){var t,n=e.default.getWindowOptions(),r=window.open("/connect/"+a+"/","",n);if(!r)return u.default.showError(d.a._("You must enable popups!")),void i.error({network:a,alertedUpstream:!0});var o=f.a.setInterval(function(){r.closed&&(clearInterval(o),c.handleComplete({network:a,error_message:"Window closed."}))},1e3);c.once("connect:"+a,function(e){clearInterval(o),e.error_message?i.error(e):i.success(e),i.complete()})})},complete:function e(t){this.handleComplete(t)},handleComplete:function e(t){var n="connect:"+t.network,r;if("facebook"===t.network){var o=t.id;o&&"string"!=typeof o&&(t.error_message="Facebook id must be of string type")}this.trigger(n,t)}}),Object.assign(m,{instance:function e(){return c||(c=new m),c},FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy"}),window.addEventListener("message",function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&"social-connect-complete"===e.data.type&&m.instance().complete(e.data)}),t.default=m},"T/tJ":function(e,t,n){var r=n("r+iz"),o=n("wZ3m");function a(e){return null!=e&&o(e.length)&&!r(e)}e.exports=a},T3ji:function(e,t,n){var r=n("n/NP"),o="__lodash_hash_undefined__",a,i=Object.prototype.hasOwnProperty;function c(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return i.call(t,e)?t[e]:void 0}e.exports=c},TCnH:function(e,t,n){var r=n("5vge"),o=n("qPK+"),a="[object Arguments]";function i(e){return o(e)&&r(e)==a}e.exports=i},"Tgy+":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o,a=m(n("p9aX")),i,c=m(n("mRSq")),u,s=m(n("qcCN")),l=n("tacu"),_=n("GtMa"),E=n("Fk06"),d,f=p(n("XYyz"));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y=function(){function t(e){h(this,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.context=e.getContext(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new s.default,this.dragStartSourceIds=[],this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.altKeyPressed=!1,this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this),this.endDragNativeItem=this.endDragNativeItem.bind(this),this.asyncEndDragNativeItem=this.asyncEndDragNativeItem.bind(this),this.isNodeInDocument=this.isNodeInDocument.bind(this)}return r(t,[{key:"setup",value:function e(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function e(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"addEventListeners",value:function e(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function e(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"connectDragPreview",value:function e(t,n,r){var o=this;return this.sourcePreviewNodeOptions[t]=r,this.sourcePreviewNodes[t]=n,function(){delete o.sourcePreviewNodes[t],delete o.sourcePreviewNodeOptions[t]}}},{key:"connectDragSource",value:function e(n,t,r){var o=this;this.sourceNodes[n]=t,this.sourceNodeOptions[n]=r;var a=function e(t){return o.handleDragStart(t,n)},i=function e(t){return o.handleSelectStart(t,n)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",a),t.addEventListener("selectstart",i),function(){delete o.sourceNodes[n],delete o.sourceNodeOptions[n],t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",i),t.setAttribute("draggable",!1)}}},{key:"connectDropTarget",value:function e(n,t){var r=this,o=function e(t){return r.handleDragEnter(t,n)},a=function e(t){return r.handleDragOver(t,n)},i=function e(t){return r.handleDrop(t,n)};return t.addEventListener("dragenter",o),t.addEventListener("dragover",a),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",o),t.removeEventListener("dragover",a),t.removeEventListener("drop",i)}}},{key:"getCurrentSourceNodeOptions",value:function e(){var t=this.monitor.getSourceId(),n=this.sourceNodeOptions[t];return(0,a.default)(n||{},{dropEffect:this.altKeyPressed?"copy":"move"})}},{key:"getCurrentDropEffect",value:function e(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function e(){var t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions[t];return(0,a.default)(n||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})}},{key:"getSourceClientOffset",value:function e(t){return(0,_.getNodeClientOffset)(this.sourceNodes[t])}},{key:"isDraggingNativeItem",value:function e(){var t=this.monitor.getItemType();return Object.keys(f).some(function(e){return f[e]===t})}},{key:"beginDragNativeItem",value:function e(t){this.clearCurrentDragSourceNode();var n=(0,E.createNativeDragSource)(t);this.currentNativeSource=new n,this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle]),(0,l.isFirefox)()&&this.window.addEventListener("mouseover",this.asyncEndDragNativeItem,!0)}},{key:"asyncEndDragNativeItem",value:function e(){this.asyncEndDragFrameId=this.window.requestAnimationFrame(this.endDragNativeItem),(0,l.isFirefox)()&&(this.window.removeEventListener("mouseover",this.asyncEndDragNativeItem,!0),this.enterLeaveCounter.reset())}},{key:"endDragNativeItem",value:function e(){this.isDraggingNativeItem()&&(this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)}},{key:"isNodeInDocument",value:function e(t){return!(!document.body.contains(t)&&!this.window)&&this.window.document.body.contains(t)}},{key:"endDragIfSourceWasRemovedFromDOM",value:function e(){var t=this.currentDragSourceNode;this.isNodeInDocument(t)||this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"setCurrentDragSourceNode",value:function e(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t,this.currentDragSourceNodeOffset=(0,_.getNodeClientOffset)(t),this.currentDragSourceNodeOffsetChanged=!1,this.window.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}},{key:"clearCurrentDragSourceNode",value:function e(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),!0)}},{key:"checkIfCurrentDragSourceRectChanged",value:function e(){var t=this.currentDragSourceNode;return!!t&&(!!this.currentDragSourceNodeOffsetChanged||(this.currentDragSourceNodeOffsetChanged=!(0,c.default)((0,_.getNodeClientOffset)(t),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged))}},{key:"handleTopDragStartCapture",value:function e(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]}},{key:"handleDragStart",value:function e(t,n){this.dragStartSourceIds.unshift(n)}},{key:"handleTopDragStart",value:function e(t){var n=this,r=this.dragStartSourceIds;this.dragStartSourceIds=null;var o=(0,_.getEventClientOffset)(t);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(r,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});var a=t.dataTransfer,i=(0,E.matchNativeItemType)(a);if(this.monitor.isDragging()){if("function"==typeof a.setDragImage){var c=this.monitor.getSourceId(),u=this.sourceNodes[c],s=this.sourcePreviewNodes[c]||u,l=this.getCurrentSourcePreviewNodeOptions(),d,f,p,m,h={anchorX:l.anchorX,anchorY:l.anchorY},y={offsetX:l.offsetX,offsetY:l.offsetY},b=(0,_.getDragPreviewOffset)(u,s,o,h,y);a.setDragImage(s,b.x,b.y)}try{a.setData("application/json",{})}catch(e){}var g,v;this.setCurrentDragSourceNode(t.target),this.getCurrentSourcePreviewNodeOptions().captureDraggingState?this.actions.publishDragSource():setTimeout(function(){return n.actions.publishDragSource()})}else if(i)this.beginDragNativeItem(i);else{if(!(a.types||t.target.hasAttribute&&t.target.hasAttribute("draggable")))return;t.preventDefault()}}},{key:"handleTopDragEndCapture",value:function e(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"handleTopDragEnterCapture",value:function e(t){var n;if(this.dragEnterTargetIds=[],this.enterLeaveCounter.enter(t.target)&&!this.monitor.isDragging()){var r=t.dataTransfer,o=(0,E.matchNativeItemType)(r);o&&this.beginDragNativeItem(o)}}},{key:"handleDragEnter",value:function e(t,n){this.dragEnterTargetIds.unshift(n)}},{key:"handleTopDragEnter",value:function e(t){var n=this,r=this.dragEnterTargetIds,o;(this.dragEnterTargetIds=[],this.monitor.isDragging())&&(this.altKeyPressed=t.altKey,(0,l.isFirefox)()||this.actions.hover(r,{clientOffset:(0,_.getEventClientOffset)(t)}),r.some(function(e){return n.monitor.canDropOnTarget(e)})&&(t.preventDefault(),t.dataTransfer.dropEffect=this.getCurrentDropEffect()))}},{key:"handleTopDragOverCapture",value:function e(){this.dragOverTargetIds=[]}},{key:"handleDragOver",value:function e(t,n){this.dragOverTargetIds.unshift(n)}},{key:"handleTopDragOver",value:function e(t){var n=this,r=this.dragOverTargetIds,o;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return t.preventDefault(),void(t.dataTransfer.dropEffect="none");this.altKeyPressed=t.altKey,this.actions.hover(r,{clientOffset:(0,_.getEventClientOffset)(t)}),r.some(function(e){return n.monitor.canDropOnTarget(e)})?(t.preventDefault(),t.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(t.preventDefault(),t.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(t.preventDefault(),t.dataTransfer.dropEffect="move")}},{key:"handleTopDragLeaveCapture",value:function e(t){var n;this.isDraggingNativeItem()&&t.preventDefault(),this.enterLeaveCounter.leave(t.target)&&this.isDraggingNativeItem()&&this.endDragNativeItem()}},{key:"handleTopDropCapture",value:function e(t){this.dropTargetIds=[],t.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(t.dataTransfer),this.enterLeaveCounter.reset()}},{key:"handleDrop",value:function e(t,n){this.dropTargetIds.unshift(n)}},{key:"handleTopDrop",value:function e(t){var n=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(n,{clientOffset:(0,_.getEventClientOffset)(t)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()}},{key:"handleSelectStart",value:function e(t){var n=t.target;"function"==typeof n.dragDrop&&("INPUT"===n.tagName||"SELECT"===n.tagName||"TEXTAREA"===n.tagName||n.isContentEditable||(t.preventDefault(),n.dragDrop()))}},{key:"window",get:function e(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}}]),t}();t.default=y},"Tq+y":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o,i=r(n("wncH")),c=function(){function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a(this,o),Array.isArray(t[0])&&1===t.length&&(t=t[0]);for(var r=0;r<t.length;r++)if(!i.default(t[r]))throw new Error("Expected a disposable");this.disposables=t,this.isDisposed=!1}return o.prototype.add=function e(t){this.isDisposed?t.dispose():this.disposables.push(t)},o.prototype.remove=function e(t){if(this.isDisposed)return!1;var n=this.disposables.indexOf(t);return-1!==n&&(this.disposables.splice(n,1),t.dispose(),!0)},o.prototype.dispose=function e(){if(!this.isDisposed){for(var t=this.disposables.length,n=new Array(t),r=0;r<t;r++)n[r]=this.disposables[r];this.isDisposed=!0,this.disposables=[];for(var r=this.length=0;r<t;r++)n[r].dispose()}},o}();t.default=c,e.exports=t.default},U03j:function(e,t,n){"use strict";var r=n("CGTb"),o=[],a=[],i=r.makeRequestCallFromTimer(c);function c(){if(a.length)throw a.shift()}function u(e){var t;(t=o.length?o.pop():new s).task=e,r(t)}function s(){this.task=null}e.exports=u,s.prototype.call=function(){try{this.task.call()}catch(e){u.onerror?u.onerror(e):(a.push(e),i())}finally{this.task=null,o[o.length]=this}}},UVpX:function(e,t,n){"use strict";var o=n("hVsM"),a=n("SnoN"),i=n("BVzu"),c=n("kqYA"),u=n("ZIw6"),s=n("/e0Y"),l=n("W/Cr"),d=n("85jk"),f=n("EAiy"),p="publish_actions",m={checkFbTimelinePermission:function(o){var e=function e(t){t.api("/me/permissions",function(e){var t=e.data,n=!1,r;t&&(n=!!t.find(function(e){return e.permission===p&&"granted"===e.status}));n?o.success&&o.success():o.error&&o.error()})};c.default.ensureInit(e,f.a)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;var n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(n,r){c.default.ensureInit(function(e){var t;if(!m.fbConnectedAccountMatchesLoggedInAccount(e,r))return i.default.showError(l.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),n.error&&n.error(),void(n.complete&&n.complete());m.checkFbTimelinePermission({success:function e(){n.success&&n.success(),n.complete&&n.complete()},error:function e(){m.fbLogin(n)}})},f.a)},fbLogin:function(t){c.default.ensureInit(function(e){e.login(function(e){e.authResponse?m.checkFbTimelinePermission(t):t.error&&t.error(),t.complete&&t.complete()},{scope:p})},f.a)},shareFb:function(t){var e=t.ga_category||"share_facebook";s.a.trackEvent(e,"click");var n=t.dialog_options||{};n.callback=function(){var e=o.a.fromEventType(1300);t.object_id&&e.setObjectIdStr(t.object_id),a.a.getInstance().addEvent(e)};var r=n.object_type;r&&Object(d.a)("facebook_share_dialog_open_"+r),u.default.open(n)},getLocaleString:function(e){var t=e;switch(t=t.replace(/-/g,"_")){case"de":t="de_DE";break;case"fr":t="fr_FR";break;case"it":t="it_IT";break;case"ja":t="ja_JP";break;case"nl":t="nl_NL";break;case"tr":t="tr_TR";break;case"en_AU":t="en_US";break;case"es_419":case"es_AR":t="es_LA"}return t}};t.a=m},"UZ+0":function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},Udu8:function(e,t,n){var r=n("n/NP"),o="__lodash_hash_undefined__";function a(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}e.exports=a},UziA:function(e,t,n){var r=n("pWXS"),o=n("Qs2K"),a=n("nKu0"),i="[object Object]",c=Function.prototype,u=Object.prototype,s=c.toString,l=u.hasOwnProperty,d=s.call(Object);function f(e){if(!a(e)||r(e)!=i)return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==d}e.exports=f},V4Pm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSource=c,t.addTarget=u,t.removeSource=s,t.removeTarget=l;var r=t.ADD_SOURCE="dnd-core/ADD_SOURCE",o=t.ADD_TARGET="dnd-core/ADD_TARGET",a=t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",i=t.REMOVE_TARGET="dnd-core/REMOVE_TARGET";function c(e){return{type:r,sourceId:e}}function u(e){return{type:o,targetId:e}}function s(e){return{type:a,sourceId:e}}function l(e){return{type:i,targetId:e}}},VEAl:function(e,t,n){var p=n("qhGZ"),m=n("FRu4"),h=n("BtHP"),y=n("4e9l"),b=n("4SkS"),g=n("YEB8"),r=200;function o(e,t,n,r){var o=-1,a=m,i=!0,c=e.length,u=[],s=t.length;if(!c)return u;n&&(t=y(t,b(n))),r?(a=h,i=!1):200<=t.length&&(a=g,i=!1,t=new p(t));e:for(;++o<c;){var l=e[o],d=null==n?l:n(l);if(l=r||0!==l?l:0,i&&d==d){for(var f=s;f--;)if(t[f]===d)continue e;u.push(l)}else a(t,d,r)||u.push(l)}return u}e.exports=o},VZq6:function(e,t,n){var y=n("1aiB"),b=n("YR4u"),g=n("PME9"),v=n("vx+O"),_=n("KBuc"),E=n("6qFz"),w=Math.min;function r(e,t,n){for(var r=n?g:b,o=e[0].length,a=e.length,i=a,c=Array(a),u=1/0,s=[];i--;){var l=e[i];i&&t&&(l=v(l,_(t))),u=w(l.length,u),c[i]=!n&&(t||120<=o&&120<=l.length)?new y(i&&l):void 0}l=e[0];var d=-1,f=c[0];e:for(;++d<o&&s.length<u;){var p=l[d],m=t?t(p):p;if(p=n||0!==p?p:0,!(f?E(f,m):r(s,m,n))){for(i=a;--i;){var h=c[i];if(!(h?E(h,m):r(e[i],m,n)))continue e}f&&f.push(m),s.push(p)}}return s}e.exports=r},"Vu+K":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=c,t.getSourceClientOffset=u,t.getDifferenceFromInitialOffset=s;var o=n("IHGr"),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function i(e,t){return e===t||e&&t&&e.x===t.x&&e.y===t.y}function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case o.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case o.HOVER:return i(e.clientOffset,t.clientOffset)?e:r({},e,{clientOffset:t.clientOffset});case o.END_DRAG:case o.DROP:return a;default:return e}}function u(e){var t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset;return t&&n&&r?{x:t.x+r.x-n.x,y:t.y+r.y-n.y}:null}function s(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?{x:t.x-n.x,y:t.y-n.y}:null}},W1qr:function(e,t){var n=9007199254740991;function r(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=n}e.exports=r},"W3/U":function(e,t,n){var r=n("MNy/"),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},WFLb:function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},WOuy:function(e,t,n){"use strict";var r=n("d6ZO"),i=n.n(r),o=n("DUIN"),a=n("z8rO"),c=n("MDbR"),u=n.n(c),s=n("8pTe"),l=n.n(s),d=n("dZgC"),f=n("+B8E"),p=n("gEaE");function m(e,t){if(null==e)return{};var n=h(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function h(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function v(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?O(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var k=function e(n,t){return S(n)!==S(t)||(Array.isArray(t)?n.length!==t.length||t.some(function(e,t){return!Array.isArray(n)||e.type!==n[t].type||e.src!==n[t].src}):t!==n)},T=function e(t){if(Array.isArray(t)){var n=t.find(function(e){return"video/m3u8"===e.type});return n?n.src:void 0}return RegExp("m3u8$").test(t)?t:void 0},x=function(e){function a(){var e,o;y(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(O(O(o=v(this,(e=_(a)).call.apply(e,[this].concat(n))))),"state",{isManifestParsed:!1}),C(O(O(o)),"setVideoPlayerRef",function(e){o.videoPlayerRef=e}),C(O(O(o)),"hls",null),C(O(O(o)),"initializeHls",function(){o.destroyHls();var e=o.props,t=e.src,n=e.hlsConfig,r=new l.a(n);r.loadSource(t),null!==o.videoPlayerRef&&r.attachMedia(o.videoPlayerRef.video),r.on(l.a.Events.MANIFEST_PARSED,function(){o.setState({isManifestParsed:!0})}),o.hls=r}),C(O(O(o)),"destroyHls",function(){var e,t=O(O(o)).hls;t&&t.destroy()}),o}return E(a,e),g(a,[{key:"componentDidMount",value:function e(){this.initializeHls()}},{key:"componentDidUpdate",value:function e(t){k(t.src,this.props.src)&&this.initializeHls()}},{key:"componentWillUnmount",value:function e(){this.destroyHls()}},{key:"render",value:function e(){var t=this.props,n=t.playing,r=t.hlsConfig,o=m(t,["playing","hlsConfig"]),a=this.state.isManifestParsed;return i.a.createElement(p.P,Object.assign({ref:this.setVideoPlayerRef},o,{playing:a&&n}))}}]),a}(i.a.PureComponent);function j(t){var e=t.hlsConfig,n=t.src,r=m(t,["hlsConfig","src"]),o=T(n);return i.a.createElement(d.b,null,function(e){return o&&new f.c(e,"web_hls_video").enabled()?i.a.createElement(x,Object.assign({},t,{src:o})):i.a.createElement(p.P,Object.assign({},r,{src:n}))})}var I=n("QH8I");function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){P(t,e,n[e])})}return t}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){if(null==e)return{};var n=A(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function A(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function M(e){var t=e.eventData.videoEvent,n=t.videoDuration,r=t.startTime,o=t.endTime,a=t.videoStartTime,i=t.videoEndTime,c=t.isAudible,u=t.height,s=t.width,l=t.playbackState,d=t.quartile,f=t.quartilePercentValue,p=t.windowHeight,m=t.windowWidth,h=t.viewability,y;return D({},R(e,["eventData"]),{eventData:{videoEventData:{videoDuration:n,time:r,endTime:o,videoTime:a,endVideoTime:i,isAudible:c,height:u,width:s,playbackState:l,quartile:d,quartilePercentValue:f,windowHeight:p,windowWidth:m,viewability:h}}})}function F(e,t){if(null==e)return{};var n=L(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function L(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){Z(t,e,n[e])})}return t}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}function G(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?K(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}function Y(e,t){return(Y=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=[0,.25,.5,.75,.95,.97,1],X=[0,.5,.8,1],Q={threshold:X},J=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function $(){return(new Date).getTime()}function ee(e,t){for(var n=0;n<t.length;n+=1){var r=t[n],o=t[n+1];if(null==o)return r;if(r<=e&&e<o)return r}return null}function te(e){return ee(e,q)}function ne(e){return ee(e,X)}function re(e){return 0<e.volume}var oe=function(e){function n(e){var o;B(this,n),Z(K(K(o=G(this,V(n).call(this,e)))),"handleWindowResize",function(){var e=o.getDimensions(),t=o.currentInterval,n=t.height,r=t.width;e.height!==n||e.width!==r?o.startNewInterval(e):(o.currentInterval.windowHeight=e.windowHeight,o.currentInterval.windowWidth=e.windowWidth)}),Z(K(K(o)),"handleTimeChange",function(e){var t=te(e.time/o.currentInterval.videoDuration);if(o.props.playing&&null!=t&&q.includes(t)&&!o.seenQuartiles.has(t)){var n=$();o.logVideoEvent(6906,U({},o.currentInterval,{startTime:n,endTime:n,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*t),quartilePercentValue:t})),o.seenQuartiles.add(t)}o.videoTime=e.time,o.props.onTimeChange&&o.props.onTimeChange(e)}),Z(K(K(o)),"handleDurationChange",function(e){o.currentInterval.videoDuration=e.duration,o.props.onDurationChange&&o.props.onDurationChange(e)}),Z(K(K(o)),"handleReady",function(e){o.ready||(o.ready=!0,o.startNewInterval({playbackState:o.getPlaybackState(o.props)})),o.props.onReady&&o.props.onReady(e)}),Z(K(K(o)),"handleVisibilityChange",function(e,t){if(0!==e.length){var n,r=ne(e.slice(-1)[0].intersectionRatio);null!=r&&r!==o.currentInterval.viewability&&o.startNewInterval({viewability:r})}}),Z(K(K(o)),"handleContextMenu",function(e){e.preventDefault()});var t=$();return o.ready=!1,o.handleWindowResize=u()(o.handleWindowResize,1e3),o.videoWrapperRef=i.a.createRef(),o.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:re(e),playbackState:o.getPlaybackState(e),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},o.videoTime=0,o.seenQuartiles=new Set,o}return W(n,e),H(n,[{key:"componentDidMount",value:function e(){this.currentInterval=U({},this.currentInterval,this.getDimensions()),window.addEventListener("resize",this.handleWindowResize)}},{key:"componentDidUpdate",value:function e(t){var n={};re(t)&&!re(this.props)?n.isAudible=!1:!re(t)&&re(this.props)&&(n.isAudible=!0);var r=this.getPlaybackState(this.props);this.getPlaybackState(t)!==r&&(n.playbackState=r),0<Object.keys(n).length&&this.startNewInterval(n)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.handleWindowResize),this.startNewInterval()}},{key:"getPlaybackState",value:function e(t){return this.ready?t.playing?J.PLAYING:J.PAUSED:J.LOADING}},{key:"getDimensions",value:function e(){var t,n;if("object"===N(this.videoWrapperRef)&&this.videoWrapperRef.current){var r=this.videoWrapperRef.current;r.clientHeight&&r.clientWidth&&(t=r.clientHeight,n=r.clientWidth)}return{height:t,width:n,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}},{key:"logVideoEvent",value:function e(t,n){var r=n.height,o=n.width,a=n.windowHeight,i=n.windowWidth,c=n.viewability,u=F(n,["height","width","windowHeight","windowWidth","viewability"]);if(this.props.onLogVideoEvent&&null!=r&&null!=o&&null!=a&&null!=i&&null!=c){var s=U({},u,{height:r,width:o,windowHeight:a,windowWidth:i,viewability:c});this.props.onLogVideoEvent(t,U({},this.props.contextLogData,{eventData:{videoEvent:s}}))}}},{key:"startNewInterval",value:function e(t){var n=$();this.logVideoEvent(6904,U({},this.currentInterval,{endTime:n,videoEndTime:this.videoTime})),this.currentInterval=U({},this.currentInterval,t,{startTime:n,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1})}},{key:"render",value:function e(){var t=this.props,n=t.contextLogData,r=t.onLogVideoEvent,o=F(t,["contextLogData","onLogVideoEvent"]);return o.onDurationChange=this.handleDurationChange,o.onReady=this.handleReady,o.onTimeChange=this.handleTimeChange,i.a.createElement(I.a,{options:Q,onVisibilityChange:this.handleVisibilityChange},i.a.createElement("div",{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu},i.a.createElement(j,o)))}}]),n}(i.a.Component);Z(oe,"defaultProps",p.P.defaultProps);var ae=Object(o.connect)(void 0,function(r){return{onLogVideoEvent:function e(t,n){return r(Object(a.a)(t,M(n)))}}})(oe),ie=t.a=function(t){var e=t.contextLogData,n=F(t,["contextLogData"]);return i.a.createElement(d.b,null,function(e){return new f.c(e,"web_grid_video_logging_pwt").enabled()?i.a.createElement(j,n):i.a.createElement(ae,t)})}},WQxq:function(e,t){var n=800,r=16,a=Date.now;function o(n){var r=0,o=0;return function(){var e=a(),t=16-(e-o);if(o=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}e.exports=o},Wah3:function(e,t,n){var u=n("HE1j"),s=n("uWJK"),l=n("5Wsu");function r(e,t,n){var r=e.length;if(r<2)return r?l(e[0]):[];for(var o=-1,a=Array(r);++o<r;)for(var i=e[o],c=-1;++c<r;)c!=o&&(a[o]=u(a[o]||i,e[c],t,n));return l(s(a,1),t,n)}e.exports=r},Wd7r:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("d6ZO"),u=n.n(r),a=n("+ZJM"),i=n("tmfO"),s=n("gEaE");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?y(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function o(){var e,c;l(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(y(y(c=f(this,(e=p(o)).call.apply(e,[this].concat(n))))),"parseText",function(){var e=c.props,t=e.tags,n=e.taggedUsers,o=e.text,r=e.size;if(!t.length||!n||t.length!==n.length)return c.renderRegularText(o,"1");var a=0,i=[];return t.forEach(function(e,t){var n=o.substring(a,e.offset);a=e.offset+e.length;var r=o.substring(e.offset,a);i=i.concat(c.renderRegularText(n,"".concat(t,"a"))).concat(c.renderTaggedText(r,t,"".concat(t,"b")))}),i=i.concat(c.renderRegularText(o.substring(a),"2")),u.a.createElement(s.K,{inline:!0,leading:"tall",size:r},i)}),b(y(y(c)),"renderRegularText",function(e,t){return u.a.createElement(s.K,{key:t,inline:!0,leading:"tall",size:c.props.size},u.a.createElement(a.a,null,e))}),b(y(y(c)),"renderTaggedText",function(e,t,n){return u.a.createElement(i.b,{key:n,stopPropagation:!0,to:"/".concat(c.props.taggedUsers[t].username)},u.a.createElement(s.K,{inline:!0,leading:"tall",size:c.props.size,bold:!0,color:"blue"},e))}),c}return m(o,e),d(o,[{key:"render",value:function e(){return u.a.createElement("span",{style:{whiteSpace:"pre-wrap"}},this.parseText())}}]),o}(r.PureComponent);b(g,"defaultProps",{size:"md"})},WpuM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.default=d;var o,a=i(n("Qsew"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=!1,s=!1,l=function(){function t(e){c(this,t),this.internalMonitor=e.getMonitor()}return r(t,[{key:"receiveHandlerId",value:function e(t){this.sourceId=t}},{key:"canDrag",value:function e(){(0,a.default)(!u,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return u=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{u=!1}}},{key:"isDragging",value:function e(){(0,a.default)(!s,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return s=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{s=!1}}},{key:"getItemType",value:function e(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function e(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function e(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function e(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function e(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function e(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function e(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function e(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function e(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),t}();function d(e){return new l(e)}},Wsxv:function(e,t){function n(t,n){return function(e){return t(n(e))}}e.exports=n},"XDj/":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("Esb+"),o=n.n(r),a=n("Awha"),i=n.n(a);function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){O(t,e,n[e])})}return t}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},C={},S=function e(t,n){var r=w({},i()({},t,n),n.content?{content:n.content}:{},n.reaction_counts?{reaction_counts:n.reaction_counts}:{},n.tags?{tags:n.tags}:{},n.tagged_users?{tagged_users:n.tagged_users}:{});return o()(t,r)?t:r},u=function e(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:C,t=1<arguments.length?arguments[1]:void 0;if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){var r=t.payload,o=r.data,a=r.name;if("AggregatedCommentResource"===a||"AggregatedCommentReplyResource"===a||"DidItCommentsResource"===a){var i,c=(o||[]).reduce(function(e,t){return e[t.id]=S(n[t.id],t),e},{});return w({},n,c)}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){var u=t.payload.aggregatedComment;return w({},n,O({},u.id,u))}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){var s=t.payload.aggregatedCommentId,l=w({},n);return delete l[s],l}if("AGGREGATED_COMMENT_UPDATED"===t.type){var d=t.payload.data;return w({},n,O({},d.id,S(n[d.id],d)))}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){var f=t.payload.data,p=n[f.id],m=p.reaction_counts[1]||0,h=O({},1,f.reaction_by_me?m+1:m-1),y=w({},p,{reaction_by_me:f.reaction_by_me,reaction_counts:h});return w({},n,O({},f.id,y))}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){var b=t.payload,g=b.increment,v=b.id,_=n[v],E=w({},_,{comment_count:g?_.comment_count+1:_.comment_count-1});return w({},n,O({},v,E))}}return n};t.b=u},XDmN:function(e,t,n){var r=n("uw3G");function o(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=o},XSNT:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var r=n("d6ZO"),o=n.n(r),a=n("IaRT"),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function r(e,t){var n;return u(this,r),y(h(h(n=d(this,f(r).call(this,e,t)))),"handleChange",function(e){n.props.onChange&&n.props.onChange(e.target.value),n.setState({value:e.target.value,hasChanged:!0})}),n.state={isFocused:n.props.focused||!1,value:n.props.value,hasChanged:void 0!==n.props.value},n}return p(r,e),l(r,[{key:"componentDidMount",value:function e(){this.state.isFocused&&this._input.focus()}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.setState({value:t.value})}},{key:"getId",value:function e(){return this.props.id}},{key:"getValue",value:function e(){return this.state.value}},{key:"focus",value:function e(){this._input.focus()}},{key:"render",value:function e(){var n=this;return o.a.createElement("input",{autoComplete:this.props.autoComplete,className:this.props.className,disabled:this.props.disabled?"disabled":"",id:this.props.id,name:this.props.name,onBlur:this.props.onBlur?this.props.onBlur.bind(this):null,onChange:this.handleChange,onClick:this.props.onClick?this.props.onClick.bind(this):null,onFocus:this.props.onFocus?this.props.onFocus.bind(this):null,onKeyDown:this.props.onKeyDown?this.props.onKeyDown.bind(this):null,placeholder:this.props.placeholder,ref:function e(t){n._input=t},style:this.props.style,type:this.props.type,value:this.state.value||""})}}]),r}(r.Component);b.defaultProps={type:"text"}},XYyz:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.FILE="__NATIVE_FILE__",o=t.URL="__NATIVE_URL__",a=t.TEXT="__NATIVE_TEXT__"},XZ9g:function(e,t,n){e.exports=function(){return new Promise(function(t){n.e(212).then(function(e){t(n("ZIw6"))}.bind(null,n)).catch(n.oe)})}},Xafg:function(e,t,n){"use strict";var h=n("d6ZO"),r=n.n(h),o=n("WjSu"),a=n("hVsM"),i=n("SnoN");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var b=function(e){function t(){return u(this,t),d(this,p(t).apply(this,arguments))}return m(t,e),l(t,[{key:"componentDidMount",value:function e(){var t=this.props.log;if(t){var n=a.a.fromPlainObject(t);n.setEventType(13),n.setRequestIdentifier(o.a.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),i.a.getInstance().addEvent(n)}}},{key:"render",value:function e(){return this.props.children}}]),t}(h.Component),g=n("9FEF");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?C(e):t}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function k(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var r=e.name,o=e.upwtActionName,t=e.resourceDependencies,a=void 0===t?function(){return[]}:t,n=e.routeContextLog,u=void 0===n?function(e,t,n){return null}:n,i=e.metatagResource,s=void 0===i?function(){return null}:i,c=e.placementId,l=void 0===c?null:c,d=e.redirect,f=void 0===d?function(){return null}:d,p=e.getRenderError,m=void 0===p?function(){return null}:p;return function e(c){var t,n;return n=t=function(e){function t(){return _(this,t),O(this,S(t).apply(this,arguments))}return k(t,e),w(t,[{key:"render",value:function e(){var t=this.props,n=t.params,r=t.location,o=void 0===r?{}:r,a,i=(this.props.route||{}).legacy_server_context;return h.createElement(b,{log:u(i||{},n||{},o||{})},h.createElement(c,this.props))}}]),t}(h.Component),x(t,"WrappedComponent",c),x(t,"routeName",r),x(t,"upwtActionName",o),x(t,"placementId",l),x(t,"displayName","StaticRouteData"),x(t,"getMetatagResource",s),x(t,"getContextLog",u),x(t,"getResourceDependencies",a),x(t,"getRedirect",f),x(t,"getRenderError",m),n}}t.a=j},XkXJ:function(e,t){function n(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}e.exports=n},Xrrr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.default=d;var r,a=u(n("Qsew")),i,c=u(n("UziA"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=["canDrop","hover","drop"];function d(n){Object.keys(n).forEach(function(e){(0,a.default)(-1<l.indexOf(e),'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',l.join(", "),e),(0,a.default)("function"==typeof n[e],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html",e,e,n[e])});var r=function(){function t(e){s(this,t),this.monitor=e,this.props=null,this.component=null}return o(t,[{key:"receiveProps",value:function e(t){this.props=t}},{key:"receiveMonitor",value:function e(t){this.monitor=t}},{key:"receiveComponent",value:function e(t){this.component=t}},{key:"canDrop",value:function e(){return!n.canDrop||n.canDrop(this.props,this.monitor)}},{key:"hover",value:function e(){n.hover&&n.hover(this.props,this.monitor,this.component)}},{key:"drop",value:function e(){if(n.drop){var t=n.drop(this.props,this.monitor,this.component);return t}}}]),t}();return function e(t){return new r(t)}}},Xstv:function(e,t,n){var o=n("xlRZ");function r(e,t){var n=this.__data__,r=o(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}e.exports=r},YCjV:function(e,t,n){var r=n("HE1j"),o=n("oV4I"),a=n("GLiy"),i=o(function(e,t){return a(e)?r(e,t):[]});e.exports=i},YEB8:function(e,t){function n(e,t){return e.has(t)}e.exports=n},YR4u:function(e,t,n){var r=n("2q2B");function o(e,t){var n;return!!(null==e?0:e.length)&&-1<r(e,t,0)}e.exports=o},YWdZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=void 0;function o(){return r||((r=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),r}},YZkw:function(e,t,n){"use strict";var o=n("d6ZO"),r=n.n(o),i=n("DUIN"),a=n("IaRT"),c=n.n(a),l=n("JlYC"),d=n("H5ah");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?g(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(n){return function(e){var t;return{experience:e.experiences.eligibleExperiences[n]}}}function E(u,s){var e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],t=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],r=4<arguments.length?arguments[4]:void 0;return function(e){function n(e){var t;return f(this,n),v(g(g(t=m(this,h(n).call(this,e)))),"state",{}),v(g(g(t)),"setExtraContextState",function(e){return t.setState({extraContext:e})}),t}return y(n,e),p(n,[{key:"componentDidMount",value:function e(){this.dispatchPlacementMount(!1)}},{key:"UNSAFE_componentWillUpdate",value:function e(t,n){var r=t.dispatch,o=t.experience,a=s;if("function"==typeof s){var i=n.extraContext||{};a=s(t,i)}if(!Object(d.d)(o)&&"function"==typeof s&&a&&Object.keys(a).length){var c=s(this.props,this.state);JSON.stringify(c)!==JSON.stringify(a)&&r(Object(l.c)(u,a))}!o||this.props.experience&&o.id===this.props.experience.id||r(Object(l.i)(u,a))}},{key:"componentWillUnmount",value:function e(){var t;(0,this.props.dispatch)(Object(l.k)(u))}},{key:"dispatchPlacementMount",value:function e(t){var n=this.props.dispatch,r={};r="function"==typeof s?s(this.props,this.state):Object.assign({},s),n(Object(l.j)(u,r,t))}},{key:"render",value:function e(){var t=this.props.experience;return o.createElement(r,Object.assign({},this.props,{setPlacementExtraContext:this.setExtraContextState,experience:Object(d.d)(t)?t:null}))}}]),n}(o.Component)}var w={shouldUsePlacedExperience:!0,dispatchMountActionDuringSSR:!1};t.a=function(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length?arguments[2]:void 0;return function(e){var t=_(r);a=Object.assign({},w,a);var n=E(r,o,a.shouldUsePlacedExperience,a.dispatchMountActionDuringSSR,e);return Object(i.connect)(t)(n)}}},Ya4R:function(e,t,n){var o=n("ujsy"),r=n("EyZ1"),a=n("nrKj"),i=r(function(e,t,n,r){o(t,a(t),e,r)});e.exports=i},Ydjj:function(e,t,n){var r,o,a=n("f2d5")(n("8Oqo"),"Map");e.exports=a},ZIw6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("tQ0j"),l=n.n(r),o=n("WjSu"),d=n("kqYA"),a=n("THYI"),f=n.n(a),p=n("FJZF"),m=n("EAiy"),i=20,c=580,u=400;function h(){var e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(e.length){if(1===e.length)return e[0];for(var t=e.splice(0,e.length-1),n=0;n<t.length;n+=1)t[n].parentNode.removeChild(t[n]);return e[0]}}var y={open:function e(o){var a=l.a.pick(o,y._validParams),t=y._getDialogType(o),i=y.generateFbRef(),c=o.object_type&&o.object_id&&"feed"===t,n=p.a.absolutify(o.path),r=p.a.getQueryStringParams();if(r.ptrf&&(n=p.a.appendQueryString(n,{ptrf:r.ptrf})),c&&(n=p.a.appendQueryString(n,{fb_ref:i})),a.method=t,"feed"===a.method){var u=y.getWindowOptions(o.width||580,o.height||400),s="http://www.facebook.com/sharer/sharer.php?u="+n;a.picture&&(s+="&picture="+a.picture),a.name&&(s+="&title="+a.name),a.description&&(s+="&description="+a.description),a.caption&&(s+="&caption="+a.caption),window.open(encodeURI(s),"sharer",u)}else"send"===a.method?a.link=n:"share"===a.method&&(a.href=n),d.default.ensureInit(function(r){r.getLoginStatus(function(){if("send"===a.method){r.ui(a);var e=10,t,n=setInterval(function(){!(t=h())&&e||(clearInterval(n),t&&y.executeMessengerCallback(t,o.callback)),e-=1},1e3)}else"share"===a.method&&r.ui(a,function(e){if(c&&e&&e.post_id){var t=f.a.create("LogFacebookFeedShare",{});t.options={object_type:o.object_type,object_id:o.object_id,fb_ref:i},t.callCreate({showError:!1})}o.callback&&o.callback(e)})})},m.a)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback:function e(t,n){var r=10,o=setInterval(function(){var e;"0px"!==t.style.width&&r||(clearInterval(o),t.style.width="575px"),r-=1},1e3);n&&n()},generateFbRef:function e(){for(var t="";t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return(m.a.id||o.a.instance.unauth_id)+":"+t},_getDialogType:function e(t){var n,r;return l.a.contains(y._validOptions,t.type)?t.type:"feed"},getWindowOptions:function e(t,n){var r=t||580,o=n||400,a=screen.width,i=screen.height,c,u;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+r+",height="+o+",left="+Math.round((a-r)/2)+",top="+(o<i?Math.round((i-o)/2):0)}};t.default=y},ZKXX:function(e,t,n){var r=n("xlRZ");function o(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}e.exports=o},ZecK:function(e,t,n){var r=n("rLbZ"),o=n("NRL7"),a=n("rjKP"),i="[object Object]",c=Function.prototype,u=Object.prototype,s=c.toString,l=u.hasOwnProperty,d=s.call(Object);function f(e){if(!a(e)||r(e)!=i)return!1;var t=o(e);if(null===t)return!0;var n=l.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==d}e.exports=f},ZuLt:function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},aEvB:function(e,t){function n(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}e.exports=n},aGIn:function(e,t,n){var r,o=n("ghX8")["__core-js_shared__"];e.exports=o},aJni:function(e,t){function n(){return!1}e.exports=n},aWXG:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},o={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},a={PIN:"PIN",COMMENT:"COMMENT",CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},bALq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.default=k;var p=n("d6ZO"),m=w(p),r,h=w(n("IaRT")),o,y=w(n("csYt")),a,i=w(n("UziA")),c,b=w(n("Qsew")),u,g=w(n("FB4j")),s,v=w(n("+sf/")),_,E=w(n("kh7K"));function w(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(u){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return E.default.apply(void 0,["DragLayer","collect[, options]"].concat(Array.prototype.slice.call(arguments))),(0,b.default)("function"==typeof u,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html",u),(0,b.default)((0,i.default)(s),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',s),function e(t){var n,r,o=s.arePropsEqual,a=void 0===o?v.default:o,i=t.displayName||t.name||"Component",c=(r=n=function(e){function r(e,t){O(this,r);var n=C(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.manager=t.dragDropManager,(0,b.default)("object"===d(n.manager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",i,i),n.state=n.getCurrentState(),n}return S(r,e),f(r,[{key:"getDecoratedComponentInstance",value:function e(){return(0,b.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"shouldComponentUpdate",value:function e(t,n){return!a(t,this.props)||!(0,g.default)(n,this.state)}}]),f(r,[{key:"componentDidMount",value:function e(){this.isCurrentlyMounted=!0;var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange),this.handleChange()}},{key:"componentWillUnmount",value:function e(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange(),this.unsubscribeFromStateChange()}},{key:"handleChange",value:function e(){if(this.isCurrentlyMounted){var t=this.getCurrentState();(0,g.default)(t,this.state)||this.setState(t)}}},{key:"getCurrentState",value:function e(){var t=this.manager.getMonitor();return u(t)}},{key:"render",value:function e(){var n=this;return m.default.createElement(t,l({},this.props,this.state,{ref:function e(t){n.child=t}}))}}]),r}(p.Component),n.DecoratedComponent=t,n.displayName="DragLayer("+i+")",n.contextTypes={dragDropManager:h.default.object.isRequired},r);return(0,y.default)(c,t)}}},bawM:function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},bhRu:function(e,t,n){var r=n("lcvw");function o(e){return r(this,e).get(e)}e.exports=o},bi7d:function(e,t,n){var r=n("3UTw"),o=n("7dRD"),a=n("fXq8"),i=n("HOmI"),c=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,d=s.toString,f=l.hasOwnProperty,p=RegExp("^"+d.call(f).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(e){return!(!a(e)||o(e))&&(r(e)?p:u).test(i(e));var t}e.exports=m},cD7N:function(e,t,n){"use strict";var a=n("Cjb7"),r=n("THYI"),c=n.n(r),o=n("Svvu"),u=n("DLm7"),i=n("EAiy"),s=1e3,l=110;function d(){}Object.assign(d.prototype,{handleConnect:function e(n,r,o){if(r&&!i.a.isLimitedLogin()){var t={success:function(e){var t={network:n,data:e};this._internalConnectNetwork(r,t,o)}.bind(this),error:function e(t){o.error&&o.error(t)},complete:function e(){o.complete&&o.complete()}};this._externalConnectNetwork(n,r,t)}else{var a={network:n};this._internalConnectNetwork(r,a,o)}},updateConnectStatus:function e(){var t;c.a.create("UserResource",{user_id:i.a.get("id"),username:i.a.get("username"),
field_set_key:"social_connect"}).callGet().then(function(e){var t=e.resource_response.data;i.a.set(t),a.a.instance.publish("currentUser","socialNetworkUpdated",t)})},_externalConnectNetwork:function e(t,n,r){n?o.default.instance().connect(t,r):r.success&&r.success({})},_internalConnectNetwork:function e(t,n,r){var o=this,a=c.a.create("UserSocialNetworkResource",n);(t?a.callCreate():a.callDelete()).then(function(e){o.updateConnectStatus(),r.success&&r.success(e)},function(e){r.error&&e instanceof Object&&r.error(e)}).finally(function(){r.complete&&r.complete()})},_getResourceNameForNetworkFriends:function e(t){var n=null;switch(t){case o.default.FACEBOOK:n="UserFacebookFriendsResource";break;case o.default.TWITTER:n="UserTwitterFriendsResource";break;case o.default.GOOGLE:n="UserGmailFriendsResource";break;case o.default.MICROSOFT:n="UserMicrosoftFriendsResource";break;default:return}return n},_handleFriendsImported:function e(t,n,r){var o={resource:n,network:t,error:r};a.a.instance.publish("site","friendImportCompleted",o)},pollForFriends:function e(n,r){var o=this,t=(r=r||{}).resourceOptions||{},a=this._getResourceNameForNetworkFriends(n);if(a){var i=c.a.create(a,t);i.callGet({showError:!1}).then(function(){var e=r.success;e&&e(i),o._handleFriendsImported(n,i,null)},function(e){if(110===e.api_error_code)u.a.setTimeout(function(){o.pollForFriends(n,r)},1e3);else{var t=r.error;t&&t(),o._handleFriendsImported(n,i,e)}})}}});var f=null;d.instance=function(){return f||(f=new d),f},t.a=d},cd67:function(e,t,n){"use strict";var r=n("d6ZO"),d=n.n(r),o=n("THYI"),i=n.n(o),f=n("KbV0"),a=n("GU18"),c=n("i0Ug"),u=n("MQ2h"),s=n.n(u),p=n("gEaE");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function b(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?E(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=5,C="220px",S=27,k=38,T=40,x=13,j=function(e){function a(){var e,o;m(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(E(E(o=b(this,(e=g(a)).call.apply(e,[this].concat(n))))),"state",{isOpen:o.props.editing,recommendations:[],selectedIndex:0,resourceLoaded:!1}),w(E(E(o)),"onDismiss",function(){o.setState({isOpen:!1})}),w(E(E(o)),"mounted",!1),w(E(E(o)),"addMention",function(e){o.props.addMention(e),o.setState({recommendations:[]})}),w(E(E(o)),"handleKeyDown",function(e){var t,n=(w(t={},38,o.handlePrevMention),w(t,40,o.handleNextMention),w(t,27,o.handleClose),w(t,13,o.handleSubmit),t),r=e&&e.keyCode;r&&n[r](e)}),w(E(E(o)),"handlePrevMention",function(e){e.preventDefault(),0<o.state.selectedIndex&&o.setState(function(e){return{selectedIndex:e.selectedIndex-1}})}),w(E(E(o)),"handleNextMention",function(e){e.preventDefault(),o.state.selectedIndex<o.state.recommendations.length-1&&o.setState(function(e){return{selectedIndex:e.selectedIndex+1}})}),w(E(E(o)),"handleClose",function(e){e.preventDefault(),e.stopPropagation(),o.setState({recommendations:[]})}),w(E(E(o)),"handleSubmit",function(e){e.preventDefault(),o.addMention(o.state.recommendations[o.state.selectedIndex])}),w(E(E(o)),"callResource",function(e){var t=o.props,n=t.makeCancelablePromise,r=t.viewer;n(i.a.create("TypeaheadResource",{num_boards:0,count:10,term:e,tag:"pinners"}).callGet(),"typeahead").then(function(e){if(o.mounted){var t=e.resource_response.data;o.setState({recommendations:t.items.filter(function(e){return e.id!==(r.id||null)}).slice(0,5),resourceLoaded:!0})}}).catch(function(e){var t;e.isCanceled||o.setState({resourceLoaded:!1})})}),o}return v(a,e),y(a,[{key:"componentDidMount",value:function e(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){t.query!==this.props.query&&""!==t.query&&this.callResource(t.query)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}},{key:"render",value:function e(){var r=this,t=this.state,n=t.recommendations,o=t.resourceLoaded,a=t.selectedIndex,i=this.props,c=i.anchor,u,s=i.idealDirection||"down",l="flyout_"+this.state.recommendations.length;return o&&0<n.length?d.a.createElement(f.a,null,d.a.createElement(p.r,null,d.a.createElement(p.k,{key:l,anchor:c,idealDirection:s,onDismiss:this.onDismiss,positionRelativeToAnchor:!1,size:"md"},d.a.createElement(p.b,{column:12},0<n.length?n.map(function(n,e){return d.a.createElement("div",{key:n.id},d.a.createElement(p.O,{onTouch:function e(t){return r.addMention(n)},fullWidth:!1},d.a.createElement(p.b,{display:"flex",alignItems:"center",color:e===a?"lightGray":"transparent",overflow:"hidden",padding:1},d.a.createElement(p.b,{paddingX:4},d.a.createElement(p.a,{size:"md",src:n.image_medium_url,name:n.full_name})),d.a.createElement(p.b,{paddingX:4,width:C},d.a.createElement(p.K,{truncate:!0,size:"md",bold:!0},n.full_name)))))}):null)))):null}}]),a}(d.a.PureComponent),I=Object(u.compose)(a.a,c.a)(j),D=n("wq4j");function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function F(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?B(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}function U(e,t){return(U=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return Z});var H=/@[a-zA-Z0-9_-]*/,G="g",V=2e3,W=["ArrowDown","ArrowUp","ArrowLeft","ArrowRight","Escape","Shift","Alt","Control","Meta"],Y=0,K=13,Z=function(e){function o(){var e,l;R(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return z(B(B(l=F(this,(e=L(o)).call.apply(e,[this].concat(n))))),"state",{flyoutCursorIndex:0,isMentionFlyoutOpen:!1,mentionQuery:"",textValue:l.props.replyToObject?Object(D.e)(l.props.existingTags,l.props.taggedUsers,l.props.textValue,l.props.replyToObject):Object(D.e)(l.props.existingTags,l.props.taggedUsers,l.props.textValue)}),z(B(B(l)),"getTextCursorPosition",function(){var e=window.getSelection(),t=e.getRangeAt(0),n=e.anchorNode;return{cursorIndex:t.startOffset,selectedElement:n}}),z(B(B(l)),"getHTMLCursorPosition",function(){var e=l.getTextCursorPosition(),t=e.cursorIndex,n=e.selectedElement;if(n){var r=t,o=n.parentNode;o!==l._textAreaRef&&(r+=o.outerHTML.length-o.innerHTML.length-(3+o.tagName.length));for(var a=n.previousSibling;a;)r+=a.outerHTML&&a.outerHTML.length||a.textContent.length,a=a.previousSibling;return{cursorIndex:r,parentElement:o}}return{cursorIndex:-1}}),z(B(B(l)),"setRef",function(e){l.props.setRef(e),l._textAreaRef=e}),z(B(B(l)),"focusTextAreaAndPostionCursor",function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=window.getSelection(),n=document.createRange();if(e&&l._textAreaRef)n.selectNodeContents(l._textAreaRef),n.collapse(!1);else if(t.anchorNode){var r=t.getRangeAt(0),o=r.startOffset,a=r.startContainer;n.setStart(a,o),n.collapse(!0),l._textAreaRef&&a===l._textAreaRef&&(n.selectNodeContents(l._textAreaRef),n.collapse(!1))}else l._textAreaRef&&(n.selectNodeContents(l._textAreaRef),n.collapse(!1));t.removeAllRanges(),t.addRange(n),l._textAreaRef&&l._textAreaRef.focus()}),z(B(B(l)),"handleKeyDown",function(e){var t=l.props.handleEnter;!l.state.isMentionFlyoutOpen&&13===e.which&&t&&(e.preventDefault(),t(e.target.textContent))}),z(B(B(l)),"handleKeyUp",function(e){var t,n=l.getHTMLCursorPosition().parentElement,r,o,a=l.getTextCursorPosition().cursorIndex===n.textContent.length,i=n.className===D.b,c;i&&n.getAttribute(D.a)>n.textContent.length?l.handleRemoveMention(n):!i||0===e.which||W.includes(e.key)||a?n.className===D.b&&a&&l.placeCaretAfterNode(n):l.handleRemoveSpan(n);var u=e.target.textContent;l.props.onChange(u!==l.props.textValue)}),z(B(B(l)),"handleAddMention",function(e){var t=l.state.flyoutCursorIndex,n=t+l.state.mentionQuery.length+1,r=l._textAreaRef,o=r&&r.innerHTML.slice(0,t)||"",a=r&&r.innerHTML.slice(n)||" ",i=Object(D.c)(e),c="".concat(o).concat(i.outerHTML).concat(a);l.props.updateTags(e),l.setState({textValue:c,mentionQuery:"",isMentionFlyoutOpen:!1},l.focusTextAreaAndPostionCursor)}),z(B(B(l)),"handleRemoveMention",function(e){l._textAreaRef&&l._textAreaRef.replaceChild(document.createTextNode(""),e)}),z(B(B(l)),"handleRemoveSpan",function(e){l._textAreaRef&&(l._textAreaRef.replaceChild(document.createTextNode(e.textContent),e),l.setState({textValue:l._textAreaRef&&l._textAreaRef.innerHTML||""},l.focusTextAreaAndPostionCursor))}),z(B(B(l)),"handleInput",function(e){for(var t,n=l.getHTMLCursorPosition().cursorIndex,r="",o=e.target.innerHTML,a=new RegExp(H,"g"),i=a.exec(o),c=a.lastIndex<n;i&&c;)i=a.exec(o),c=a.lastIndex<n;r=i&&i.index<n?i[0]:"";var u=l.state.isMentionFlyoutOpen?l.state.flyoutCursorIndex:o.slice(0,n).lastIndexOf("@"),s=r.substring(1);l.setState({flyoutCursorIndex:u,mentionQuery:s,isMentionFlyoutOpen:!!r}),l.props.handleInput(e.target.textContent)}),z(B(B(l)),"handlePaste",function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)}),z(B(B(l)),"placeCaretAfterNode",function(e){var t=e.textContent,n=e.getAttribute(D.a),r=t.substring(n),o=t.substring(0,n);e.innerHTML=o;var a=document.createRange();a.setStartAfter(e);var i=document.createTextNode(r);a.insertNode(i),a.collapse(!1);var c=window.getSelection();c.removeAllRanges(),c.addRange(a)}),l}return N(o,e),M(o,[{key:"componentDidMount",value:function e(){this.focusTextAreaAndPostionCursor(!0)}},{key:"componentDidUpdate",value:function e(t,n){this.state.isMentionFlyoutOpen&&!this.props.shouldLoseFocus&&this.focusTextAreaAndPostionCursor()}},{key:"render",value:function e(){var t=this.props,n=t.style,r=t.suggestionAnchor,o=t.handleFocus,a=this.state,i=a.isMentionFlyoutOpen,c=a.mentionQuery,u=a.textValue;return d.a.createElement(p.b,{alignItems:"center",width:"100%"},d.a.createElement("div",{tabIndex:"0",contentEditable:!0,maxLength:2e3,name:"communityItemTextBox",onBlur:this.props.handleBlur,onFocus:o,onInput:this.handleInput,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onPaste:this.handlePaste,ref:this.setRef,role:"textbox",style:n,"data-test-id":"mentionsInput",dangerouslySetInnerHTML:{__html:u}}),r&&i&&d.a.createElement(I,{addMention:this.handleAddMention,anchor:r,query:c}))}}]),o}(r.PureComponent);z(Z,"defaultProps",{handleFocus:function e(){},handleInput:function e(){},onChange:function e(){},existingTags:[],taggedUsers:[]})},cdO0:function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},cy6F:function(e,t,n){"use strict";t.a=c;var r=n("d6ZO"),o=n.n(r),a=n("IaRT"),i=n.n(a);function c(e){var t=e.mask,n=e.loading,r=e.size;return o.a.createElement("div",null,t&&o.a.createElement("div",{className:"moduleMask",style:{bottom:0,left:0,right:0,top:0}}),n&&o.a.createElement("div",{className:"Spinner"},o.a.createElement("div",{className:"small"===r?"spinnerSmall":"spinnerMedium"})))}c.defaultProps={loading:!0,mask:!0,size:"medium"}},"d/m+":function(e,t,n){var r=n("uw3G");function o(e){return-1<r(this.__data__,e)}e.exports=o},dOg2:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r);t.a=o.a.createContext(!1)},dQw1:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a,i=r(n("wncH")),c=function(){function e(){o(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function e(){return this.current},e.prototype.setDisposable=function e(){var t=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null!=t&&!i.default(t))throw new Error("Expected either an empty value or a valid disposable");var n=this.isDisposed,r=void 0;n||(r=this.current,this.current=t),r&&r.dispose(),n&&t&&t.dispose()},e.prototype.dispose=function e(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}},e}();t.default=c,e.exports=t.default},dSsL:function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},dVaO:function(e,t){function n(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}e.exports=n},dd2j:function(e,t,c){"use strict";function n(n){var e;return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(e){n[e]=t[e]})}),n}function r(e){return Object.prototype.toString.call(e)}function u(e){return"[object String]"===r(e)}function s(e){return"[object Object]"===r(e)}function l(e){return"[object RegExp]"===r(e)}function d(e){return"[object Function]"===r(e)}function f(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var o={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function a(e){return Object.keys(e||{}).reduce(function(e,t){return e||o.hasOwnProperty(t)},!1)}var i={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?3<=t&&":"===e[t-3]?0:3<=t&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},p="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",m="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function h(e){e.__index__=-1,e.__text_cache__=""}function y(r){return function(e,t){var n=e.slice(t);return r.test(n)?n.match(r)[0].length:0}}function b(){return function(e,t){t.normalize(e)}}function g(r){var t=r.re=c("98fV")(r.__opts__),e=r.__tlds__.slice();function n(e){return e.replace("%TLDS%",t.src_tlds)}r.onCompile(),r.__tlds_replaced__||e.push(p),e.push(t.src_xn),t.src_tlds=e.join("|"),t.email_fuzzy=RegExp(n(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(n(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(n(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(n(t.tpl_host_fuzzy_test),"i");var o=[];function a(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}r.__compiled__={},Object.keys(r.__schemas__).forEach(function(e){var t=r.__schemas__[e];if(null!==t){var n={validate:null,link:null};if(r.__compiled__[e]=n,s(t))return l(t.validate)?n.validate=y(t.validate):d(t.validate)?n.validate=t.validate:a(e,t),void(d(t.normalize)?n.normalize=t.normalize:t.normalize?a(e,t):n.normalize=function(e,t){t.normalize(e)});u(t)?o.push(e):a(e,t)}}),o.forEach(function(e){r.__compiled__[r.__schemas__[e]]&&(r.__compiled__[e].validate=r.__compiled__[r.__schemas__[e]].validate,r.__compiled__[e].normalize=r.__compiled__[r.__schemas__[e]].normalize)}),r.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var i=Object.keys(r.__compiled__).filter(function(e){return 0<e.length&&r.__compiled__[e]}).map(f).join("|");r.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+i+")","i"),r.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+i+")","ig"),r.re.pretest=RegExp("("+r.re.schema_test.source+")|("+r.re.host_fuzzy_test.source+")|@","i"),h(r)}function v(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function _(e,t){var n=new v(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function E(e,t){if(!(this instanceof E))return new E(e,t);t||a(e)&&(t=e,e={}),this.__opts__=n({},o,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},i,e),this.__compiled__={},this.__tlds__=m,this.__tlds_replaced__=!1,this.re={},g(this)}E.prototype.add=function e(t,n){return this.__schemas__[t]=n,g(this),this},E.prototype.set=function e(t){return this.__opts__=n(this.__opts__,t),this},E.prototype.test=function e(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var n,r,o,a,i,c,u,s,l;if(this.re.schema_test.test(t))for((u=this.re.schema_search).lastIndex=0;null!==(n=u.exec(t));)if(a=this.testSchemaAt(t,n[2],u.lastIndex)){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+a;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&0<=(s=t.search(this.re.host_fuzzy_test))&&(this.__index__<0||s<this.__index__)&&null!==(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=r.index+r[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=r.index+r[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&0<=(l=t.indexOf("@"))&&null!==(o=t.match(this.re.email_fuzzy))&&(i=o.index+o[1].length,c=o.index+o[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&c>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=c)),0<=this.__index__},E.prototype.pretest=function e(t){return this.re.pretest.test(t)},E.prototype.testSchemaAt=function e(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0},E.prototype.match=function e(t){var n=0,r=[];0<=this.__index__&&this.__text_cache__===t&&(r.push(_(this,n)),n=this.__last_index__);for(var o=n?t.slice(n):t;this.test(o);)r.push(_(this,n)),o=o.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null},E.prototype.tlds=function e(t,n){return t=Array.isArray(t)?t:[t],n?this.__tlds__=this.__tlds__.concat(t).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse():(this.__tlds__=t.slice(),this.__tlds_replaced__=!0),g(this),this},E.prototype.normalize=function e(t){t.schema||(t.url="http://"+t.url),"mailto:"!==t.schema||/^mailto:/i.test(t.url)||(t.url="mailto:"+t.url)},E.prototype.onCompile=function e(){},e.exports=E},drXw:function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},"e/71":function(e,t){function n(e,t){return e===t||e!=e&&t!=t}e.exports=n},ekD3:function(e,t){function n(e,t){return e===t||e!=e&&t!=t}e.exports=n},f2d5:function(e,t,n){var r=n("nKBm"),o=n("rwMs");function a(e,t){var n=o(e,t);return r(n)?n:void 0}e.exports=a},fXHG:function(e,t,n){var u=n("9Jjs"),s=n("4bDc");function l(e,t,n,r,o){var a=-1,i=e.length;for(n||(n=s),o||(o=[]);++a<i;){var c=e[a];0<t&&n(c)?1<t?l(c,t-1,n,r,o):u(o,c):r||(o[o.length]=c)}return o}e.exports=l},fXg5:function(e,t,n){var r=n("+y+e"),o=n("lOQh"),a=Object.prototype,i=a.hasOwnProperty,c=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!c.call(e,"callee")};e.exports=u},fXq8:function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},fcWg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r,o=a(n("FB4j"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return t===e||null!==t&&null!==e&&(0,o.default)(t,e)}},fvzG:function(e,t,n){"use strict";t.h=o,t.e=a,t.g=i,t.b=c,t.c=h,t.d=u,t.f=s,t.a=l,t.k=y,t.j=b,t.i=f;var r=n("THYI"),m=n.n(r);function o(e){return{type:"CONVERSATION_SHOW",payload:{id:e}}}function a(e){return{type:"CONVERSATION_HIDE",payload:{id:e}}}function i(e){return{type:"CONVERSATION_OPEN",payload:{id:e}}}function c(e){return{type:"CONVERSATION_CLOSE",payload:{id:e}}}function h(e){return{type:"CONVERSATION_CREATE",payload:e}}function u(e){return{type:"CONVERSATION_DELETE",payload:{id:e}}}function s(e,t){return{type:"CONVERSATION_MESSAGES_UPDATE",payload:{conversationId:e,messages:t}}}function l(){return function(e){var t;m.a.create("ConversationBadgeResource",{}).callDelete({showError:!1}),e({type:"CONVERSATION_BADGE_RESET"})}}function y(e,t){return{type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}}}function b(e,t,n){return{type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:n}}}var g=(d=0,function(){return d++}),d;function f(d,f,p){var e,t=new Promise(function(l){(e=function e(n,t){var r=f.text,o=f.pinId,a=f.boardId,i=f.userId,c=f.didItId,u=t();function s(){var e=m.a.create("ConversationMessagesResource",{conversation_id:d,text:r,pin:o,board:a,user:i,user_did_it_data:c,source:p}),t="".concat(g());e.callCreate().then(function(e){n(b(d,t,e.resource_response.data.id))}),n(y(d,{text:r,sender:u.viewer,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:o?u.pins[o]:null,type:"message",user_did_it_data:null,user:null})),l()}u.conversations.data[d]?s():m.a.create("ConversationResource",{conversation_id:d}).callGet().then(function(e){var t=e&&e.resource_response&&e.resource_response.data;n(h(t)),s()})}).getPromise=function(){return t}});return e}},gRQm:function(e,t,n){var r=n("14Wj"),o=n("KjQs"),a=n("dVaO");function i(e,t,n){return t==t?a(e,t,n):r(e,o,n)}e.exports=i},gWCX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var r,i=E(n("Qsew")),o,c=E(n("UziA")),a,u=E(n("kh7K")),s,l=E(n("paBd")),d,f=E(n("6wfa")),p,m=E(n("IfTP")),h,y=E(n("WpuM")),b,g=E(n("SXFK")),v,_=E(n("Hut+"));function E(e){return e&&e.__esModule?e:{default:e}}function w(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};u.default.apply(void 0,["DragSource","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var o=t;"function"!=typeof t&&((0,i.default)((0,_.default)(t),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',t),o=function e(){return t}),(0,i.default)((0,c.default)(e),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',e);var a=(0,m.default)(e);return(0,i.default)("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),(0,i.default)((0,c.default)(r),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),function e(t){return(0,l.default)({connectBackend:function e(t,n){return t.connectDragSource(n)},containerDisplayName:"DragSource",createHandler:a,registerHandler:f.default,createMonitor:y.default,createConnector:g.default,DecoratedComponent:t,getType:o,collect:n,options:r})}}},gcrN:function(e,t,n){var r,o=n("8Oqo").Symbol;e.exports=o},ghX8:function(e,t,n){var r=n("Ayf+"),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},hNf0:function(e,t,n){"use strict";var r=n("d6ZO"),b=n.n(r),o=n("BVzu"),a=n("kqYA"),i=n("UVpX"),g=n("W/Cr");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var y=function(e){function t(){return u(this,t),d(this,p(t).apply(this,arguments))}return m(t,e),l(t,[{key:"componentDidMount",value:function e(){var n=this;a.default.ensureInit(function(e){var t;i.a.fbConnectedAccountMatchesLoggedInAccount(e,null)||(o.default.showError(g.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),n.props.onError&&n.props.onError())})}},{key:"render",value:function e(){return null}}]),t}(r.Component),v=n("JyNp"),_=n("gEaE"),E=function e(){return r.createElement("div",{style:{alignItems:"center",background:"#fff",borderRadius:"8px",display:"flex",height:"155px",justifyContent:"center",outline:"none",width:"300px"}},r.createElement(_.G,{accessibilityLabel:g.a._("Tried it"),show:!0}))},w=null,O=n("woYD"),C=n("5tOk"),S=n("DUIN"),k=n("93Oe"),T=n("2Om6"),x=n("qtmg"),j=n("THYI"),I=n.n(j),D=n("FTnl"),P=n("DYU3"),R=n("kxCB"),A=n("2lkQ"),M=n("MQ2h"),F=n.n(M);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){K(t,e,n[e])})}return t}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t&&B(e.prototype,t),n&&B(e,n),e}function H(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?Y(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}function W(e,t){return(W=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=1e3,q=3e3,X=366,Q=366,J=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/,$=function(e){function n(e,t){var i;return U(this,n),K(Y(Y(i=H(this,G(n).call(this,e,t)))),"getImageSignature",function(){var e;I.a.create("DidItImageUploadResource",{image_url:i.state.imageUrlToSend}).callCreate().then(function(e){return e?i.sendThisDidIt(e.resource_response.data.image_signature):i.sendThisDidIt()})}),K(Y(Y(i)),"setTextAreaRef",function(e){i._textAreaRef=e}),K(Y(Y(i)),"handleTextInputChange",function(e){var t=e.value;i.setState({notes:t.substring(0,1e3)}),1e3<t.length?i.forceUpdate():i.handleHashtagTypeahead(t)}),K(Y(Y(i)),"handleHashtagTypeahead",function(e){var t=J.exec(e),n=t?t[0]:"";!i.state.inTypeahead&&n?i.setState({inTypeahead:!0,typeaheadValue:n}):i.state.inTypeahead&&(n?i.setState({typeaheadValue:n}):i.setState({inTypeahead:!1,typeaheadValue:""}))}),K(Y(Y(i)),"closeModal",function(){(i.props.onDoneStateChanged||function(e){})(!1)}),K(Y(Y(i)),"addHashtag",function(e){i.setState({inTypeahead:!1,typeaheadValue:"",notes:i.state.notes.replace(J,e)})}),K(Y(Y(i)),"handleTextAreaBlur",function(){i.state.inTypeahead&&i._textAreaRef&&i._textAreaRef.getElementsByTagName("TEXTAREA")[0].focus()}),K(Y(Y(i)),"handleImageReset",function(){return i.setState({imageUrlToSend:null})}),K(Y(Y(i)),"handleFinishImageUpload",function(e){i.setState({imageUrlToSend:e.image.url})}),K(Y(Y(i)),"handleDoneClick",function(){var e=i.props.pinId;i.setState({submitted:!0}),Object(O.a)(101,{view:101,component:192,element:1112,objectId:e}),i.handleDoneSubmission()}),K(Y(Y(i)),"handleDoneSubmission",function(){var e=i.state.imageUrlToSend,t=i.props.pinActivity;return e?e!==t.oldImageUrl?i.getImageSignature():i.sendThisDidIt(t.image_signatures[0]):i.sendThisDidIt()}),K(Y(Y(i)),"handleDeleteConfirmation",function(e){var t=i.props,n=t.aggregatedPinDataId,r=t.deleteUserDidItData,o=t.loggedInUser.username,a=t.pinId;i.setState({showDeleteModal:!1}),e&&(Object(O.a)(101,{view:101,component:192,element:1264,objectId:a}),r({aggregatedPinDataId:n,id:e,isOwnedByMe:!0,pinId:a,username:o}))}),K(Y(Y(i)),"handleShowDeleteModal",function(){return i.setState({showDeleteModal:!0})}),K(Y(Y(i)),"newStateFields",function(e){var t=e.pinActivity,n,r,o;return N({id:t.id,notes:t.notes,imageUrlToSend:t.oldImageUrl},i.state)}),K(Y(Y(i)),"renderTypeahead",function(){return i.state.inTypeahead?b.a.createElement(x.a,{addHashtag:i.addHashtag,anchor:i._textAreaRef,editing:!0,query:i.state.typeaheadValue,idealDirection:"up"}):null}),i.state=N({},n.initialState,i.newStateFields(e)),i}return V(n,e),z(n,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var n=this.newStateFields(t);this.setState(n)}},{key:"sendThisDidIt",value:function e(t){var n=this,r=this.props,o=r.aggregatedPinDataId,a=r.createUserDidItData,i=r.isDoneByMe,c=r.loggedInUser.username,u=r.onDoneStateChanged,s=r.pinId,l=r.shareToFacebookCheckedOn,d=r.shareToFacebookPermissionGranted,f=r.updateUserDidItData,p=this.state,m=p.id,h=p.notes,y;i?m&&f({id:m,details:h,image_signatures:t?[t]:[],pinId:s}):a(o,c,h,t?[t]:[],s,l&&d),(u||function(e){})(!0),-1===window.location.href.indexOf(this.props.loggedInUser.username+"/tried")&&this.props.showToast(function(e){var t=e.onHide;return b.a.createElement(D.a,{duration:3e3,href:"/".concat(n.props.loggedInUser.username,"/tried"),onHide:t,text:g.a._("Nice work! Pins you've tried live on your profile","Congratulations after trying a pin")})})}},{key:"render",value:function e(){var t=this.state,n=t.imageUrlToSend,r=t.notes,o=t.showDeleteModal,a=t.submitted,i=this.props,c=i.aggregatedPinDataId,u=i.isDoneByMe,s=i.pinActivity,l=n?"didItPhotoBox transitionUp":"didItPhotoBox",d=n?"didItTextBox transitionIn":"didItTextBox",f=s.notes!==r,p=s.oldImageUrl!==n,m=""!==r.trim(),h,y=!n||!m||!f&&!p;return b.a.createElement(_.b,null,b.a.createElement(_.b,{marginTop:4,paddingX:12},b.a.createElement(_.b,{xs:{column:12}},b.a.createElement("div",{className:l},b.a.createElement(_.b,{deprecatedMargin:{bottom:2},color:"transparent",shape:"rounded",alignItems:"center",justifyContent:"center",xs:{display:"flex",column:12}},b.a.createElement(T.a,{display:"image",existingImageSrc:n,onImageUploadFinished:this.handleFinishImageUpload,idealErrorDirection:"up",onReset:this.handleImageReset,height:366,width:366,uploadSource:"pinner"}))))),b.a.createElement("div",{className:d},b.a.createElement(_.b,{width:366,dangerouslySetInlineStyle:{__style:{marginLeft:"auto",marginRight:"auto"}},margin:3},b.a.createElement("div",{ref:this.setTextAreaRef},b.a.createElement(_.L,{id:"trynotes",onChange:this.handleTextInputChange,onBlur:this.handleTextAreaBlur,placeholder:g.a._("Add a note or tip","Tip input for tried it"),value:r})),this.renderTypeahead(),900<this.state.notes.length&&b.a.createElement(_.b,{deprecatedPadding:{y:1}},b.a.createElement(_.K,{align:"right",size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"}," ",this.state.notes.length,"/",1e3," ")))),b.a.createElement(_.b,{display:"flex",justifyContent:"end"},o&&b.a.createElement(k.a,{didItData:s,aggregatedPinDataId:c,onDeleteConfirmation:this.handleDeleteConfirmation}),a?b.a.createElement(_.b,{alignItems:"center",marginRight:2},b.a.createElement(_.G,{accessibilityLabel:g.a._("submit","accessible label for loading spinner on submit button"),show:!0})):null,b.a.createElement(_.b,{display:"flex",marginBottom:3,marginRight:4},u&&b.a.createElement(_.b,{deprecatedMargin:{right:1}},b.a.createElement(_.c,{onClick:this.handleShowDeleteModal,text:g.a._("Delete","delete button in modal for tried-it info"),inline:!0,size:"md"})),!u&&b.a.createElement(_.b,{deprecatedMargin:{right:1}},b.a.createElement(_.c,{onClick:this.closeModal,text:g.a._("Cancel","cancel button in modal for tried-it info"),inline:!0,size:"md"})),b.a.createElement(_.b,null,b.a.createElement(_.c,{color:"red",disabled:y,onClick:this.handleDoneClick,text:g.a._("Done","done button in modal for tried-it info"),inline:!0,size:"md"})))))}}]),n}(r.PureComponent);K($,"initialState",{id:null,imageUrlToSend:null,notes:"",showDeleteModal:!1,submitted:!1,inTypeahead:!1,typeaheadValue:""});var ee=function e(t,n){return{createUserDidItData:Object(M.bindActionCreators)(A.a,t),deleteUserDidItData:Object(M.bindActionCreators)(A.b,t),updateUserDidItData:Object(M.bindActionCreators)(A.d,t)}},te=Object(M.compose)(Object(S.connect)(null,ee),P.a,R.a)($);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function re(e,t){if(null==e)return{};var n=oe(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oe(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),e}function ue(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?fe(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}function de(e,t){return(de=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=function e(t){var n=t.pinTitle,r=t.otherTriers,o;return o=r<=0&&n?C.c(g.a._("You tried {{pinTitle}}","Trying a Pin"),{pinTitle:n}):r<=0?g.a._("You tried this Pin","Trying a Pin"):n?C.c(g.a.ngettext("You and {{otherTriers}} other tried\n      {{pinTitle}}","You and {{otherTriers}} others tried\n      {{pinTitle}}",r,"Trying a Pin"),{pinTitle:n,otherTriers:String(r)}):C.c(g.a.ngettext("You and {{otherTriers}} other tried\n      this Pin","You and {{otherTriers}} others tried\n      this Pin",r,"Trying a Pin"),{otherTriers:String(r)}),b.a.createElement(_.b,{display:"flex",justifyContent:"center"},b.a.createElement(_.b,{deprecatedMargin:{top:5,bottom:3,left:5,right:5}},b.a.createElement(_.K,{size:"xl",bold:!0,align:"center"},o)))};function he(e){var t=e.data,n=t.details,r=t.images,o=t.image_signatures,a;return{id:t.id,notes:n||"",oldImageUrl:(((r||{})[0]||{})["200x"]||{}).url,image_signatures:o}}var ye=function(e){function a(){var e,o;ae(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return pe(fe(fe(o=ue(this,(e=se(a)).call.apply(e,[this].concat(n))))),"onDoneStateChanged",function(e){var t=function e(t){};(o.props.onDoneStateChanged||t)(e),e&&o.props.rawPinActivity.refreshData&&o.props.rawPinActivity.refreshData()}),pe(fe(fe(o)),"renderTextHeader",function(){var e=o.props,t=e.doneCount,n=e.isDoneByMe,r=e.pinTitle;return b.a.createElement(_.b,null,b.a.createElement(me,{otherTriers:n?t-1:t,pinTitle:r}),b.a.createElement(_.j,null))}),o}return le(a,e),ce(a,[{key:"shouldComponentUpdate",value:function e(t){var n=this.props.rawPinActivity,r;return!(n&&0!==Object.keys(n).length&&!t.rawPinActivity.isLoaded)}},{key:"render",value:function e(){var t=this.props.rawPinActivity,n=t.isLoaded,r=this.props,o=r.onDoneStateChanged,a=re(r,["onDoneStateChanged"]),i=null;return i=this.renderTextHeader(),n&&t?b.a.createElement(_.b,{columns:12,shape:"rounded"},i,b.a.createElement(te,Object.assign({onDoneStateChanged:this.onDoneStateChanged,pinActivity:he(t)},a))):b.a.createElement(E,null)}}]),a}(r.Component),be=n("myYc");function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ve(e,t){if(null==e)return{};var n=_e(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _e(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),e}function Ce(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?xe(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ke(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}function Te(e,t){return(Te=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie="publish_actions",De=Object(v.b)({name:"DidItUserPinActivityResource",key:"rawPinActivity",options:function e(t){var n;return{aggregated_pin_data_id:t.aggregatedPinDataId,username:"me"}}},{allowStale:!1})(ye),Pe=Object(v.b)({name:"DidItActivityResource",key:"rawPinActivity",options:function e(t){var n;return{user_did_it_data_id:t.userDidItDataId,username:"me"}}},{allowStale:!1})(ye),Re=function e(t){return t.isDoneByMe&&t.userDidItDataId?b.a.createElement(Pe,t):t.isDoneByMe?b.a.createElement(De,t):b.a.createElement(ye,Object.assign({rawPinActivity:{isLoaded:!0,data:{}}},t))},Ae=function(e){function a(){var e,n;Ee(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return je(xe(xe(n=Ce(this,(e=Se(a)).call.apply(e,[this].concat(r))))),"state",{shareToFacebookCheckedOn:!1,shareToFacebookDisabled:!1,shareToFacebookPermissionGranted:!1}),je(xe(xe(n)),"onToggleFacebookShare",function(){var e;!n.state.shareToFacebookCheckedOn?window.FB.login(function(e){e.authResponse?i.a.checkFbTimelinePermission({success:function e(){Object(O.a)(101,{view:101,component:192,element:1365,objectId:n.props.pin.data.id}),n.setState({shareToFacebookCheckedOn:!0,shareToFacebookPermissionGranted:!0})},error:function e(){n.setState({shareToFacebookCheckedOn:!1,shareToFacebookPermissionGranted:!1,shareToFacebookDisabled:!0})}}):n.setState({shareToFacebookCheckedOn:!1,shareToFacebookPermissionGranted:!1,shareToFacebookDisabled:!0})},{scope:Ie}):(Object(O.a)(101,{view:101,component:192,element:1365,objectId:n.props.pin.data.id}),n.setState({shareToFacebookCheckedOn:!1}))}),je(xe(xe(n)),"renderFacebookSharing",function(){var e=n.state.shareToFacebookCheckedOn,t=e?"#e60023":"#ffffff";return b.a.createElement(_.b,{display:"flex",position:"absolute",justifyContent:"around",alignItems:"center",deprecatedMargin:{left:4,bottom:5},bottom:!0,left:!0},b.a.createElement(_.b,{xs:{column:1}},b.a.createElement("button",{className:"didItFacebookShareButton","aria-label":g.a._("Share on Facebook","Share tried-it on Facebook"),onClick:n.onToggleFacebookShare,style:{padding:e?"4px":"8px",borderRadius:"50%",border:e?"0":"2px solid #8e8e8e",backgroundColor:t,outline:"none"}},e&&b.a.createElement(_.n,{accessibilityLabel:g.a._("Share on Facebook","Share tried-it on Facebook"),size:12,color:"white",icon:"check"}),b.a.createElement(y,null))),b.a.createElement(_.b,{deprecatedPadding:{x:1}},b.a.createElement(_.K,{bold:!0,size:"sm",smSize:"xs",mdSize:"xs",lgSize:"sm"},g.a._("Share on Facebook","Share tried-it on Facebook"))))}),n}return ke(a,e),Oe(a,[{key:"render",value:function e(){var t=this.props,n=t.pin,r=t.isDoneByMe,o=ve(t,["pin","isDoneByMe"]),a;if(!n.isLoaded)return b.a.createElement(E,null);var i=this.state,c=i.shareToFacebookCheckedOn,u=i.shareToFacebookPermissionGranted,s,l=(Object(be.x)(Object(be.v)(Object(be.r)(this.props)))||{}).title;return b.a.createElement(_.b,{color:"white",shape:"rounded",display:"flex",column:12},!r&&this.renderFacebookSharing(),b.a.createElement(Re,Object.assign({},o,{pinTitle:l,isDoneByMe:r,shareToFacebookCheckedOn:c,shareToFacebookPermissionGranted:u})))}}]),a}(r.PureComponent),Me=Object(v.b)({name:"PinResource",key:"pin",options:function e(t){var n;return{id:t.pinId,field_set_key:"detailed"}}})(Ae),Fe=n("LQgx"),Le=n("IaRT"),Ne=n.n(Le),Ue=n("1QHH");function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ze(e,t){if(null==e)return{};var n=He(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function He(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t,n){return t&&Ve(e.prototype,t),n&&Ve(e,n),e}function Ye(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?Xe(e):t}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ze(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}function qe(e,t){return(qe=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=function e(){},$e={overlay:{padding:0},content:{height:"100%",overflow:"hidden",width:"100%"}},et=function(e){function a(){var e,n;Ge(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return Qe(Xe(Xe(n=Ye(this,(e=Ke(a)).call.apply(e,[this].concat(r))))),"state",{modalShown:!1}),Qe(Xe(Xe(n)),"onTriedItButtonClick",n.props.authAction(function(e){var t=e.event;t&&t.stopPropagation(),n.handleModalStateChange(!0),Object(O.a)(101,{view:101,component:n.props.thriftComponentType,element:1141,objectId:n.props.pinId,is_create:!n.props.isDoneByMe})})),Qe(Xe(Xe(n)),"onHideModal",function(){n.handleModalStateChange(!1),Object(O.a)(101,{view:101,component:192,element:75,objectId:n.props.pinId})}),Qe(Xe(Xe(n)),"onModalDoneStateChanged",function(e){n.handleModalStateChange(!1,e)}),Qe(Xe(Xe(n)),"handleModalStateChange",function(e,t){n.setState({modalShown:e},function(){e||(n.props.onDoneStateChanged||Je)(null!=t?t:n.props.isDoneByMe),(n.props.onToggleModal||Je)(e)})}),n}return Ze(a,e),We(a,[{key:"render",value:function e(){var t=this.props,n=t.isDoneByMe,r=ze(t,["isDoneByMe"]),o=this.context.userAgent;return b.a.createElement("div",null,this.props.children({onTriedItButtonClick:this.onTriedItButtonClick}),this.state.modalShown?b.a.createElement(Fe.a,{onHide:this.onHideModal,style:o.isMobile?$e:void 0},b.a.createElement(Me,Object.assign({},r,{isDoneByMe:n,isMobile:o.isMobile,onDoneStateChanged:this.onModalDoneStateChanged}))):null)}}]),a}(r.PureComponent);Qe(et,"contextTypes",{userAgent:Ne.a.shape({isMobile:Ne.a.bool.isRequired})}),Qe(et,"defaultProps",{aggregatedPinDataId:""});var tt=t.a=Object(Ue.a)(et)},hVG0:function(e,t,n){var r=n("vx+O"),o=n("VZq6"),a=n("oV4I"),i=n("JJqf"),c=a(function(e){var t=r(e,i);return t.length&&t[0]===e[0]?o(t):[]});e.exports=c},hXcP:function(e,t,n){var r=n("gcrN"),o=Object.prototype,a=o.hasOwnProperty,i=o.toString,c=r?r.toStringTag:void 0;function u(e){var t=a.call(e,c),n=e[c];try{var r=!(e[c]=void 0)}catch(e){}var o=i.call(e);return r&&(t?e[c]=n:delete e[c]),o}e.exports=u},hYnp:function(e,t){function n(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}e.exports=n},"hg+C":function(e,t,n){var y=n("vRa5"),b=n("JmUs"),g=n("6Hh8"),v=n("ihZi"),_=n("gQ20"),E=n("u923"),w=Math.min;function r(e,t,n){for(var r=n?g:b,o=e[0].length,a=e.length,i=a,c=Array(a),u=1/0,s=[];i--;){var l=e[i];i&&t&&(l=v(l,_(t))),u=w(l.length,u),c[i]=!n&&(t||120<=o&&120<=l.length)?new y(i&&l):void 0}l=e[0];var d=-1,f=c[0];e:for(;++d<o&&s.length<u;){var p=l[d],m=t?t(p):p;if(p=n||0!==p?p:0,!(f?E(f,m):r(s,m,n))){for(i=a;--i;){var h=c[i];if(!(h?E(h,m):r(e[i],m,n)))continue e}f&&f.push(m),s.push(p)}}return s}e.exports=r},hlGK:function(e,t,n){var r=n("8/fN"),o=n("1y9v"),a=n("0JD7"),i=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=i},"i+G2":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o,a=r(n("wncH"));t.isDisposable=a.default;var i,c=r(n("BqRI"));t.Disposable=c.default;var u,s=r(n("Tq+y"));t.CompositeDisposable=s.default;var l,d=r(n("dQw1"));t.SerialDisposable=d.default},i0Ug:function(e,t,n){"use strict";var r=n("DUIN"),o=function e(t){var n;return{viewer:t.viewer}};t.a=Object(r.connect)(o)},iHXa:function(e,t,n){var r=n("Rzma"),o=n("xYD3"),a=n("sacY");function i(e,t){return a(o(e,t,r),e+"")}e.exports=i},ievh:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("d6ZO"),o=n.n(r),a=n("JyNp");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function h(){return null}var y=function(e){function r(e,t){var n;return c(this,r),(n=l(this,f(r).call(this,e,t))).setCmp(e),n}return p(r,e),s(r,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){t.name!==this.props.name?this.setCmp(t):JSON.stringify(t.options)!==JSON.stringify(this.props.options)&&this.setCmp(t)}},{key:"setCmp",value:function e(t){var n=t.name,r=t.options,o=t.allowStale;this.cmp=Object(a.b)({name:n,options:r,key:"_"},o?void 0:{allowStale:o})(h)}},{key:"render",value:function e(){var t=this.cmp;return o.a.createElement(t,null)}}]),r}(r.PureComponent)},jcrT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var r,i=E(n("Qsew")),o,c=E(n("UziA")),a,u=E(n("kh7K")),s,l=E(n("paBd")),d,f=E(n("ma6b")),p,m=E(n("Xrrr")),h,y=E(n("z52f")),b,g=E(n("ISge")),v,_=E(n("Hut+"));function E(e){return e&&e.__esModule?e:{default:e}}function w(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};u.default.apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var o=t;"function"!=typeof t&&((0,i.default)((0,_.default)(t,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',t),o=function e(){return t}),(0,i.default)((0,c.default)(e),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',e);var a=(0,m.default)(e);return(0,i.default)("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),(0,i.default)((0,c.default)(r),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),function e(t){return(0,l.default)({connectBackend:function e(t,n){return t.connectDropTarget(n)},containerDisplayName:"DropTarget",createHandler:a,registerHandler:f.default,createMonitor:y.default,createConnector:g.default,DecoratedComponent:t,getType:o,collect:n,options:r})}}},jsUH:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("t9mU");Object.defineProperty(t,"DragDropContext",{enumerable:!0,get:function e(){return u(r).default}});var o=n("xLCe");Object.defineProperty(t,"DragDropContextProvider",{enumerable:!0,get:function e(){return u(o).default}});var a=n("bALq");Object.defineProperty(t,"DragLayer",{enumerable:!0,get:function e(){return u(a).default}});var i=n("gWCX");Object.defineProperty(t,"DragSource",{enumerable:!0,get:function e(){return u(i).default}});var c=n("jcrT");function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function e(){return u(c).default}})},jxTn:function(e,t,n){"use strict";t.a=c;var s=n("Jw9X"),r=n("THYI"),l=n.n(r),d=n("mZ/m"),o=n("XDj/"),a;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=(i(a={},o.a.aggregatedComment,"AggregatedCommentReplyResource"),i(a,o.a.pin,"AggregatedCommentResource"),i(a,o.a.didIt,"DidItCommentsResource"),a);function p(e,t){return{type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:e,aggregatedComment:t}}}function c(e){var r=e.objectId,o=e.pinId,a=e.tags,i=e.text,c=e.replyToCommentId,u=e.objectType;return function(n){var e=f[u],t={objectId:r,pinId:o,tags:a,text:i,replyToCommentId:c};return l.a.create(e,t).callCreate({showError:!1}).then(function(e){var t=e.resource_response.data;return n(p(r,t)),n(Object(s.a)({feedId:r,feedType:d.b.AGGREGATED_COMMENTS,itemIds:[t.id],itemType:t.type})),e})}}},kGVR:function(e,t){function n(e){return e!=e}e.exports=n},kJ6e:function(e,t,n){var r=n("X1kf");function o(e){return r(e)?e:[]}e.exports=o},kh7K:function(e,t,n){"use strict";function r(e,t){var n,r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},kqYA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("YlIK"),o=n("mIxQ"),a=n.n(o),i=n("THYI"),c=n.n(i),u=n("/+lb"),s=n("EAiy"),l=n("63R5"),d=!1,f={ensureInit:function e(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.a,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"en_US";if(o)Object(l.b)("//connect.facebook.net/".concat(a,"/sdk.js"),l.a.FACEBOOK,!0).then(function(){n._fbCallback(t,r)});else{var i="fb";u.default.load([],"//connect.facebook.net/".concat(a,"/sdk.js"),i),u.default.ready(i,function(){n._fbCallback(t,r)})}},_fbCallback:function e(t,n){var r=window.FB;r&&(d||(r.init({appId:a.a.FB_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",function(e){f.refreshAccessToken(n)}),d=!0),t(r))},ensureLoggedIn:function e(t,n){f.ensureInit(function(e){f.logIn(e,t)},n)},logIn:function e(t,n){t&&(t.getUserID()?n(t):t.login(function(){n(t)}))},refreshAccessToken:function e(t){t.isAuthenticated()&&t.attributes.facebook_id&&!t.isLimitedLogin()&&f.ensureInit(function(e){if(e.getUserID()){var t=e.getAccessToken(),n;if(t)c.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}},t)},injectTrackingPixel:function e(t){!function(){var e=window._fbq||(window._fbq=[]);if(!e.loaded){var t=document.createElement("script");t.async=!0,t.src="//connect.facebook.net/en_US/fbds.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),e.loaded=!0}}(),window._fbq=window._fbq||[],window._fbq.push(["track",t,{value:"0.00",currency:"USD"}])}};t.default=r.a.expose("Facebook",f)},"kv+N":function(e,t,n){"use strict";var r=n("d6ZO"),s=n.n(r),l=n("W/Cr"),d=n("R6a3"),f=n("rgtM"),p=n("gEaE"),o=function e(t){var n=t.accessibilityModalLabel,r=t.cancelButtonText,o=t.confirmButtonText,a=t.detail,i=t.heading,c=t.onConfirm,u=t.onDismiss;return s.a.createElement(d.a,{accessibilityCloseLabel:l.a._("close","accessible label for button to close modal"),accessibilityModalLabel:n,heading:i,onDismiss:u,size:"md"},s.a.createElement(p.b,null,s.a.createElement(p.b,{padding:4},s.a.createElement(p.K,{size:"lg"},a)),s.a.createElement(p.b,{display:"flex",justifyContent:"end"},s.a.createElement(p.b,{margin:2},s.a.createElement(f.a,{id:"cancel"},s.a.createElement(p.c,{onClick:u,text:r}))),s.a.createElement(p.b,{margin:2},s.a.createElement(f.a,{id:"confirm"},s.a.createElement(p.c,{color:"red",onClick:function e(){c(),u()},text:o}))))))};t.a=o},kxCB:function(e,t,n){"use strict";t.a=v;var r=n("d6ZO"),o=n.n(r),a=n("IaRT"),i=n.n(a),c=n("qMdf"),u=n.n(c);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?b(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(t){var e,n;return n=e=function(e){function a(){var e,t;l(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return g(b(b(t=p(this,(e=m(a)).call.apply(e,[this].concat(r))))),"showToast",function(n){t.context.showToast?t.context.showToast(n):u()().then(function(e){var t;e.default.showReactToast(n)})}),g(b(b(t)),"hideAllToasts",function(){t.context.hideAllToasts?t.context.hideAllToasts():u()().then(function(e){var t;e.default.removeAllToasts()})}),t}return h(a,e),f(a,[{key:"render",value:function e(){return r.createElement(t,Object.assign({},this.props,{hideAllToasts:this.hideAllToasts,showToast:this.showToast}))}}]),a}(r.Component),g(e,"displayName","WithShowToast(".concat(t.displayName||t.name,")")),g(e,"contextTypes",{showToast:i.a.func,hideAllToasts:i.a.func}),n}},lEeN:function(e,t,n){var r=n("psHy"),o=n("Riwm"),a=n("Ydjj");function i(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}e.exports=i},lOQh:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},lcvw:function(e,t,n){var r=n("IudV");function o(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=o},"ldX/":function(e,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,t){var n=i("KsY6"),r;r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:t;var o=Object(n.a)(r);a.default=o}.call(a,i("5jJ4"),i("/sDf")(e))},"lip+":function(e,t,n){"use strict";var r=n("DUIN"),o=function e(t){var n,r;return(0,t.children)(t.viewer)},a=function e(t){var n;return{viewer:t.viewer}};t.a=Object(r.connect)(a)(o)},lyfI:function(e,t,n){var r=n("EGQl"),o=n("4SkS"),a=n("8CGM"),i=a&&a.isTypedArray,c=i?o(i):r;e.exports=c},mRSq:function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty,a=0;a<n.length;a+=1){if(!o.call(t,n[a])||e[n[a]]!==t[n[a]])return!1;var i,c;if(e[n[a]]!==t[n[a]])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},"mZ/m":function(e,t,n){"use strict";n.d(t,"b",function(){return we}),n.d(t,"a",function(){return u}),t.d=Se;var r=n("Awha"),ge=n.n(r),a=n("B0A7");function ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){_e(t,e,n[e])})}return t}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e){return c(e)||i(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var s=["search_banner_story","search_articles_story","hashtag_pins_story"],we={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARD_SECTIONS:"boardSections",COMMUNITY_BANNED_USERS:"communityBannedUsers",COMMUNITY_COMMENTS:"communityComments",COMMUNITY_MEMBERS:"communityMembers",COMMUNITY_POSTS:"communityPosts",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",USER_DID_IT_DATA:"userDidItData",PROFILE_BOARDS:"profileBoards"},u="communityActivityFeed",Oe={AggregatedActivityFeedResource:function e(t){var n=t.options.aggregated_pin_data_id;return{type:we.USER_DID_IT_DATA,id:n}},AggregatedCommentResource:function e(t){var n=t.options.objectId;return{type:we.AGGREGATED_COMMENTS,id:n}},AggregatedCommentReplyResource:function e(t){var n=t.options.objectId;return{type:we.AGGREGATED_COMMENTS,id:n,reversed:!0}},BoardActivityFeedResource:function e(t){var n=t.options.board_id;return{type:we.BOARD_ACTIVITYITEMS,id:n}},BoardActivityCommentFeedResource:function e(t){var n=t.options,r=n.activityId,o=n.parentType;return{type:we.BOARD_ACTIVITYCOMMENTS,id:r,reversed:"boardactivitycomment"===o}},BoardFeedResource:function e(t){var n=t.options.board_id;return{type:we.BOARD_PINS,id:n}},BoardSectionPinsResource:function e(t){var n=t.options.section_id;return{type:we.SECTION_PINS,id:n}},BoardSectionsResource:function e(t){var n=t.options.board_id;return{type:we.BOARD_SECTIONS,id:n}},BoardsResource:function e(t){var n=t.options,r=n.username,o=n.sort;return{type:we.PROFILE_BOARDS,id:Object(a.c)(r,o)}},BaseSearchResource:function e(t){
var n=t.options,r=n.auto_correction_disabled,o=n.scope,a=n.filters,i=n.query_pin_sigs,c=n.query,u=t.data;return{type:we.SEARCH_PINS,id:r?"auto-correction-disabled:".concat(o,":").concat(a||"",":").concat(i||"",":").concat(c):"".concat(o,":").concat(a||"",":").concat(i||"",":").concat(c),items:u&&u.results&&u.results.filter(function(e){return!(e.story_type&&s.includes(e.story_type))})||[]}},CommunityBannedUsersFeedResource:function e(t){var n=t.options.communityId;return{type:we.COMMUNITY_BANNED_USERS,id:n}},CommunityMembersFeedResource:function e(t){var n=t.options.communityId;return{type:we.COMMUNITY_MEMBERS,id:n}},CommunityItemCommentsFeedResource:function e(t){var n=t.options,r=n.communityItemId,o=n.parentType;return{type:we.COMMUNITY_COMMENTS,id:r,reversed:"communitycomment"===o}},CommunityPostFeedResource:function e(t){var n=t.options.communitySlugOrId;return{type:we.COMMUNITY_POSTS,id:n}},CommunityPostActivityFeedResource:function e(){return{type:we.COMMUNITY_POSTS,id:u}},DidItCommentsResource:function e(t){var n=t.options.objectId;return{type:we.AGGREGATED_COMMENTS,id:n,reversed:!0}},DidItUserFeedResource:function e(t){var n=t.options.username;return{type:we.USER_DID_IT_DATA,id:n}},MoreIdeasTabsResource:function e(){return{type:we.HOMEFEED_MORE_IDEAS_TABS,id:"hf"}}},Ce={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardPins:{},boardSections:{},communityBannedUsers:{},communityComments:{},communityMembers:{},communityPosts:{},homefeedMoreIdeasTabs:{},searchPins:{},sectionPins:{},userDidItData:{},profileBoards:{}};function Se(e,t,n){var r=Ee(e),o=r.splice(t,1)[0];return r.splice(n,0,o),r}var ke=function e(t,n){switch(t.type){case"story":return{id:t.id,type:"story",story_type:t.story_type};case"module":return{id:t.id,type:"module",name:t.name};case"user":return{id:t.id,type:"user",community_roles:t.community_roles};case"communitypost":return{id:t.id,type:"communitypost",sticky:t.sticky};case"board":return n===we.PROFILE_BOARDS?{id:t.id,type:"board",onProfile:!0,profileGroup:t.archived_by_me_at?"archived":t.privacy||"public"}:{id:t.id,type:"board",onProfile:!1};case"boardactivity":return{id:t.id,type:"boardactivity"};case"boardactivitycomment":return{id:t.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:t.id};case"communitycomment":return{type:"communitycomment",id:t.id};case"userdiditdata":return{type:"userdiditdata",id:t.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:t.id};default:return{type:"pin",id:t.id}}},l=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ce,n=1<arguments.length?arguments[1]:void 0;switch(n.type){case"RESOURCE_FETCH_COMPLETE":case"RESOURCE_FETCH_MORE_COMPLETE":var r=n.payload;if(!r.options.redux_normalize_feed)return t;var o=Oe[r.name](r),a=o.type,i=o.id,c=o.items,u=o.reversed,s=(c||r.data||[]).map(function(e){return ke(e,a)});u&&(s=s.reverse());var l=t[a][i];if(l||"RESOURCE_FETCH_MORE_COMPLETE"!==n.type){var d=l||[],f=s;return"RESOURCE_FETCH_MORE_COMPLETE"===n.type&&(f=u?s.concat(d):d.concat(s)),ve({},t,_e({},a,ve({},t[a],_e({},i,f))))}break;case"FEED_ITEM_REORDERED":var p=n.payload,m=p.feedType,h=p.feedId,y=p.itemType,b=p.targetItemId,g=p.sourceItemId,v=t[m]||{},_=v[h]||[],E=-1,w=-1;if([we.BOARD_PINS,we.SECTION_PINS,we.BOARD_SECTIONS,"profileBoards"].includes(m)&&(E=_.findIndex(function(e){return e.type===y&&e.id===g}),w=_.findIndex(function(e){return e.type===y&&e.id===b})),-1!==E&&-1!==w)return ve({},t,_e({},m,ve({},v,_e({},h,Se(_,E,w)))));break;case"FEED_ITEMS_REMOVED":var O=n.payload,C=O.feedType,S=O.feedId,k=O.inverseSelection,T=O.itemType,x=O.itemIds,j=void 0===x?[]:x,I=t[C]||{},D=I[S],P,R,A;if(D&&0<D.length&&(C===we.SECTION_PINS||C===we.BOARD_PINS)){var M=D.filter(function(e){var t=j.includes(e.id),n;return!(e.type===T&&(k&&!t||!k&&t))}),F;return ve({},t,_e({},C,ve({},I,_e({},S,!!M.find(function(e){return"pin"===e.type})?M:[]))))}if(D&&0<D.length&&C===we.BOARD_SECTIONS)return ve({},t,_e({},C,ve({},I,_e({},S,D.filter(function(e){var t=j.includes(e.id);return!(e.type===T&&t)})))));if(D&&0<D.length&&(C===we.BOARD_ACTIVITYITEMS||C===we.AGGREGATED_COMMENTS||C===we.BOARD_ACTIVITYCOMMENTS||C===we.COMMUNITY_POSTS||C===we.COMMUNITY_COMMENTS||C===we.USER_DID_IT_DATA))return ve({},t,_e({},C,ve({},I,_e({},S,D.filter(function(e){var t=j.includes(e.id);return!(e.type===T&&t)})))));if(D&&0<D.length&&(C===we.COMMUNITY_MEMBERS||C===we.COMMUNITY_BANNED_USERS))return ve({},t,_e({},C,_e({},S,D.filter(function(e){var t=j.includes(e.id);return!(e.type===T&&t)}))));break;case"FEED_ITEMS_ADDED":var L=n.payload,N=L.feedType,U=L.feedId,B=L.itemType,z=L.itemIds,H=void 0===z?[]:z,G=L.prepend,V=t[N]||{},W=V[U];if(W&&(N===we.SECTION_PINS||N===we.BOARD_PINS)){var Y=H.map(function(e){return{id:e,type:B}}),K=0,Z;return"story"===(W[0]||{}).type&&(K=1),"story"===(W[1]||{}).type&&(K=2),ve({},t,_e({},N,ve({},V,_e({},U,Ee(W.slice(0,K)).concat(Ee(Y),Ee(W.slice(K)))))))}if(W&&N===we.BOARD_SECTIONS){var q=H.reverse().map(function(e){return{id:e,type:"board_section"}}),X;return ve({},t,_e({},N,ve({},V,_e({},U,W?Ee(q).concat(Ee(W)):Ee(q)))))}if(N===we.BOARD_ACTIVITYITEMS||N===we.AGGREGATED_COMMENTS||N===we.BOARD_ACTIVITYCOMMENTS||N===we.COMMUNITY_COMMENTS){var Q=H.map(function(e){return{id:e,type:B}}),J;return ve({},t,_e({},N,ve({},V,_e({},U,W?Ee(G?Q:W).concat(Ee(G?W:Q)):Q))))}if(N===we.COMMUNITY_POSTS){var $=H.map(function(e){return{id:e,type:"communitypost",sticky:!1}}),ee=W||[],te=ee.filter(function(e){return"communitypost"===e.type&&!0===e.sticky}),ne=ee.filter(function(e){return"communitypost"===e.type&&!1===e.sticky}),re;return ve({},t,_e({},N,ve({},V,_e({},U,Ee(te).concat(Ee($),Ee(ne))))))}if(N===we.USER_DID_IT_DATA){var oe=H.map(function(e){return{id:e,type:B}}),ae;return ve({},t,_e({},N,_e({},U,W?Ee(oe).concat(Ee(W)):oe)))}if(N!==we.COMMUNITY_MEMBERS&&N!==we.COMMUNITY_BANNED_USERS)break;var ie=H.map(function(e){return{id:e,type:B}}),ce;return ve({},t,_e({},N,_e({},U,W?Ee(W).concat(Ee(ie)):ie)));case"FEED_INVALIDATE":var ue=n.payload,se=ue.feedType,le=ue.feedId,de=t[se]||{};if(de[le])return ve({},t,_e({},se,ve({},de,_e({},le,null))));break;case"FEED_ITEM_UPDATED":var fe=n.payload,pe=fe.feedType,me=fe.feedId,he=fe.updatedItem,ye=t[pe]||{},be=ye[me];if(be&&(pe===we.COMMUNITY_MEMBERS||we.COMMUNITY_POSTS))return ve({},t,_e({},pe,ve({},ye,_e({},me,be.map(function(e){return e.id===he.id?ge()(e,he):e})))))}return t};t.c=l},ma6b:function(e,t,n){"use strict";function r(e,t,n){var r=n.getRegistry(),o=r.addTarget(e,t);function a(){r.removeTarget(o)}return{handlerId:o,unregister:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},mnfW:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),t.c=o;var v=n("W/Cr"),i=function e(t){return v.a.getPluralFunction(t)},u=function e(t,n,r,o){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"symbol",i={maximumFractionDigits:t,minimumFractionDigits:n};return r&&"currency"===(i.style=r)&&(i.currency=o,i.currencyDisplay=a),i},_=function e(t,n){var r=n||0,o=Math.pow(10,r),a=+(r?t*o:t).toFixed(8),i=Math.floor(a),c=a-i,u=1e-8,s=.5-u<c&&c<.5+u?i%2==0?i:i+1:Math.round(a);return r?s/o:s},r={USD:"$",GBP:"",CAD:"$",EUR:"",AUD:"A$",NZD:"NZ$",SEK:"kr"};function E(e,t,n,r,o,a,i){var c=u(n,r,o,a,i);return t.toLocaleString([e],c)}function o(e,t,n){var r,o,a=n&&n.style||void 0,i=n&&n.shortform||!1,c=n&&n.uplimit||void 0,u=n&&n.currency||void 0;if(c&&c<t)return"".concat(c,"+");if(o="currency"===a?(r=void 0===n||void 0===n.maximum_fraction_digits?2:n.maximum_fraction_digits,void 0===n||void 0===n.minimum_fraction_digits?2:n.minimum_fraction_digits):(r=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits),i&&999<t&&(r=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,o=0),r<o)return String(t);var s=t,l="",d=[{"100M":{value:1e8,localeKey:v.a._("","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:v.a._("","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],f=[{b:{value:1e9,localeKey:v.a._("b","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:v.a._("m","Abbreviation for one million.")}},{k:{value:1e3,localeKey:v.a._("k","Abbreviation for one thousand.")}}],p=/^zh|ja|ko/.test(e),m;if(i&&999<t)for(var h=p?d:f,y=0;y<h.length;y+=1){var b=Object.keys(h[y])[0],g=h[y][b].value;if(g<=t){s=_(t/g*Math.pow(10,r))/Math.pow(10,r),l=h[y][b].localeKey;break}}return E(e,s,r,o,a,u||void 0)+l}function a(e,t,n,r){var o=+i(e)(r),a;return a="en-US"===e&&1===o?n:t,v.a._(a,"",o)}var c={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH_DAY:"short_month_day"},s,l={DateFormatType:c,formatDate:function e(t,n,r){var o=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],a,i;if(r===c.YEAR)return(n.getYear()+1900).toString();switch(r){case c.LONG:a={year:"numeric",month:"long",day:"numeric"};break;case c.NUMERIC:a={year:"numeric",month:"numeric",day:"numeric"};break;case c.WEEKDAY_DATE:a={weekday:"long",month:"long",day:"numeric",year:"numeric"};break;case c.SHORT_WEEKDAY_DATE:a={weekday:"short",month:"numeric",day:"numeric"};break;case c.MONTH_DAY:a={month:"long",day:"numeric"};break;case c.SHORT_MONTH_DAY:a={month:"short",day:"numeric"};break;case c.LONG_MONTH_YEAR:a={month:"long",year:"numeric"};break;default:throw new Error('invalid dateFormatType "'+r+'"')}return o&&(a.timeZone="UTC"),IntlPolyfill.__disableRegExpRestore(),new IntlPolyfill.DateTimeFormat(t,a).format(n)},ngettext:a,prettyNumberFormat:o,numberFormat:E,currencySymbols:r};t.b=l},muM2:function(e,t,n){"use strict";t.__esModule=!0,t.ActionTypes=void 0,t.default=g;var r,h=a(n("ZecK")),o,y=a(n("ldX/"));function a(e){return e&&e.__esModule?e:{default:e}}var b=t.ActionTypes={INIT:"@@redux/INIT"};function g(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(g)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,a=t,i=[],c=i,u=!1;function s(){c===i&&(c=i.slice())}function l(){return a}function d(n){if("function"!=typeof n)throw new Error("Expected listener to be a function.");var r=!0;return s(),c.push(n),function e(){if(r){r=!1,s();var t=c.indexOf(n);c.splice(t,1)}}}function f(e){if(!(0,h.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,a=o(a,e)}finally{u=!1}for(var t=i=c,n=0;n<t.length;n++){var r;(0,t[n])()}return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,f({type:b.INIT})}function m(){var e,o=d;return(e={subscribe:function e(t){if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(l())}var r;return n(),{unsubscribe:o(n)}}})[y.default]=function(){return this},e}return f({type:b.INIT}),(r={dispatch:f,subscribe:d,getState:l,replaceReducer:p})[y.default]=m,r}},myrz:function(e,t,n){var r,o,a=n("6jS8")(n("ghX8"),"Map");e.exports=a},"n/NP":function(e,t,n){var r,o=n("f2d5")(Object,"create");e.exports=o},nDxS:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a,i=m(n("Qsew")),c,u=m(n("2cew")),s,l=m(n("U03j")),d=n("V4Pm"),f,p=m(n("yQS/"));function m(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var y="SOURCE",b="TARGET";function g(e){(0,i.default)("function"==typeof e.canDrag,"Expected canDrag to be a function."),(0,i.default)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),(0,i.default)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}function v(e){(0,i.default)("function"==typeof e.canDrop,"Expected canDrop to be a function."),(0,i.default)("function"==typeof e.hover,"Expected hover to be a function."),(0,i.default)("function"==typeof e.drop,"Expected beginDrag to be a function.")}function _(e,t){t&&(0,u.default)(e)?e.forEach(function(e){return _(e,!1)}):(0,i.default)("string"==typeof e||"symbol"===(void 0===e?"undefined":o(e)),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function E(e){var t=(0,p.default)().toString();switch(e){case y:return"S"+t;case b:return"T"+t;default:(0,i.default)(!1,"Unknown role: "+e)}}function w(e){switch(e[0]){case"S":return y;case"T":return b;default:(0,i.default)(!1,"Cannot parse handler ID: "+e)}}var O=function(){function t(e){h(this,t),this.store=e,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return r(t,[{key:"addSource",value:function e(t,n){_(t),g(n);var r=this.addHandler(y,t,n);return this.store.dispatch((0,d.addSource)(r)),r}},{key:"addTarget",value:function e(t,n){_(t,!0),v(n);var r=this.addHandler(b,t,n);return this.store.dispatch((0,d.addTarget)(r)),r}},{key:"addHandler",value:function e(t,n,r){var o=E(t);return this.types[o]=n,this.handlers[o]=r,o}},{key:"containsHandler",value:function e(t){var n=this;return Object.keys(this.handlers).some(function(e){return n.handlers[e]===t})}},{key:"getSource",value:function e(t,n){var r,o;return(0,i.default)(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.handlers[t]}},{key:"getTarget",value:function e(t){return(0,i.default)(this.isTargetId(t),"Expected a valid target ID."),this.handlers[t]}},{key:"getSourceType",value:function e(t){return(0,i.default)(this.isSourceId(t),"Expected a valid source ID."),this.types[t]}},{key:"getTargetType",value:function e(t){return(0,i.default)(this.isTargetId(t),"Expected a valid target ID."),this.types[t]}},{key:"isSourceId",value:function e(t){var n;return w(t)===y}},{key:"isTargetId",value:function e(t){var n;return w(t)===b}},{key:"removeSource",value:function e(t){var n=this;(0,i.default)(this.getSource(t),"Expected an existing source."),this.store.dispatch((0,d.removeSource)(t)),(0,l.default)(function(){delete n.handlers[t],delete n.types[t]})}},{key:"removeTarget",value:function e(t){var n=this;(0,i.default)(this.getTarget(t),"Expected an existing target."),this.store.dispatch((0,d.removeTarget)(t)),(0,l.default)(function(){delete n.handlers[t],delete n.types[t]})}},{key:"pinSource",value:function e(t){var n=this.getSource(t);(0,i.default)(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}},{key:"unpinSource",value:function e(){(0,i.default)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}}]),t}();t.default=O},nKBm:function(e,t,n){var r=n("r+iz"),o=n("AgRu"),a=n("O/Ib"),i=n("7jsK"),c=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,d=s.toString,f=l.hasOwnProperty,p=RegExp("^"+d.call(f).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(e){return!(!a(e)||o(e))&&(r(e)?p:u).test(i(e));var t}e.exports=m},nKu0:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},nM9s:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var E=n("d6ZO"),r=n.n(E),i=n("FHH+"),o=n("GGB8"),w=n.n(o),O=n("cy6F");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?m(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function a(){var e,t;c(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(m(m(t=l(this,(e=d(a)).call.apply(e,[this].concat(r))))),"handleClick",function(e){e&&e.preventDefault(),t.props.loading||(t.props.src?Object(i.a)(t.props.src):t.props.onClick&&t.props.onClick(e),t.props.stopPropagation&&e.stopPropagation())}),t}return f(a,e),s(a,[{key:"render",value:function e(){var t=this.props,n=t.accessibilityLabel,r=t.children,o=t.disabled,a=t.hasIcon,i=t.htmlType,c=t.id,u=t.itemProp,s=t.large,l=t.loading,d=t.onMouseDown,f=t.onMouseEnter,p=t.onMouseLeave,m=t.rel,h=t.rounded,y=t.showText,b=t.style,g=t.text,v=t.type,_=w()(this.props.className,{Button:"plain"!==v,Module:"plain"!==v,btn:"borderless"!==v&&"plain"!==v,hasIcon:a,hasText:y,rounded:!0===h,leftRounded:"left"===h,rightRounded:"right"===h,borderless:"borderless"===v,primary:"primary"===v,disabled:o,large:s});return E.createElement("button",{"aria-label":n||null,className:_,disabled:o,id:c,itemProp:u,onClick:this.handleClick,onMouseDown:d,onMouseEnter:f,onMouseLeave:p,rel:m,style:b,type:i},l?E.createElement(O.a,{size:"small"}):null,r,a?E.createElement("em",null):null,E.createElement("span",{className:y?"buttonText":"accessibilityText"},g))}}]),a}(E.Component);h(y,"defaultProps",{disabled:!1,htmlType:"button",large:!1,rounded:!0,showText:!0,type:"default"})},nX0T:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("s149"),i=n("gEJd"),c=function e(t){return r.createElement(i.a,Object.assign({},t,{timeSpentManager:a.a}))};t.a=c},ncT4:function(e,t){function n(){}e.exports=n},neDk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyImage=t.NativeTypes=void 0,t.default=d;var r,o=l(n("Tgy+")),a,i=l(n("YWdZ")),c,u=s(n("XYyz"));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}function d(e){return new o.default(e)}t.NativeTypes=u,t.getEmptyImage=i.default},nhMV:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("d6ZO"),i=n.n(r),c=n("mnfW"),u=n("dZgC"),o=c.b.DateFormatType,a=function e(t){var n=t.dateFormatType,r=t.useUTC,o=void 0===r||r,a=t.value;return i.a.createElement(u.b,null,function(e){return c.b.formatDate(e.locale,a,n,o)})};t.b=a},nrKj:function(e,t,n){var r=n("s7Vk"),o=n("Hg71"),a=n("Eava");function i(e){return a(e)?r(e,!0):o(e)}e.exports=i},o2yE:function(e,t,n){var r=n("FBJc");function o(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}e.exports=o},oKhL:function(e,t,n){var u=n("dSsL"),s=Math.max;function r(a,i,c){return i=s(void 0===i?a.length-1:i,0),function(){for(var e=arguments,t=-1,n=s(e.length-i,0),r=Array(n);++t<n;)r[t]=e[i+t];t=-1;for(var o=Array(i+1);++t<i;)o[t]=e[t];return o[i]=c(r),u(a,this,o)}}e.exports=r},oRS4:function(e,t){function n(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.exports=n},oV4I:function(e,t,n){var r=n("0JD7"),o=n("oKhL"),a=n("DY8y");function i(e,t){return a(o(e,t,r),e+"")}e.exports=i},oZYS:function(e,t){var r=Object.prototype;function n(e){var t=e&&e.constructor,n;return e===("function"==typeof t&&t.prototype||r)}e.exports=n},okCi:function(e,t,n){"use strict";var r=n("d6ZO"),u=n.n(r),o=n("DUIN"),s=n("W/Cr"),a=n("IaRT"),i=n.n(a),c=n("8e8Q"),l=n("gEaE");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?v(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function a(){var e,n;f(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return _(v(v(n=h(this,(e=y(a)).call.apply(e,[this].concat(r))))),"state",{textValue:n.props.initialTextValue||""}),_(v(v(n)),"handleSendMessage",function(){n.props.onSendMessage(n.props.recipient,n.state.textValue)}),_(v(v(n)),"handleTextValueChange",function(e){var t=e.value;n.setState({textValue:t})}),n}return b(a,e),m(a,[{key:"render",value:function e(){var t=this.props,n=t.isFlyout,r=t.onCancelDraft,o=t.recipient,a=t.viewerId,i="conversation_share_suggestion"===o.type,c=i?(o.users||[]).filter(function(e){return e.id!==a}):[];return u.a.createElement(l.b,{xs:{display:"flexColumn",column:12},deprecatedPadding:{x:2}},u.a.createElement(l.b,{display:"flex",alignItems:"center",deprecatedPadding:{y:2}},u.a.createElement(l.b,{deprecatedPadding:{x:1}},i?u.a.createElement(l.l,{collaborators:c.map(function(e){return{name:e.full_name||e.first_name,src:e.image_large_url}}),size:"md"}):u.a.createElement(l.a,{name:o.full_name||o.email||" ",src:o.image_large_url,size:"md"})),u.a.createElement(l.b,{flex:"grow"},u.a.createElement(l.K,{bold:!0,smSize:"xs",mdSize:"sm",lgSize:"md"},i?c.map(function(e){return e.first_name||e.full_name}).join(", "):o.full_name||o.email)),n?u.a.createElement(l.o,{accessibilityLabel:s.a._("Cancel share to user","accessibility label for close button"),icon:"cancel",onClick:r,size:"sm"}):null),u.a.createElement(l.b,{xs:{display:"flexColumn",column:12},deprecatedPadding:{y:2}},u.a.createElement(l.L,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:s.a._("Add a message"),value:this.state.textValue||""}),u.a.createElement(l.b,{deprecatedPadding:{y:1}},u.a.createElement(l.c,{color:"red",onClick:this.handleSendMessage,type:"submit",text:s.a._("Send")}))))}}]),a}(r.Component);t.a=Object(o.connect)(function(e){return{viewerId:e.viewer.isAuth?e.viewer.id:""}})(E)},olJE:function(e,t){var n,r=Object.prototype.toString;function o(e){return r.call(e)}e.exports=o},"p/7r":function(e,t,n){var r=n("FKtX"),o="__lodash_hash_undefined__";function a(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}e.exports=a},p9aX:function(e,t,n){var r=n("xE6w"),o=n("Ya4R"),a=n("iHXa"),i=n("Sqw4"),c=a(function(e){return e.push(void 0,i),r(o,void 0,e)});e.exports=c},"pN+K":function(e,t,n){"use strict";t.a=j,t.c=M;var l=n("d6ZO"),r=n.n(l),o=n("DUIN"),a=n("lJK6"),h=n("FfPm"),i=n("IaRT"),c=n.n(i),u=n("S+Qs");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function d(e,t){if(null==e)return{};var n=f(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function f(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function p(e){return b(e)||y(e)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function y(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function b(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){T(t,e,n[e])})}return t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),e}function w(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?k(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function e(t,n){return JSON.stringify(t)===JSON.stringify(n)};function j(e,t){return Object(a.a)("function"==typeof e?e(t):e||{})}var I=function e(t){var m={};return function(c){return function(e,s){var t=e.resources,r=t.fetching,l=t.data,n=c.some(function(e){var t=e.name,n=e.options;return r[t]&&r[t][j(n,s)]}),d={},f,p=[];c.forEach(function(e){var t=e.name,n=e.options,r=e.key;if(l[t]){var o=j(n,s);if(m[t]||(o in l[t]?h.default.increment("webapp.withResource.cache-hit",.05,{resource:t,cache_size:Object.keys(l[t]).length,level:"success",v:1}):Object.keys(l[t]).length?h.default.increment("webapp.withResource.populated-cache-miss",.05,{resource:t,cache_size:Object.keys(l[t]).length,level:"error",v:1}):h.default.increment("webapp.withResource.empty-cache-miss",.05,{resource:t,cache_size:Object.keys(l[t]).length,level:"warn",v:1})),m[t]=!0,l[t][o]){var a=l[t][o],i=a.data,c=a.nextBookmark,u=a.error;d[r]=i,p.push(c),u&&(f=u)}}else h.default.increment("webapp.withResource.no-cache",.05,{resource:t,cache_size:0,level:"error",v:1})});var o=c.every(function(e){var t=e.key;return void 0!==d[t]}),a,i;return{resourceLoaded:o,isAtEnd:o&&!n&&p.every(function(e){return"-end-"===e}),isFetching:n,nextBookmark:p[0],resourceData:d,error:f}}}},D=function e(i){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(s){var e,t;return t=e=function(e){function a(){var e,t;v(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return T(k(k(t=w(this,(e=O(a)).call.apply(e,[this].concat(r))))),"loadData",function(o){var a=c;i.forEach(function(e){var t=e.options,n=e.name,r="function"==typeof t?t(o):t;o.dispatch(Object(u.a)(n,r,void 0,void 0,a.traceLoggerHandlerName))})}),T(k(k(t)),"loadMoreData",function(o){var a=c;i.forEach(function(e){var t=e.options,n=e.name,r="function"==typeof t?t(o):t;o.dispatch(Object(u.d)(n,r,void 0,void 0,a.traceLoggerHandlerName))})}),T(k(k(t)),"resourcesHash",JSON.stringify(i.map(function(e){return g({},e,{options:j(e.options,t.props)})}))),t}return C(a,e),E(a,[{key:"componentDidMount",value:function e(){!1!==c.allowStale&&this.props.resourceLoaded||this.loadData(this.props)}},{key:"shouldComponentUpdate",value:function e(t){var n=p(Object.keys(this.props)).concat(p(Object.keys(t))),r=!0,o=!1,a=void 0;try{for(var i=n[Symbol.iterator](),c;!(r=(c=i.next()).done);r=!0){var u=c.value;if("resourceData"===u){if(!x(this.props.resourceData,t.resourceData))return!0}else if(this.props[u]!==t[u])return!0}}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return!1}},{key:"UNSAFE_componentWillUpdate",value:function e(t){!this.props.resourceLoaded&&t.resourceLoaded&&this.props.onResourceLoaded&&this.props.onResourceLoaded(),!this.props.error&&t.error&&this.props.onResourceError&&this.props.onResourceError(t.error);var n=JSON.stringify(i.map(function(e){return g({},e,{options:j(e.options,t)})}));this.resourcesHash!==n&&(this.loadData(t),this.resourcesHash=n)}},{key:"render",value:function e(){var t=this,n=this.props,r=n.error,o=n.isAtEnd,a=n.isFetching,i=n.resourceData,c=n.resourceLoaded,u=d(n,["error","isAtEnd","isFetching","resourceData","resourceLoaded"]);return delete u.onResourceError,delete u.onResourceLoaded,l.createElement(s,Object.assign({},i,u,{error:r,fetchMoreData:function e(){return t.loadMoreData(t.props)},isAtEnd:o,isFetching:a,refreshData:function e(){return t.loadData(t.props)},resourceLoaded:c}))}}]),a}(l.Component),T(e,"WrappedComponent",s),T(e,"displayName",1===i.length?i[0].name:"".concat(i.length," resources")),t}},P=function e(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e){var t={name:n.name,options:n.options||{},key:n.key||"data"};return Object(o.connect)(I(e)([t]))(D([t],r)(e))}},R=P;t.b=P;var A=function e(t){var a=t.name,i=t.options;return function(e,t){var n=e.resources.data;if(n[a]){var r=j(i,t),o;if(n[a][r])return{data:n[a][r].data}}return{data:null}}};function M(e){var t=e.name,n=e.options;return Object(o.connect)(A({name:t,options:n||{}}))}},pOMZ:function(e,t,n){"use strict";t.a=u,t.b=s;var r=n("/e0Y"),o=n("THYI"),a=n.n(o);function i(e){return a.a.create("BoardFollowResource",{board_id:e})}function c(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function u(t){var n="board-follow";return function(e){i(t).callCreate().then(function(){r.a.trackEvent(n,"success")}).catch(function(){r.a.trackEvent(n,"error"),e(c(t,!1))}),e(c(t,!0))}}function s(t){var n="board-unfollow";return function(e){i(t).callDelete().then(function(){r.a.trackEvent(n,"success")}).catch(function(){r.a.trackEvent(n,"error"),e(c(t,!0))}),e(c(t,!1))}}},pOmq:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}t.a=r},pWXS:function(e,t,n){var r=n("qz2m"),o=n("1Ij8"),a=n("olJE"),i="[object Null]",c="[object Undefined]",u=r?r.toStringTag:void 0;function s(e){return null==e?void 0===e?c:i:u&&u in Object(e)?o(e):a(e)}e.exports=s},paBd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.default=d;var v=n("d6ZO"),_=l(v),r,E=l(n("IaRT")),w=n("i+G2"),o,a=l(n("UziA")),i,O=l(n("Qsew")),c,C=l(n("csYt")),u,S=l(n("FB4j")),s,k=l(n("+sf/"));function l(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var I=function e(t){return Boolean(t&&t.prototype&&"function"==typeof t.prototype.render)};function d(e){var t,n,o=e.DecoratedComponent,a=e.createHandler,i=e.createMonitor,c=e.createConnector,u=e.registerHandler,r=e.containerDisplayName,s=e.getType,l=e.collect,d,f=e.options.arePropsEqual,p=void 0===f?k.default:f,m=o.displayName||o.name||"Component",h=(n=t=function(e){function r(e,t){T(this,r);var n=x(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.handleChange=n.handleChange.bind(n),n.handleChildRef=n.handleChildRef.bind(n),(0,O.default)("object"===b(n.context.dragDropManager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",m,m),n.manager=n.context.dragDropManager,n.handlerMonitor=i(n.manager),n.handlerConnector=c(n.manager.getBackend()),n.handler=a(n.handlerMonitor),n.disposable=new w.SerialDisposable,n.receiveProps(e),n.state=n.getCurrentState(),n.dispose(),n}return j(r,e),g(r,[{key:"getHandlerId",value:function e(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function e(){return this.decoratedComponentInstance}},{key:"shouldComponentUpdate",value:function e(t,n){return!p(t,this.props)||!(0,S.default)(n,this.state)}}]),g(r,[{key:"componentDidMount",value:function e(){this.isCurrentlyMounted=!0,this.disposable=new w.SerialDisposable,this.currentType=null,this.receiveProps(this.props),this.handleChange()}},{key:"componentWillReceiveProps",value:function e(t){p(t,this.props)||(this.receiveProps(t),this.handleChange())}},{key:"componentWillUnmount",value:function e(){this.dispose(),this.isCurrentlyMounted=!1}},{key:"receiveProps",value:function e(t){this.handler.receiveProps(t),this.receiveType(s(t))}},{key:"receiveType",value:function e(t){if(t!==this.currentType){this.currentType=t;var n=u(t,this.handler,this.manager),r=n.handlerId,o=n.unregister;this.handlerId=r,this.handlerMonitor.receiveHandlerId(r),this.handlerConnector.receiveHandlerId(r);var a,i=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[r]});this.disposable.setDisposable(new w.CompositeDisposable(new w.Disposable(i),new w.Disposable(o)))}}},{key:"handleChange",value:function e(){if(this.isCurrentlyMounted){var t=this.getCurrentState();(0,S.default)(t,this.state)||this.setState(t)}}},{key:"dispose",value:function e(){this.disposable.dispose(),this.handlerConnector.receiveHandlerId(null)}},{key:"handleChildRef",value:function e(t){this.decoratedComponentInstance=t,this.handler.receiveComponent(t)}},{key:"getCurrentState",value:function e(){var t=l(this.handlerConnector.hooks,this.handlerMonitor);return t}},{key:"render",value:function e(){return _.default.createElement(o,y({},this.props,this.state,{ref:I(o)?this.handleChildRef:null}))}}]),r}(v.Component),t.DecoratedComponent=o,t.displayName=r+"("+m+")",t.contextTypes={dragDropManager:E.default.object.isRequired},n);return(0,C.default)(h,o)}},pf5e:function(e,t,n){"use strict";var b=n("d6ZO"),r=n.n(b),g=n("W/Cr"),v=n("KbV0"),_=n("suNN"),E=n("gEaE");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?f(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){function a(){var e,n;i(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return p(f(f(n=u(this,(e=s(a)).call.apply(e,[this].concat(r))))),"state",{isFlyoutOpen:!1}),p(f(f(n)),"toggleFlyout",function(e){var t=(e||{}).event||{};t.preventDefault&&(t.preventDefault(),t.stopPropagation()),n.setState({isFlyoutOpen:!n.state.isFlyoutOpen})}),p(f(f(n)),"toggleStickyPostDismissFlyout",function(){n.props.handleToggleStickyPost&&(n.props.handleToggleStickyPost(),n.toggleFlyout())}),p(f(f(n)),"renderFlyoutItem",function(e,t){return b.createElement(E.c,{accessibilityLabel:e,color:"white",text:e,onClick:t})}),n}return l(a,e),c(a,[{key:"render",value:function e(){var n=this,t=this.props,r=t.authorName,o=t.handleBanUser,a=t.handleClickReport,i=t.handleDelete,c=t.handleDemoteModerator,u=t.handleOnEdit,s=t.handlePromoteUser,l=t.handleSendMessage,d=t.handleToggleStickyPost,f=t.handleUnbanUser,p=t.isSticky,m=t.small,h=this.state.isFlyoutOpen,y;return o||a||c||i||u||s||l||d||f?(g.a._("Delete post","Delete a community post"),g.a._("Delete comment","Delete a community comment"),b.createElement(E.b,{display:"flex",direction:"column",alignItems:"end"},b.createElement(E.b,null,b.createElement("div",{ref:function e(t){n.flyoutAnchor=t}},b.createElement(E.o,{accessibilityExpanded:h,accessibilityHaspopup:!0,accessibilityLabel:g.a._("more options","accessible label for button to see more options on report content"),icon:"ellipsis",onClick:this.toggleFlyout,size:m?"sm":"md"})),h&&b.createElement(E.r,null,b.createElement(v.a,null,b.createElement(E.k,{anchor:this.flyoutAnchor,idealDirection:"down",onDismiss:this.toggleFlyout,positionRelativeToAnchor:!1,size:"sm"},b.createElement(E.b,{alignItems:"center",direction:"column",display:"flex",flex:"grow"},d&&this.renderFlyoutItem(p?g.a._("Un-stick post from top","Remove a sticky community post from the top of the feed"):g.a._("Stick post to top (replaces any existing top post)","Stick a community post to the top of the feed"),this.toggleStickyPostDismissFlyout),u&&this.renderFlyoutItem(g.a._("Edit","Edit a community post or comment"),u),i&&this.renderFlyoutItem(g.a._("Delete","Delete a community post or comment"),i),a&&this.renderFlyoutItem(g.a._("Report this content","Report a community post or comment"),a),s&&this.renderFlyoutItem(g.a._("Promote to moderator","Promote a user to a moderator in a community"),s),c&&this.renderFlyoutItem(g.a._("Remove moderator","Demote a moderator to a regular user in a community"),c),l&&this.renderFlyoutItem(g.a._("Send a message","Send a message moderator in a community"),l),o&&this.renderFlyoutItem(Object(_.b)(g.a._("Remove {{name}} from community","Ban a user from a community"),{name:r}),o),f&&this.renderFlyoutItem(g.a._("Lift ban","Remove ban from a user from a community"),f)))))))):null}}]),a}(b.PureComponent);p(m,"defaultProps",{authorName:"",handleBanUser:null,handleClickReport:null,handleDelete:null,handleDemoteModerator:null,handleOnEdit:null,handlePromoteUser:null,handleToggleStickyPost:null,handleUnbanUser:null,handleSendMessage:null}),t.a=m},pgMj:function(e,t,n){"use strict";var a=n("d6ZO"),r=n.n(a),o=n("GGB8"),i=n.n(o),c=n("W/Cr"),u=n("cD7N"),s=n("i0Ug"),l=["facebook","google","twitter"];function d(e){u.a.instance().handleConnect(e,!0,{})}function f(e){return"facebook"===e?c.a._("Facebook"):"twitter"===e?c.a._("Twitter"):"google"===e?c.a._("Google"):c.a._("Other")}function p(e,t){return"facebook"===e?c.a._("Friends who are on Pinterest"):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function m(e){var t=i()("SocialNetworkConnectButton","listItem","sendShare",e.network),n=p(e.network,e.email);return a.createElement("a",{onClick:e.onClick,role:"button"},a.createElement("div",{className:t},a.createElement("em",{className:"icon"}),a.createElement("div",{className:"networkInfo"},a.createElement("h4",{className:"title"},f(e.network)),n?a.createElement("div",{className:"subtitle"},n):null)))}function h(e){var t=e.viewer,n=e.onBack,r=t.isAuth?t.email:null,o=l.filter(function(e){return!t.isAuth||!1===t.socialNetwork[e].connected});return a.createElement("div",{className:"SocialConnectPanel sendShare"},a.createElement("div",{className:"header"},a.createElement("div",{className:"backNav"},a.createElement("a",{onClick:n,role:"button"},a.createElement("span",{className:"icon"}),a.createElement("span",{className:"label"},c.a._("Back")))),a.createElement("div",{className:"prompt"},c.a._("Upload contacts from..."))),a.createElement("ul",{className:"socialConnectOptions"},o.map(function(t){return a.createElement("li",{style:{borderLeft:"none"},key:t},a.createElement(m,{email:r,network:t,onClick:function e(){return d(t)}}))})))}t.a=Object(s.a)(h)},pm4P:function(e,t,n){var r=n("o2yE");function o(e){return r(this,e).has(e)}e.exports=o},psHy:function(e,t,n){var r=n("HCKV"),o=n("sL7W"),a=n("T3ji"),i=n("qenG"),c=n("Udu8");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=i,u.prototype.set=c,e.exports=u},q3SD:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var g=n("d6ZO"),r=n.n(g),v=n("5tOk"),_=n("W/Cr"),E=n("rgtM"),w=n("gEaE");function o(e){var t=e.commentCount,n=void 0===t?0:t,r=e.reactionCounts,o=void 0===r?{}:r,a=e.hideReplyCount,i=e.isLikedByMe,c=void 0!==i&&i,u=e.onLikeClick,s=e.onLikeCountClick,l=e.onReplyClick,d=e.onReplyCountClick,f=e.flyout,p=e.small,m=o[1]||0,h=!!m&&v.h(_.a.ngettext("{{likeCount}} like","{{likeCount}} likes",m),{likeCount:m}),y=!!n&&v.h(_.a.ngettext("{{commentCount}} reply","{{commentCount}} replies",n),{commentCount:n}),b=p?1:2;return g.createElement(w.b,{display:"flex",alignItems:"center"},g.createElement(w.b,{display:"flex",marginStart:-b,marginEnd:-b},g.createElement(w.b,{paddingX:b},g.createElement(w.o,{accessibilityLabel:"Like",bgColor:"transparent",icon:"heart",iconColor:c?"red":"gray",onClick:u,size:p?"sm":"md"})),g.createElement(w.b,{paddingX:b},g.createElement(w.o,{accessibilityLabel:"Reply",bgColor:"transparent",icon:"speech",iconColor:"gray",onClick:l,size:p?"sm":"md"})),!!f&&g.createElement(w.b,{paddingX:b},f)),g.createElement(w.b,{display:"flex",flex:"grow",justifyContent:"end",marginStart:-3,marginEnd:-3},!!h&&g.createElement(E.a,{id:"likeCount"},g.createElement(w.b,{paddingX:3},g.createElement(w.O,{shape:"rounded",onTouch:s},g.createElement(w.K,{size:"sm",color:"gray",bold:!0},h)))),!!y&&!a&&g.createElement(E.a,{id:"replyCount"},g.createElement(w.b,{paddingX:3},d?g.createElement(w.O,{shape:"rounded",onTouch:d},g.createElement(w.K,{size:"sm",color:"gray",bold:!0},y)):g.createElement(w.K,{size:"sm",color:"gray",bold:!0},y)))))}},qMdf:function(e,t,n){e.exports=function(){return new Promise(function(t){n.e(22).then(function(e){t(n("6VYw"))}.bind(null,n)).catch(n.oe)})}},"qPK+":function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},qZXM:function(e,t,n){"use strict";var r=n("4Qfy"),o=n("MY3l"),a=function e(t){var n=r.a.instance&&r.a.instance.getState()||{viewer:{}};return!n.viewer.isAuth||n.viewer.isLimitedLogin?function(e){return r.a.instance.dispatch(o.a)}:t};t.a=a},qcCN:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o,a=u(n("9c2v")),i,c=u(n("0CA3"));function u(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(){s(this,e),this.entered=[]}return r(e,[{key:"enter",value:function e(n){var t=this.entered.length,r=function e(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(n))};return this.entered=(0,a.default)(this.entered.filter(r),[n]),0===t&&0<this.entered.length}},{key:"leave",value:function e(t){var n=this.entered.length;return this.entered=(0,c.default)(this.entered.filter(function(e){return document.documentElement.contains(e)}),t),0<n&&0===this.entered.length}},{key:"reset",value:function e(){this.entered=[]}}]),e}();t.default=l},qenG:function(e,t,n){var r=n("n/NP"),o,a=Object.prototype.hasOwnProperty;function i(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}e.exports=i},qhGZ:function(e,t,n){var r=n("5Y0U"),o=n("7dXy"),a=n("drXw");function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=o,i.prototype.has=a,e.exports=i},qtmg:function(e,t,n){"use strict";var r=n("d6ZO"),f=n.n(r),p=n("W/Cr"),m=n("xfx3"),o=n("THYI"),i=n.n(o),a=n("GU18"),h=n("suNN"),y=n("gEaE");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?_(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=5,O=27,C=38,S=40,k=13,T=function(e){function a(){var e,n;u(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return E(_(_(n=d(this,(e=b(a)).call.apply(e,[this].concat(r))))),"state",{isOpen:n.props.editing,recommendations:[],selectedIndex:0,resourceLoaded:!1}),E(_(_(n)),"onDismiss",function(){n.setState({isOpen:!1})}),E(_(_(n)),"mounted",!1),E(_(_(n)),"addHashtag",function(e){n.props.addHashtag(e),n.setState({recommendations:[]})}),E(_(_(n)),"handleKeyDown",function(e){38===e.keyCode?n.handlePrevHashtag(e):40===e.keyCode?n.handleNextHashtag(e):27===e.keyCode?n.handleClose(e):13===e.keyCode&&n.handleSubmit(e)}),E(_(_(n)),"handlePrevHashtag",function(e){e.preventDefault(),0<n.state.selectedIndex&&n.setState(function(e){return{selectedIndex:e.selectedIndex-1}})}),E(_(_(n)),"handleNextHashtag",function(e){e.preventDefault(),n.state.selectedIndex<n.state.recommendations.length-1&&n.setState(function(e){return{selectedIndex:e.selectedIndex+1}})}),E(_(_(n)),"handleClose",function(e){e.preventDefault(),n.setState({recommendations:[]})}),E(_(_(n)),"handleSubmit",function(e){e.preventDefault(),n.addHashtag(n.state.recommendations[n.state.selectedIndex].query)}),E(_(_(n)),"callResource",function(e){var t;(0,n.props.makeCancelablePromise)(i.a.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(function(e){if(n.mounted){var t=e.resource_response.data;n.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}}).catch(function(e){var t;e.isCanceled||n.setState({resourceLoaded:!1})})}),n}return g(a,e),l(a,[{key:"componentDidMount",value:function e(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){t.query!==this.props.query&&""!==t.query&&this.callResource(t.query)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}},{key:"render",value:function e(){var r=this,t=this.state,n=t.recommendations,o=t.resourceLoaded,a=t.selectedIndex,i=this.props,c=i.anchor,u=i.idealDirection,s=n.filter(function(e){return e.query}),l=u||"down",d="flyout_"+s.length;return o&&0<s.length?f.a.createElement("div",{className:"HashtagFlyout"},f.a.createElement(y.k,{key:d,anchor:c,idealDirection:l,onDismiss:this.onDismiss,size:"sm"},f.a.createElement("div",{className:"HashtagRecommendations"},0<s.length?s.map(function(n,e){return f.a.createElement("div",{className:"HashtagItem",key:n.query},f.a.createElement(y.O,{onTouch:function e(t){return r.addHashtag(n.query)},fullWidth:!1},f.a.createElement(y.b,{display:"flex",justifyContent:"between",alignItems:"center",color:e===a?"lightGray":"transparent",deprecatedPadding:1},f.a.createElement(y.b,{flex:"grow"},f.a.createElement(y.K,{inline:!0,size:"sm",bold:!0},n.query)),f.a.createElement(y.b,{flex:"none"},f.a.createElement(y.K,{inline:!0,size:"xs"},Object(h.b)(p.a.ngettext("{{ count }} pin","{{ count }} pins",Number(n.pin_count),"label for n pins in hashtag flyout"),{count:f.a.createElement(m.a,{value:Number(n.pin_count),key:"pinCount"})}))))))}):null))):null}}]),a}(f.a.Component);t.a=Object(a.a)(T)},qz2m:function(e,t,n){var r,o=n("W3/U").Symbol;e.exports=o},"r+iz":function(e,t,n){var r=n("5vge"),o=n("O/Ib"),a="[object AsyncFunction]",i="[object Function]",c="[object GeneratorFunction]",u="[object Proxy]";function s(e){if(!o(e))return!1;var t=r(e);return t==i||t==c||t==a||t==u}e.exports=s},rLbZ:function(e,t,n){var r=n("9qwG"),o=n("HnXo"),a=n("//VQ"),i="[object Null]",c="[object Undefined]",u=r?r.toStringTag:void 0;function s(e){return null==e?void 0===e?c:i:u&&u in Object(e)?o(e):a(e)}e.exports=s},rgtM:function(e,t,n){"use strict";t.a=i;var o=n("d6ZO"),r=n.n(o),a=n("gEaE");function i(e){var t=e.children,n=e.display,r=e.id;return o.createElement(a.b,{"data-test-id":r,display:n},t)}},rihZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n("V4Pm");function o(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t;switch(arguments[1].type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}}},rjKP:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},rpgY:function(e,t){function n(e){return e!=e}e.exports=n},rtTg:function(e,t){function n(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return-1}e.exports=n},rwMs:function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},s7Vk:function(e,t,n){var l=n("ta6R"),d=n("fXg5"),f=n("J7EG"),p=n("IQpX"),m=n("uOSF"),h=n("lyfI"),r,y=Object.prototype.hasOwnProperty;function o(e,t){var n=f(e),r=!n&&d(e),o=!n&&!r&&p(e),a=!n&&!r&&!o&&h(e),i=n||r||o||a,c=i?l(e.length,String):[],u=c.length;for(var s in e)!t&&!y.call(e,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||m(s,u))||c.push(s);return c}e.exports=o},sL7W:function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},sYje:function(e,t,n){"use strict";var o=n("ZIw6"),r=n("THYI"),u=n.n(r),i=n("JMBu"),a=3,c={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,community:7},_convertToInviteObject:function e(t){return this.ObjectTypeToInviteObject[t]||0},_logShareInvite:function e(t,n){var r=this._convertToInviteObject(t.object_type),o=t.invite_channel,a=null==t.invite_category?3:t.invite_category,i=t.object_id,c;return u.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:a,invite_object:r,invite_channel:o},invite_code:n,object_id:i}).callCreate()},createAndLogShareInvite:function e(t){return c.createShareInviteData(t).then(function(e){return c._logShareInvite(t,e.invite_code),Promise.resolve(e)},function(e){return Promise.reject(e)})},createShareInviteData:function e(t){var n=this._convertToInviteObject(t.object_type),r=t.invite_channel,o=null==t.invite_category?3:t.invite_category,a=t.object_id,i;return u.a.create("CreateExternalInviteResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:r},object_id:a}).callCreate().then(function(e){return Promise.resolve(e.resource_response.data)},function(e){return Promise.reject(e)})},logShareInvite:function e(t,n){n&&c._logShareInvite(t,n.invite_code)},shareFacebookInvite:function e(r){return c.createShareInviteData(r).then(function(e){var t=e.invite_url,n=e.invite_code;return t&&o.default.open({type:"share",object_type:r.object_type,object_id:r.object_id,name:r.name,caption:e.title,description:r.description,path:t,picture:r.picture,callback:function e(t){t&&t.success&&c._logShareInvite(r,n)}}),Promise.resolve(e)},function(e){return Promise.reject(e)})},shareTwitterInvite:function e(o){var a=this._convertToInviteObject(o.object_type);return c.createShareInviteData(o).then(function(e){var t=e.invite_url,n=e.invite_code,r=o.description;return 6===a&&o.name&&(r=o.name),t&&i.a.openDialog({tweet_path:t,tweet_text:r}),c._logShareInvite(o,n),Promise.resolve(e)},function(e){return Promise.reject(e)})},shareFbMessengerInvite:function e(r){return c.createShareInviteData(r).then(function(e){var t=e.invite_url,n=e.invite_code;return t&&o.default.open({type:"send",object_type:r.object_type,object_id:r.object_id,name:r.name,caption:e.title,description:r.description,path:t,picture:r.picture,callback:function e(t){t&&t.success&&c._logShareInvite(r,n)}}),Promise.resolve(e)},function(e){return Promise.reject(e)})}};t.a=c},sacY:function(e,t,n){var r=n("LUz4"),o,a=n("BNUP")(r);e.exports=a},t9mU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackBackendForEs5Users=t.createChildContext=t.CHILD_CONTEXT_TYPES=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=C;var s=n("d6ZO"),l=b(s),o,a=b(n("IaRT")),i=n("Dnv3"),d,f=b(n("Qsew")),p,m=b(n("csYt")),h,y=b(n("kh7K"));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E=t.CHILD_CONTEXT_TYPES={dragDropManager:a.default.object.isRequired},w=t.createChildContext=function e(t,n){return{dragDropManager:new i.DragDropManager(t,n)}},O=t.unpackBackendForEs5Users=function e(t){var n=t;return"object"===(void 0===n?"undefined":r(n))&&"function"==typeof n.default&&(n=n.default),(0,f.default)("function"==typeof n,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html"),n};function C(e){y.default.apply(void 0,["DragDropContext","backend"].concat(Array.prototype.slice.call(arguments)));var t=O(e),i=w(t);return function e(r){var t,n,o=r.displayName||r.name||"Component",a=(n=t=function(e){function t(){return g(this,t),v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _(t,e),u(t,[{key:"getDecoratedComponentInstance",value:function e(){return(0,f.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"getManager",value:function e(){return i.dragDropManager}},{key:"getChildContext",value:function e(){return i}},{key:"render",value:function e(){var n=this;return l.default.createElement(r,c({},this.props,{ref:function e(t){n.child=t}}))}}]),t}(s.Component),t.DecoratedComponent=r,t.displayName="DragDropContext("+o+")",t.childContextTypes=E,n);return(0,m.default)(a,r)}}},tCTl:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("d6ZO"),u=n.n(r),i=n("W/Cr"),c=n("R6a3"),s=n("gEaE");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function f(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?y(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function a(){var e,t;l(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return b(y(y(t=f(this,(e=p(a)).call.apply(e,[this].concat(r))))),"state",{showModal:!1,containerWidth:0}),b(y(y(t)),"calculateSize",function(e){e&&t.setState({containerWidth:e.offsetWidth})}),b(y(y(t)),"toggleModal",function(){return t.setState({showModal:!t.state.showModal})}),t}return m(a,e),d(a,[{key:"renderImage",value:function e(){var t=this.props,n=t.contentText,r=t.fullSize,o=t.image,a=this.state.containerWidth;if(!a)return u.a.createElement("div",{style:{width:"100%"},ref:this.calculateSize});var i=o.height*a/o.width,c=r||o.width>o.height?i:a;return u.a.createElement(s.u,{wash:!0,shape:"rounded"},u.a.createElement(s.b,{width:a,height:c},u.a.createElement(s.p,{alt:n,fit:"cover",naturalHeight:o.height,naturalWidth:o.width,src:o.url})))}},{key:"render",value:function e(){var t=this.props,n=t.linkToImage,r=t.image,o=t.contentText;return u.a.createElement(u.a.Fragment,null,n?u.a.createElement(s.O,{onTouch:this.toggleModal,shape:"rounded"},this.renderImage()):this.renderImage(),this.state.showModal&&u.a.createElement(c.a,{accessibilityCloseLabel:i.a._("close","accessible label for button to close modal"),heading:i.a._("Uploaded Photo","Photo that the user uploaded"),accessibilityModalLabel:i.a._("Reporting a community comment or post","Label for reporting a comment or post in a community"),size:"lg",onDismiss:this.toggleModal},u.a.createElement(s.b,{display:"flex",justifyContent:"center",padding:2,shape:"rounded"},u.a.createElement(s.u,{shape:"rounded",width:r.width},u.a.createElement(s.p,{alt:o,naturalHeight:r.height,naturalWidth:r.width,src:r.url})))))}}]),a}(r.PureComponent)},tIfM:function(e,t,n){var o=n("uw3G"),r,a=Array.prototype.splice;function i(e){var t=this.__data__,n=o(t,e),r;return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}e.exports=i},ta6R:function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},tacu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=t.isFirefox=void 0;var r,o=a(n("Bhm9"));function a(e){return e&&e.__esModule?e:{default:e}}var i=t.isFirefox=(0,o.default)(function(){return/firefox/i.test(navigator.userAgent)}),c=t.isSafari=(0,o.default)(function(){return Boolean(window.safari)})},uOSF:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function o(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||r.test(e))&&-1<e&&e%1==0&&e<t}e.exports=o},uWJK:function(e,t,n){var u=n("hYnp"),s=n("ySuP");function l(e,t,n,r,o){var a=-1,i=e.length;for(n||(n=s),o||(o=[]);++a<i;){var c=e[a];0<t&&n(c)?1<t?l(c,t-1,n,r,o):u(o,c):r||(o[o.length]=c)}return o}e.exports=l},ujsy:function(e,t,n){var s=n("8zug"),l=n("32is");function r(e,t,n,r){var o=!n;n||(n={});for(var a=-1,i=t.length;++a<i;){var c=t[a],u=r?r(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),o?l(n,c,u):s(n,c,u)}return n}e.exports=r},uw3G:function(e,t,n){var r=n("ekD3");function o(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}e.exports=o},vA09:function(e,t,n){var r=n("o2yE");function o(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}e.exports=o},"vx+O":function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}e.exports=n},vyF1:function(e,t,n){"use strict";var j=n("d6ZO"),i=n.n(j),r=n("DUIN"),I=n("5tOk"),p=n("qZXM"),D=n("93Oe"),P=n("W/Cr"),o=n("hNf0"),R=n("gEaE");function a(e){return j.createElement(o.a,Object.assign({thriftComponentType:193},e),function(e){var t=e.onTriedItButtonClick;return j.createElement("button",{style:{background:"none",border:"none",padding:"0",width:"100%"},onClick:t},j.createElement(R.b,{deprecatedPadding:{y:1,x:2}},j.createElement(R.K,{bold:!0,size:"md"},P.a._("Edit"))))})}var k=a,c=n(
"BAXv"),u=n("GGB8"),s=n.n(u),l=n("LrFa"),d=n("nM9s"),A=n("tmfO"),f=n("2lkQ"),m=n("aWXG");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function v(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?O(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function w(e,t){return(w=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=c.a.GEN.templateConst.settings.ABOUT_DMCA_PIN_URL,T="ignoreThisPin",x="IP",M="policies",F="spam",L="attacks",N=function(e){function o(){var e,l;y(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(O(O(l=v(this,(e=_(o)).call.apply(e,[this].concat(n))))),"state",{flow:m.b.REPORT,status:m.c.STARTED,selectedReason:void 0,detailedReasons:[],flagReason:void 0,category:void 0}),C(O(O(l)),"getTitle",function(){var e=l.state,t=e.flow,n=e.flagReason,r=e.detailedReasons;if(t===m.b.REPORT)switch(n){case L:return P.a._("What's going on?","title for report content flow");case F:case M:return P.a._("What's wrong with this Try?","title for report content flow");case x:return P.a._("Intellectual Property","title for report content flow for IP complaints");default:return P.a._("What's wrong with this Try?","title for the report content flow")}else if(t===m.b.END&&r.includes("notUseful"))return P.a._("Thanks for letting us know!","title at end of report flow when content is not useful");return""}),C(O(O(l)),"handleSelectReason",function(e,t,n){e&&l.setState({selectedReason:t,status:m.c.SELECTED,category:n})}),C(O(O(l)),"handleNext",function(){l.setState({flagReason:l.state.selectedReason,detailedReasons:l.state.detailedReasons.concat([l.state.selectedReason]),selectedReason:void 0})}),C(O(O(l)),"handleRevert",function(){var e=l.state.detailedReasons.slice(0,-1),t=e[e.length-1];l.setState({selectedReason:void 0,flagReason:t,detailedReasons:e,category:void 0,status:void 0===t?m.c.STARTED:m.c.SELECTED})}),C(O(O(l)),"handleSubmit",function(){var e=l.state,t=e.category,n=e.detailedReasons,r=e.selectedReason;if(l.setState({status:m.c.PROCESSING}),r===T)l.setState({flow:m.b.BLOCK,status:m.c.STARTED});else{var o=n.concat(r);l.setState({detailedReasons:o});var a=l.props,i=a.aggregatedPinDataId,c=a.didItDataId,u,s;(0,a.reportDidIt)(i,o,c,t,a.username),n.includes("notUseful")?l.setState({flow:m.b.END,status:m.c.STARTED}):l.setState({flow:m.b.BLOCK,status:m.c.STARTED})}}),C(O(O(l)),"handleFlowStatusChange",function(e,t){l.setState(e,t)}),C(O(O(l)),"renderContent",function(){var e;return"IP"===l.state.flagReason?i.a.createElement(R.b,{md:{display:"flex"},justifyContent:"center"},i.a.createElement(R.b,{md:{column:9}},i.a.createElement(R.b,{padding:2,marginLeft:2},i.a.createElement(R.K,{align:"center",bold:!0,color:"darkGray",size:"md"},P.a._("If youve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.","explanation of IP complaint process"))),i.a.createElement(R.b,{padding:2},i.a.createElement(R.K,{align:"center",smSize:"xs",mdSize:"sm",lgSize:"md"},i.a.createElement(A.b,{to:S,className:s()(["Button","btn","primary","rounded"]),target:!0},P.a._("File a report","link to DMCA form")))))):null}),l}return E(o,e),g(o,[{key:"render",value:function e(){var t=this.state,n=t.flow,r=t.status,o=t.flagReason,a=i.a.createElement(d.a,{className:"reportButton",htmlType:"submit",id:"submitButton",loading:r===m.c.PROCESSING,onClick:this.handleSubmit,text:P.a._("Report content","button to report content"),type:"primary"});return i.a.createElement(l.a,Object.assign({},this.props,this.state,{className:s()({FlagContent:n===m.b.REPORT}),flagOptionsConfig:{__default:[{text:P.a._("It isn't useful or relevant","tried-it reporting flow"),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:P.a._("It shouldn't be on Pinterest","tried-it reporting flow"),value:M,isTerminalReason:!1},{text:P.a._("It's spam","tried-it reporting flow"),value:"spam",isTerminalReason:!0,category:"spam"},{text:P.a._("It's my intellectual property","tried-it reporting flow"),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:P.a._("It's sexually explicit","tried-it reporting flow"),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:P.a._("It's self harm","tried-it reporting flow"),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:P.a._("It's hate speech","tried-it reporting flow"),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:P.a._("It's harassment or bullying","tried-it reporting flow"),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:P.a._("It's graphic violence","tried-it reporting flow"),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:P.a._("It's a photo of me or my child","tried-it reporting flow"),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:P.a._("It identifies and attacks me or someone I know","tried-it reporting flow"),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:P.a._("Something else","tried-it reporting flow"),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]},flagType:m.a.DID_IT,onFlowStatusChange:this.handleFlowStatusChange,onNext:this.handleNext,onRevert:this.handleRevert,onSelectReason:this.handleSelectReason,showPrimaryAction:o!==x,title:this.getTitle(),content:this.renderContent(),submitButton:a}))}}]),o}(j.Component),U=function e(i){return{reportDidIt:function e(t,n,r,o,a){return i(Object(f.c)(t,n,r,o,a))}}},B=Object(r.connect)(null,U)(N),z=n("LQgx"),H=n("R6a3"),G=n("THYI"),V=n.n(G),W="__SafeLinkFlag__",Y,K=function e(t){var n=t.html,r,i=t.onClick||null,c=[],o=(n=(n=n||"").replace(/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,function(e){return c.push({url:"/search/pins/?q=".concat(encodeURIComponent(e),"&rs=hashtag_closeup"),text:e}),W})).replace(/<a[\s]+href=['"]([^'"<>]+)['"][^>]*>([^<]*)<\/a>/gi,function(e,t,n){return c.push({url:t,text:n}),W}),u=s()({blue:!0,"inline-block":!0});return j.createElement("div",{"data-test-id":"safe-link"},o.split(new RegExp("(".concat(W,")"))).filter(function(e){return 0<e.length}).map(function(e,t){var n=e;if(e===W&&c.length){var r=c.shift(),o=r.url,a=r.text;n=j.createElement(A.b,{onClick:i,to:o,className:u},a)}return j.createElement("span",{key:t},n)}))},Z=n("z3es");function q(e){var t=e.item,n=t.images,r=t.pin,o=0<n.length,a=o?n[0]["750x"]:null;if(!o||!a)return null;var i=n[0]["750x"].url;return j.createElement(R.u,{shape:"rounded",wash:!0},j.createElement(R.p,{alt:r.title,src:i,key:i,color:"#efefef",naturalWidth:a.width,naturalHeight:a.height}))}var X=n("WOuy");function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),e}function te(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?ae(e):t}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}function oe(e,t){return(oe=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=function(e){function a(){var e,r;J(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return ie(ae(ae(r=te(this,(e=ne(a)).call.apply(e,[this].concat(n))))),"state",{isFullscreen:!1,isPlaying:!1,isReady:!1,showControls:!0,volumeLevel:0}),ie(ae(ae(r)),"handleTouch",function(e){e.event.stopPropagation(),r.setState(function(e){return{isPlaying:!e.isPlaying}})}),ie(ae(ae(r)),"handleShowControls",function(){return r.setState({showControls:!0})}),ie(ae(ae(r)),"handleHideControls",function(){return r.setState({showControls:!1})}),ie(ae(ae(r)),"handleEnded",function(e){e.event.stopPropagation(),r.setState({isPlaying:!1})}),ie(ae(ae(r)),"handlePause",function(e){e.event.stopPropagation(),r.setState({isPlaying:!1})}),ie(ae(ae(r)),"handlePlay",function(e){e.event.stopPropagation(),r.setState({isPlaying:!0})}),ie(ae(ae(r)),"handleToggleFullscreen",function(e){var t=e.event,n=e.fullscreen;t.stopPropagation(),r.setState({isFullscreen:n})}),ie(ae(ae(r)),"handleVolumeChange",function(e){var t=e.event,n=e.volume;t.stopPropagation(),r.setState({volumeLevel:n})}),r}return re(a,e),ee(a,[{key:"render",value:function e(){var t=this.props,n=t.item,r=t.viewType,o=n.videos;if(!o||0===o.length)return null;var a=o[0],i=a.video_list,c=i.V_720P,u=i.V_HLSV4,s=[u&&{type:"video/m3u8",src:u.url},c&&{type:"video/mp4",src:c.url}].filter(Boolean),l=(c||u||{}).width,d=(c||u||{}).height,f=(c||u||{}).thumbnail,p=this.state,m=p.showControls,h=p.isPlaying,y=p.volumeLevel;return j.createElement(R.O,{shape:"rounded",onTouch:this.handleTouch,onMouseEnter:this.handleShowControls,onMouseLeave:this.handleHideControls},j.createElement(R.u,{shape:"rounded",wash:!0},j.createElement(X.a,{contextLogData:{view:r,viewParameter:3071,component:172,objectId:n.id,video_id:a.id},accessibilityMaximizeLabel:P.a._("Maximize","Maximize button on video"),accessibilityMinimizeLabel:P.a._("Minimize","Minimize button on video"),accessibilityMuteLabel:P.a._("Mute","Mute button on video"),accessibilityPauseLabel:P.a._("Pause","Pause button on video"),accessibilityPlayLabel:P.a._("Play","Play button on video"),accessibilityUnmuteLabel:P.a._("Unmute","Unmute button on video"),aspectRatio:Math.max(l/d,1),captions:"",controls:m,onEnded:this.handleEnded,onFullscreenChange:this.handleToggleFullscreen,onPause:this.handlePause,onPlay:this.handlePlay,onVolumeChange:this.handleVolumeChange,playing:h,poster:f,src:s,volume:y})))}}]),a}(j.PureComponent),ue=n("XDj/"),se=n("SeRx"),le=n("J2FB"),de=n("S3+b"),fe=n("6oz1"),pe=n("suNN"),me=n("8e8Q"),he=n("woYD"),ye=n("nhMV"),be=n("i0Ug"),ge=n("MQ2h"),ve=n.n(ge);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oe(e,t,n){return t&&we(e.prototype,t),n&&we(e,n),e}function Ce(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?xe(e):t}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ke(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}function Te(e,t){return(Te=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ie=function e(t,n){return n?t-1:t+1},De="public",Pe={background:"none",border:"none",padding:"0",width:"100%"},Re=60,Ae=42,Me=function(e){function o(){var e,S;Ee(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return je(xe(xe(S=Ce(this,(e=Se(o)).call.apply(e,[this].concat(n))))),"state",{isLikedByMe:S.props.item.liked_by_me,isReportedByMe:!1,likeCount:S.props.item.like_count,showDeleteModal:!1,showEditModal:!1,showFlyout:!1,showLikesListModal:!1,showReportModal:!1,showShareFlyout:!1,isReportHover:!1}),je(xe(xe(S)),"handleClickthrough",function(){var e=S.props,t=e.handlePinClickLogging,n=e.item.id;t&&t(),Object(he.a)(101,{component:172,element:1263,objectId:n})}),je(xe(xe(S)),"handleClickHashTag",function(){var e=S.props.item.id;Object(he.a)(101,{component:172,element:10194,objectId:e})}),je(xe(xe(S)),"handleToggleLikesListModal",function(){return S.setState({showLikesListModal:!S.state.showLikesListModal})}),je(xe(xe(S)),"handleClickLike",function(){var e=S.props,t=e.item.id,n=e.viewType,r=S.state,o=r.isLikedByMe,a=r.likeCount;Object(he.a)(101,{component:172,element:1353,objectId:t,view:n});var i=V.a.create("DidItLikeResource",{didItDataId:t});return S.setState({isLikedByMe:!o,likeCount:Ie(a,o)}),o?i.callDelete({showError:!1}):i.callCreate()}),je(xe(xe(S)),"handleToggleFlyout",function(){return S.setState({showFlyout:!S.state.showFlyout,showShareFlyout:!1})}),je(xe(xe(S)),"handleShowShareFlyout",function(){return S.setState({showShareFlyout:!0})}),je(xe(xe(S)),"handleDismissFlyout",function(){S.state.showEditModal||S.setState({showFlyout:!1,showShareFlyout:!1})}),je(xe(xe(S)),"handleShowReportModal",function(){return S.setState({showReportModal:!0})}),je(xe(xe(S)),"handleHideReportModal",function(r){return function(){var e=S.props,t=e.item.id,n=e.removeReportedActivity;S.setState({showReportModal:!1}),n&&S.state.isReportedByMe&&r&&n(t)}}),je(xe(xe(S)),"handleCompletedReport",function(){return S.setState({isReportedByMe:!0})}),je(xe(xe(S)),"handleShowDeleteModal",function(){return S.setState({showDeleteModal:!0})}),je(xe(xe(S)),"handleDeleteConfirmation",function(e){var t=S.props,n=t.item,r=n.id,o=n.pin,a=o.aggregated_pin_data,i=void 0===a?{}:a,c=o.id,u=n.user.username,s=t.deleteUserDidItData;S.setState({showDeleteModal:!1}),e&&(Object(he.a)(101,{view:101,component:192,element:1264,objectId:c}),s({aggregatedPinDataId:i.id,id:r,isOwnedByMe:S.isOwnedByCurrentUser,pinId:c,username:u}))}),je(xe(xe(S)),"handleToggleEditModal",function(e){return S.setState({showEditModal:e,showFlyout:e})}),je(xe(xe(S)),"handleToggleCommentCount",function(e){var t=S.props,n=t.item.id,r;(0,t.updateUserDidItDataCommentCount)(n,e)}),je(xe(xe(S)),"incrementCommentCount",function(){S.handleToggleCommentCount(!0)}),je(xe(xe(S)),"decrementCommentCount",function(){S.handleToggleCommentCount(!1)}),je(xe(xe(S)),"updateCommentCount",function(e){S.handleToggleCommentCount(!!e)}),je(xe(xe(S)),"handleReportMouseEnter",function(){return S.setState({isReportHover:!0})}),je(xe(xe(S)),"handleReportMouseLeave",function(){return S.setState({isReportHover:!1})}),je(xe(xe(S)),"renderFlyout",function(){var e=S.props,t=e.item,n=t.details,r=t.id,o=t.images,a=t.pin,i=a.aggregated_pin_data,c=void 0===i?{}:i,u=a.id,s=a.images,l=a.link_domain,d=void 0===l?{}:l,f=a.rich_metadata,p=void 0===f?{}:f,m=a.title,h=t.privacy,y=t.user,b=e.viewer,g=S.state,v=g.showFlyout,_=g.showShareFlyout,E=(d||{}).official_user||{},w=(p||{}).title,O={description:n,id:r,imageUrl:0<o.length?o[0]["550x"].url:s["136x136"].url,name:w||P.a._("this idea"),type:me.a.DID_IT,url:"/pin/".concat(u,"/activity/tried/").concat(r)},C=S.isOwnedByCurrentUser||b.isAuth&&b.id===E.id;return j.createElement(R.b,null,j.createElement("div",{ref:function e(t){S.flyoutAnchor=t}},j.createElement(R.o,{accessibilityExpanded:v,accessibilityHaspopup:!0,accessibilityLabel:P.a._("more options","accessible label for button to see more options on report content"),icon:"ellipsis",onClick:S.handleToggleFlyout,size:"sm"})),v&&j.createElement(R.b,{alignSelf:"end",dangerouslySetInlineStyle:{__style:{zIndex:1}}},j.createElement(R.k,{anchor:S.flyoutAnchor,idealDirection:"down",onDismiss:S.handleDismissFlyout,size:_?"lg":"xs"},_?j.createElement(Z.a,{isFlyout:!0,onHide:S.handleToggleFlyout,sendType:me.a.DID_IT,sharedObject:O}):j.createElement(R.b,{xs:{display:"flex",column:12},color:"white",position:"relative",shape:"rounded",alignSelf:"start",dangerouslySetInlineStyle:{__style:{zIndex:1}}},j.createElement(R.h,{xs:12},h===De&&j.createElement("button",{style:Pe,onClick:S.handleShowShareFlyout},j.createElement(R.b,{deprecatedPadding:{y:1,x:2}},j.createElement(R.K,{bold:!0,size:"md"},P.a._("Share")))),j.createElement(R.b,{deprecatedPadding:{y:1,x:2}},j.createElement(A.b,{onClick:S.handleClickthrough,key:S.pinURL,to:S.pinURL},j.createElement(R.K,{bold:!0,size:"md"},P.a._("Go to Pin")))),S.isOwnedByCurrentUser||C?j.createElement(R.b,null,S.isOwnedByCurrentUser&&j.createElement(k,{aggregatedPinDataId:c.id,isDoneByMe:S.isOwnedByCurrentUser,loggedInUser:y,onToggleModal:S.handleToggleEditModal,pinId:u,pinTitle:m,userDidItDataId:r}),C&&j.createElement("button",{style:Pe,onClick:S.handleShowDeleteModal},j.createElement(R.b,{deprecatedPadding:{y:1,x:2}},j.createElement(R.K,{bold:!0,size:"md"},P.a._("Delete"))))):j.createElement("button",{style:Pe,onClick:S.handleShowReportModal},j.createElement(R.b,{deprecatedPadding:{y:1,x:2}},j.createElement(R.K,{bold:!0,size:"md"},P.a._("Report this content")))))))))}),je(xe(xe(S)),"renderStatsBar",function(){var e=S.props,t=e.item,n=t.comment_count,r=t.done_at,o=e.isManagedView,a=e.viewer,i=S.state,c=i.isLikedByMe,u=i.likeCount,s=i.isReportHover,l=I.h(P.a.ngettext("{{likeCount}} like","{{likeCount}} likes",u),{likeCount:u}),d=I.h(P.a.ngettext("{{commentCount}} comment","{{commentCount}} comments",n),{commentCount:n}),f=function e(){return Object(p.a)(S.handleClickLike)()};return j.createElement(R.b,{column:12,display:"flex",alignItems:"center"},j.createElement(R.b,{display:"flex"},j.createElement(R.K,{size:"sm"},j.createElement(ye.b,{value:new Date(r),dateFormatType:ye.a.LONG,useUTC:!1})),0<n&&j.createElement(R.b,{marginLeft:6},j.createElement(R.K,{bold:!0,size:"sm"},d)),0<u&&j.createElement(R.b,{marginLeft:6},j.createElement(R.O,{onTouch:S.handleToggleLikesListModal},j.createElement(R.K,{bold:!0,size:"sm"},l)))),j.createElement(R.b,{display:"flex",flex:"grow",justifyContent:"end"},j.createElement(R.b,{display:"flex",justifyContent:0<u?"between":"end",deprecatedMargin:{bottom:1,top:1}},a.isAuth&&j.createElement(R.o,{accessibilityLabel:P.a._("Like"),icon:"heart",iconColor:c?"darkGray":"gray",onClick:f,size:"md"}))),o&&j.createElement(R.b,{display:"flex",flex:"none"},j.createElement(R.O,{onTouch:S.handleShowReportModal,shape:"pill",onMouseEnter:S.handleReportMouseEnter,onMouseLeave:S.handleReportMouseLeave},j.createElement(R.b,{padding:2},j.createElement(R.K,{bold:!0,size:"sm",color:s?"darkGray":"gray"},P.a._("Report"))))))}),je(xe(xe(S)),"renderPinInfoBar",function(){var e=S.props.item,t=e.images,n=e.pin,r=e.user.full_name,o=n.dominant_color,a=n.images,i=n.rich_metadata,c=void 0===i?{}:i,u=n.title,s=(c||{}).title,l;return l=S.isOwnedByCurrentUser&&s?Object(pe.b)(P.a._("You tried {{pinTitleForTriedByText}}","Navigating to a Pin from a try"),{pinTitleForTriedByText:s}):s?Object(pe.b)(P.a._("{{fullName}} tried {{pinTitleForTriedByText}}","Navigating to a Pin from a try"),{fullName:r,pinTitleForTriedByText:s}):S.isOwnedByCurrentUser?P.a._("See the Pin you tried","Navigating to a Pin from a try"):P.a._("See the Pin that inspired it","call to action - navigating to a Pin from a try"),j.createElement("div",{className:t.length?"DidItPinInfoBar":""},j.createElement(A.b,{onClick:S.handleClickthrough,key:S.pinURL,to:S.pinURL},j.createElement(R.b,{paddingX:t.length?3:0,paddingY:3,display:"flex",alignItems:"center"},j.createElement(R.b,{marginRight:2,display:"flex",flex:"grow",justifyContent:"start",alignItems:"center"},j.createElement(R.b,{width:60,marginRight:3},j.createElement(R.u,{shape:"rounded",wash:!0},j.createElement(R.p,{alt:u,color:o,naturalHeight:60,naturalWidth:60,src:a["136x136"].url}))),j.createElement(R.K,{color:t.length?"white":"darkGray",size:"lg",bold:!0}," ",l," ")),j.createElement(R.n,{accessibilityLabel:P.a._("See pin"),color:t.length?"white":"darkGray",icon:"arrow-forward",size:32}))))}),S}return ke(o,e),Oe(o,[{key:"render",value:function e(){var n=this,t=this.props,r=t.item,o=t.viewType,a=t.isManagedView,i=this.state,c=i.likeCount,u=i.showDeleteModal,s=i.showLikesListModal,l=i.showReportModal,d=r.comment_count,f=r.details,p=r.id,m=r.images,h=r.pin.aggregated_pin_data,y=void 0===h?{}:h,b=r.user,g=r.videos,v=b.full_name,_=b.id,E=b.image_medium_url,w=b.username,O="/".concat(w,"/");I.h(P.a.ngettext("{{likeCount}} like","{{likeCount}} likes",c),{likeCount:c}),I.h(P.a.ngettext("{{commentCount}} comment","{{commentCount}} comments",d),{commentCount:d});var C=!!(g&&0<g.length&&g[0].video_list&&(g[0].video_list.V_HLSV4||g[0].video_list.V_720P)),S=!!(0<m.length&&m[0]&&m[0]["750x"]),k=S||C,T=82!==o,x=S&&T;return j.createElement(R.b,{xs:{display:"flexColumn"},alignItems:"stretch",justifyContent:"between",paddingY:7},j.createElement(R.b,{xs:{display:"flex",column:12},alignItems:"center"},j.createElement(R.b,{display:"flex",alignItems:"center"},j.createElement(R.b,{width:42,marginRight:3},j.createElement(A.b,{onClick:this.handleClickthrough,key:O,to:O},j.createElement(R.u,{shape:"circle",wash:!0},j.createElement(R.p,{alt:v,color:"#efefef",naturalHeight:42,naturalWidth:42,src:E,key:E}))))),j.createElement(R.b,{xs:{column:1,display:"flex"},md:{display:!1}}),j.createElement(R.b,{alignItems:"center",column:12,display:"flex",justifyContent:"between"},j.createElement(R.K,{size:"lg"},j.createElement("div",{className:"PhotoFirstTitle"},j.createElement(A.b,{forceOnClick:!0,onClick:this.handleClickthrough,key:O,to:O},v))),this.renderFlyout())),j.createElement(R.b,{deprecatedMargin:{top:2,bottom:1}},k&&j.createElement(R.b,{column:12,position:"relative"},C?j.createElement(ce,{item:r,viewType:o}):j.createElement(q,{item:r}),x&&j.createElement(R.b,{column:12,position:"absolute",bottom:!0},this.renderPinInfoBar()))),j.createElement(R.b,{marginLeft:1},S&&this.renderStatsBar(),f&&j.createElement(R.b,{xs:{column:10},marginBottom:2,dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-line"}}},j.createElement(R.K,{size:"lg",smSize:"sm",mdSize:"md",lgSize:"lg"},j.createElement(K,{html:f,onClick:this.handleClickHashTag}))),!S&&j.createElement(R.b,null,T&&this.renderPinInfoBar(),this.renderStatsBar()),j.createElement(R.b,{xs:{column:12}},j.createElement(fe.b,{name:"unified_comment_aggregated_comments_web"},function(e){var t;return e.anyEnabled?j.createElement(se.b,{commentCount:d,depth:0,didItOwnerId:_,objectId:p,objectType:ue.a.didIt,updateRootItemCommentCount:n.updateCommentCount,isManagedView:a}):j.createElement(le.b,{commentCount:d,depth:0,didItOwnerId:_,objectId:p,objectType:ue.a.didIt,onCommentAdded:n.incrementCommentCount,onCommentRemoved:n.decrementCommentCount,isManagedView:a,showReply:!1})}))),u&&j.createElement(D.a,{didItData:{id:p},onDeleteConfirmation:this.handleDeleteConfirmation}),s&&j.createElement(H.a,{accessibilityCloseLabel:P.a._("close","accessible label for button to close modal"),accessibilityModalLabel:P.a._("Users who have liked this.","Label for a modal showing a list of users who have liked a Tried Item"),heading:I.h(P.a.ngettext("{{count}} Like","{{count}} Likes",c),{count:c.toString()}),onDismiss:this.handleToggleLikesListModal,size:"md"},j.createElement(de.b,{id:p})),l&&j.createElement(z.a,{onHide:this.handleHideReportModal(!1)},j.createElement(B,{aggregatedPinDataId:y.id,didItDataId:p,onCompletedReport:this.handleCompletedReport,onClose:this.handleHideReportModal(!0),username:w,users:[b]})))}},{key:"isOwnedByCurrentUser",get:function e(){var t=this.props,n=t.viewer,r=t.item;return n.isAuth&&n.id===r.user.id}},{key:"pinURL",get:function e(){return"/pin/".concat(this.props.item.pin.id,"/")}}]),o}(j.PureComponent),Fe=function e(t,n){var r;return{item:t.userDidItData[n.didItDataId]}},Le=function e(t,n){return{deleteUserDidItData:Object(ge.bindActionCreators)(f.b,t),updateUserDidItDataCommentCount:Object(ge.bindActionCreators)(f.e,t)}},Ne=t.a=Object(ge.compose)(Object(r.connect)(Fe,Le),be.a)(Me)},w13j:function(e,t,n){e.exports=function(){return new Promise(function(t){n.e(220).then(function(e){t(n("91Us"))}.bind(null,n)).catch(n.oe)})}},w1jd:function(e,t,n){"use strict";n.d(t,"d",function(){return f}),n.d(t,"a",function(){return Z}),n.d(t,"b",function(){return q}),n.d(t,"c",function(){return p});var r=n("Esb+"),o=n.n(r),a=n("Awha"),i=n.n(a),c=n("mZ/m"),u;function W(e){return d(e)||l(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function d(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){K(t,e,n[e])})}return t}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={boardactivity:"BoardActivityResource",boardactivitycomment:"BoardActivityCommentResource",communitycomment:"CommunityCommentResource",communitypost:"CommunityPostResource"},Z={BOARD:"board",BOARD_ACTIVITY:"boardactivity",BOARD_ACTIVITY_COMMENT:"boardactivitycomment"},q={COMMUNITY:"community",COMMUNITY_COMMENT:"communitycomment",COMMUNITY_POST:"communitypost"},p=(K(u={},Z.BOARD,c.b.BOARD_ACTIVITYITEMS),K(u,Z.BOARD_ACTIVITY,c.b.BOARD_ACTIVITYCOMMENTS),K(u,Z.BOARD_ACTIVITY_COMMENT,c.b.BOARD_ACTIVITYCOMMENTS),K(u,q.COMMUNITY,c.b.COMMUNITY_POSTS),K(u,q.COMMUNITY_POST,c.b.COMMUNITY_COMMENTS),K(u,q.COMMUNITY_COMMENT,c.b.COMMUNITY_COMMENTS),u),X={},Q=function e(t,n){var r=Y({},i()({},t,n),n.content?{content:n.content}:{},n.reaction_counts?{reaction_counts:n.reaction_counts}:{});return o()(t,r)?t:r},J=function e(t){return t.reduce(function(e,t){if(11===t.activity_type&&t.comment&&t.ref_board_activity){var n=t.comment,r=t.ref_board_activity;n&&r&&(e.push(Y({},n,{user:t.user})),e.push(r),e.push(Y({},t,{comment:{id:n.id},ref_board_activity:{id:r.id}})))}else e.push(t);return e},[])},m=function e(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:X,t=1<arguments.length?arguments[1]:void 0;if("RESOURCE_FETCH_COMPLETE"===t.type||"RESOURCE_FETCH_MORE_COMPLETE"===t.type){var n=t.payload,o=n.data,a=n.name,i=n.options;if("BoardActivityCommentFeedResource"===a||"CommunityItemCommentsFeedResource"===a){var c,u=(o||[]).reduce(function(e,t){return e[t.id]=Q(r[t.id],t),e},{});return Y({},r,u)}if("CommunityPostActivityFeedResource"===a||"CommunityPostFeedResource"===a){var s,l=(o||[]).reduce(function(t,e){return e.preview_comments&&e.preview_comments.map(function(e){return t[e.id]=e}),t[e.id]=e,t},{});return Y({},r,l)}if("BoardActivityFeedResource"===a){var d,f,p=J(o||[]).reduce(function(e,t){return e[t.id]=Q(r[t.id],t),e},{});return Y({},r,p)}if(("BoardActivityResource"===a||"CommunityPostResource"===a)&&o){var m=o;return Y({},r,K({},m.id,Q(r[m.id],m)))}if("BoardActivityCommentResource"===a&&o){var h=o,y=K({},h.id,Q(r[h.id],h));if(h.root_board_activity){var b=h.root_board_activity.id;y[b]=Q(r[b],h.root_board_activity)}return Y({},r,y)}if("CommunityCommentResource"===a&&o){var g=o,v=K({},g.id,g);return g.root_post&&(v[g.root_post.id]=g.root_post),g.parent_comment&&(v[g.parent_comment.id]=g.parent_comment),g.reply_to_comment&&(v[g.reply_to_comment.id]=g.reply_to_comment),Y({},r,v)}if("NewsHubDetailsResource"===a&&o&&0<o.length&&o[0].content_items){var _={};return o.forEach(function(e){e.content_items.forEach(function(e){var t=e.content_object&&e.content_object.type;if(t===q.COMMUNITY_POST||t===q.COMMUNITY_COMMENT){var n=e.content_object,r;[n].concat(W(n.preview_comments.map(function(e){return e}))).forEach(function(e){return _[e.id]=e})}if(t===Z.BOARD_ACTIVITY_COMMENT||t===Z.BOARD_ACTIVITY){var o=e.content_object;J([o]).forEach(function(e){return _[e.id]=e})}})}),Y({},r,_)}if("PinResource"===a&&o&&o.board_activity){var E=o.board_activity;return E.board=o.board,Y({},r,K({},E.id,Q(r[E.id],E)))}if(("BoardFeedResource"===a||"BoardSectionPinsResource"===a)&&("react_grid_pin_with_board_activity"===i.field_set_key||"partner_react_grid_pin_with_board_activity"===i.field_set_key)||"BoardActivityPinsFeedResource"===a){var w,O=(o||[]).reduce(function(e,t){var n=t.board_activity;return n&&n.id&&(e[n.id]=Q(r[n.id],n)),e},{});return Y({},r,O)}}else{if("ACTIVITY_ITEM_CREATED"===t.type){var C=t.payload.activityItem;return Y({},r,K({},C.id,C))}if("ACTIVITY_ITEM_DELETED"===t.type){var S=t.payload,k=S.activityId,T=S.activityType;if(T===Z.BOARD_ACTIVITY_COMMENT||T===Z.BOARD_ACTIVITY||T===q.COMMUNITY_POST){var x=Y({},r);return delete x[k],x}if(T===q.COMMUNITY_COMMENT)return Y({},r,K({},k,Q(r[k],{visibility:2})))}else{if("ACTIVITY_ITEM_UPDATED"===t.type){var j=t.payload.data;return Y({},r,K({},j.id,Q(r[j.id],j)))}if("COMMUNITY_ITEM_EDITED"===t.type){var I=t.payload.data;return Y({},r,K({},I.id,I))}if("UPDATE_ACTIVITY_ITEM_COMMENT_COUNT"===t.type){var D=t.payload,P=D.increment,R=D.id,A=r[R];if(A&&[q.COMMUNITY_POST,q.COMMUNITY_COMMENT,Z.BOARD_ACTIVITY_COMMENT,Z.BOARD_ACTIVITY].includes(A.type)){var M=Y({},A,{comment_count:P?A.comment_count+1:A.comment_count-1});return Y({},r,K({},R,M))}}else if("COMMUNITY_ITEM_UPDATE_LIKE_COUNT"===t.type||"ACTIVITY_ITEM_UPDATE_LIKE_COUNT"===t.type){var F=t.payload,L=F.increment,N=F.id,U=r[N],B=U.reaction_counts[1]||0,z,H=L?1:0,G,V=Y({},U,{reaction_counts:K({},1,L?B+1:B-1),reaction_by_me:H});return Y({},r,K({},N,V))}}}return r};t.e=m},wUWH:function(e,t,n){"use strict";var r=n("d6ZO"),c=n.n(r),o=n("zTOp"),u=n.n(o),a=n("mHth");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){g(t,e,n[e])})}return t}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?b(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function e(){return null},_=function(e){function o(){var e,i;l(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(b(b(i=p(this,(e=m(o)).call.apply(e,[this].concat(n))))),"view",function(e){var t=e.placement_id,n=e.experience_id,r;i.props.experienceClient.viewExperience(t,n)}),g(b(b(i)),"complete",function(e){var t=e.placement_id,n=e.experience_id,r=i.props,o=r.experienceClient,a=r.preventRemoval;a?o.completeExperience(t,n,a):o.completeExperience(t,n)}),g(b(b(i)),"dismiss",function(e){var t=e.placement_id,n=e.experience_id,r=i.props,o=r.experienceClient,a=r.preventRemoval;a?o.dismissExperience(t,n,a):o.dismissExperience(t,n)}),i}return h(o,e),f(o,[{key:"componentDidMount",value:function e(){if(!this.props.disableAutoView){var t=this.getExperience(this.props);t&&this.shouldRenderExperience(t)&&this.view(t)}}},{key:"componentDidUpdate",value:function e(t,n){if(!this.props.disableAutoView){var r=this.getExperience(t),o=this.getExperience(this.props);o&&this.shouldRenderExperience(o)&&(r&&r.experience_id===o.experience_id||this.view(o))}}},{key:"getExperience",value:function e(t){return t.experienceClient.experienceForPlacement}},{key:"shouldRenderExperience",value:function e(t){if(t){var n=t.type,r=t.experience_id;if(this.props.experienceIds&&this.props.experienceIds.includes(r))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===n)return!0;if(this.props.transitionType&&this.props.transitionType===n)return!0}}return!1}},{key:"render",value:function e(){var t=this,n=this.props,r=n.children,o=n.disableAutoView,a=this.getExperience(this.props);if(a&&this.shouldRenderExperience(a)&&r){if(u()(r)){var i=s({},a,{complete:function e(){return t.complete(a)},dismiss:function e(){return t.dismiss(a)}});return o&&(i.view=function(){return t.view(a)}),r(i)}return c.a.Children.only(r)}return c.a.createElement(v,null)}}]),o}(r.Component);t.a=Object(a.a)(_)},wZ3m:function(e,t){var n=9007199254740991;function r(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=n}e.exports=r},waY5:function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a}e.exports=n},wncH:function(e,t,n){"use strict";function r(e){return Boolean(e&&"function"==typeof e.dispose)}t.__esModule=!0,t.default=r,e.exports=t.default},wq4j:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return r}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return o});var a="data-length",u="data-reply-to",s="data-user-id",l="communityEditorMention",i="#4A90E2",d=function e(t){for(var n=t.previousSibling,r=0;n;)r+=n.textContent.length,n=n.previousSibling;return r},r=function e(t,r,n,o){var a=[];n&&n.forEach(function(e){r[e.id]=e});var i=!0,c;t&&t.children&&Array.from(t.children).forEach(function(e){if(e.className===l){var t=e.getAttribute(s);e.getAttribute(u)&&(i=!1);var n=r[t].first_name||r[t].user.full_name;a=a.concat({object_id:t,length:n&&n.length,offset:d(e),tag_type:1})}});return i&&o&&o(),JSON.stringify(a)},f=function e(t){var n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=document.createElement("span"),o=t.first_name||t.full_name;return r.setAttribute("style","font-weight: bold; color: ".concat(i)),r.setAttribute(s,"".concat(t.id)),r.setAttribute(a,"".concat(o.length)),n&&r.setAttribute(u,"true"),r.setAttribute("class",l),r.innerText=o,r},o=function e(t,r,o){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},a=0,i="";if(n&&n.user){var c=n.user.first_name||n.user.full_name;if((!o||o.substring(a,c.length)===c)&&(i="".concat(f(n.user,!0).outerHTML," "),a=c.length,t.shift(),o&&o.trim().length===c.length))return i}return o&&(t.forEach(function(e,t){var n=o?o.substring(a,e.offset):"";a=e.offset+e.length,i="".concat(i).concat(n).concat(f(r[t]).outerHTML)}),i="".concat(i).concat(o.substring(a))),i}},wq6O:function(e,t,n){var r=n("FKtX");function o(){this.__data__=r?r(null):{},this.size=0}e.exports=o},wuIk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c,t.areDirty=u;var r,l=i(n("D+il")),o,a=i(n("hVG0")),d=n("IHGr"),f=n("V4Pm");function i(e){return e&&e.__esModule?e:{default:e}}var p=[],m=[];function c(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1],n=arguments[2];switch(t.type){case d.HOVER:break;case f.ADD_SOURCE:case f.ADD_TARGET:case f.REMOVE_TARGET:case f.REMOVE_SOURCE:return p;case d.BEGIN_DRAG:case d.PUBLISH_DRAG_SOURCE:case d.END_DRAG:case d.DROP:default:return m}var r=t.targetIds,o=n.targetIds,a=(0,l.default)(r,o),i=!1;if(0===a.length){for(var c=0;c<r.length;c++)if(r[c]!==o[c]){i=!0;break}}else i=!0;if(!i)return p;var u=o[o.length-1],s=r[r.length-1];return u!==s&&(u&&a.push(u),s&&a.push(s)),a}function u(e,t){return e!==p&&(e===m||void 0===t||0<(0,a.default)(t,e).length)}},xE6w:function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},xLCe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),o,a,i=n("d6ZO"),c,u=l(n("IaRT")),s=n("t9mU");function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=(a=o=function(e){function o(t,n){d(this,o);var e=f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t,n)),r=function e(){return t&&t.window?t.window:n&&n.window?n.window:"undefined"!=typeof window?window:void 0};return e.backend=(0,s.unpackBackendForEs5Users)(t.backend),e.childContext=(0,s.createChildContext)(e.backend,{window:r()}),e}return p(o,e),r(o,[{key:"componentWillReceiveProps",value:function e(t){if(t.backend!==this.props.backend||t.window!==this.props.window)throw new Error("DragDropContextProvider backend and window props must not change.")}},{key:"getChildContext",value:function e(){return this.childContext}},{key:"render",value:function e(){return i.Children.only(this.props.children)}}]),o}(i.Component),o.propTypes={backend:u.default.oneOfType([u.default.func,u.default.object]).isRequired,children:u.default.element.isRequired,window:u.default.object},o.defaultProps={window:void 0},o.childContextTypes=s.CHILD_CONTEXT_TYPES,o.displayName="DragDropContextProvider",o.contextTypes={window:u.default.object},a);t.default=m},xPFh:function(e,t,n){var o=n("xlRZ"),r,a=Array.prototype.splice;function i(e){var t=this.__data__,n=o(t,e),r;return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}e.exports=i},xYD3:function(e,t,n){var u=n("xE6w"),s=Math.max;function r(a,i,c){return i=s(void 0===i?a.length-1:i,0),function(){for(var e=arguments,t=-1,n=s(e.length-i,0),r=Array(n);++t<n;)r[t]=e[i+t];t=-1;for(var o=Array(i+1);++t<i;)o[t]=e[t];return o[i]=c(r),u(a,this,o)}}e.exports=r},xfx3:function(e,t,n){"use strict";var r=n("d6ZO"),l=n.n(r),d=n("dZgC"),f=n("mnfW"),o=function e(t){var n=t.currency,r=t.maximumFractionDigits,o=t.minimumFractionDigits,a=t.shortform,i=t.shortformMaximumFractionDigits,c=t.formatStyle,u=t.uplimit,s=t.value;return l.a.createElement(d.b,null,function(e){return Object(f.c)(e.locale,s,{currency:n,maximum_fraction_digits:r,minimum_fraction_digits:o,shortform:a,shortform_maximum_fraction_digits:i,style:c,uplimit:u})})};t.a=o},xlRZ:function(e,t,n){var r=n("e/71");function o(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}e.exports=o},y5wT:function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},"yQS/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=0;function o(){return r++}},ySuP:function(e,t,n){var r=n("gcrN"),o=n("Jj3T"),a=n("2cew"),i=r?r.isConcatSpreadable:void 0;function c(e){return a(e)||o(e)||!!(i&&e&&e[i])}e.exports=c},yVDt:function(e,t,n){var r=n("9zfJ"),o=n("ncT4"),a=n("ZuLt"),i=1/0,c=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=c},ydBC:function(e,t,n){var r=n("FKtX"),o,a=Object.prototype.hasOwnProperty;function i(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}e.exports=i},"z/23":function(e,t,n){"use strict";t.a=c;var u=n("d6ZO"),r=n.n(u),o=n("GGB8"),s=n.n(o),l=n("W/Cr"),a=n("IaRT"),i=n.n(a),d=n("5tOk");function c(e){var t=e.email,n=e.isValid,r=e.onClick,o=e.showSendEmailText,a=n?u.createElement("div",{className:"icon"},t[0].toUpperCase()):u.createElement("div",{className:s()("icon","typingEmail")},u.createElement("em",null)),i=n?l.a._("Click to send!"):l.a._("Keep typing!"),c=o?Object(d.h)(l.a._("Email {{ email }}"),{email:t}):Object(d.h)(l.a._("Invite {{ email }}"),{email:t});return u.createElement("div",{className:s()("sendToEmail",{unclickable:!n})},u.createElement("a",{className:"selectableEmailItem",onClick:function e(){n&&r()},role:"button"},u.createElement("div",{className:"left"},a),u.createElement("div",{className:"right"},u.createElement("h4",{className:"title"},c),u.createElement("p",{className:"subtitle"},i))))}},z3es:function(e,t,n){"use strict";var r=n("d6ZO"),h=n.n(r),o=n("GGB8"),s=n.n(o),a=n("DUIN"),y=n("W/Cr"),i=n("THYI"),p=n.n(i),b=n("okCi"),g=n("L2lD"),v=n("dOg2"),c=n("ievh"),_=n("z/23"),E=n("5tOk"),w=n("gEaE"),u=177;function l(e){var t=e.contactIdentifierGroup,n=e.onChange,u=e.onSendMessage,s=e.onShowSendDraft,r=e.onShowImportContacts,l=e.sentHistory,d=e.shouldShowContactIdentifier,o=e.suggestions,a=e.value,f=e.viewerId,p=["employees","enabled_username"].includes(t||""),m=["enabled_identifier"].includes(t||""),i=o.map(function(r,e){var t=l.some(function(e){return JSON.stringify(e)===JSON.stringify([r.id])}),n="conversation_share_suggestion"===r.type,o=[];r.users instanceof Array&&(o=r.users);var a=n?o.filter(function(e){return e.id!==f}):[],i="";"string"!=typeof r.full_name||r.full_name.match(/^\s*$/)?"string"!=typeof r.email||r.email.match(/^\s*$/)||(i=r.email):i=r.full_name;var c="";return"string"==typeof r.image_small_url&&(c=r.image_small_url),h.a.createElement("li",{key:e,onClick:function e(){s(r)},role:"button",tabIndex:"0"},h.a.createElement(w.b,{display:"flex",width:"100%",alignItems:"center",position:"relative"},h.a.createElement(w.b,{width:38,marginRight:4},n?h.a.createElement(w.l,{collaborators:a.map(function(e){return{name:e.full_name||e.first_name,src:e.image_small_url}})}):h.a.createElement(w.a,{name:i,src:c})),h.a.createElement(w.b,{flex:"grow",width:"100%",alignItems:"center"},h.a.createElement(w.b,{display:"flex",width:"100%",height:"100%",alignItems:"center"},h.a.createElement(w.b,{flex:"grow",alignItems:"center",width:"71%"},h.a.createElement(w.K,{bold:!0,color:"darkGray",size:"md",truncate:!0},n?a.map(function(e){return e.first_name||e.full_name}).join(", "):i),d&&p&&"string"==typeof r.username&&h.a.createElement(w.K,{size:"xs",color:"gray"},r.username),d&&m&&"string"==typeof r.username&&!!r.debug_reason.readable_reason&&h.a.createElement(w.K,{size:"xs",color:"gray"},r.debug_reason.readable_reason)),h.a.createElement(w.b,{marginLeft:3},h.a.createElement(w.c,{inline:!0,size:"sm",color:t?"gray":"red",disabled:t,text:t?y.a._("Sent"):y.a._("Send"),onClick:function e(t){var n;t.event.stopPropagation(),u(r)}})))),h.a.createElement(v.a.Consumer,null,function(e){return e?h.a.createElement(w.b,{position:"absolute",top:!0,right:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",backgroundColor:"rgba(255,255,255,0.5)"}}},h.a.createElement(w.K,{bold:!0,size:"xl",color:"blue"},r.debug_reason.reason)):null})))});return h.a.createElement("div",{className:"sendShareSearchContacts"},""===a?h.a.createElement(c.a,{name:"ShareSuggestionsResource",allowStale:!1}):h.a.createElement(c.a,{name:"ShareSuggestionsTypeaheadResource",options:{term:a}}),h.a.createElement("div",{className:"SocialTypeaheadField TypeaheadField sendShare userCircleSelect"},h.a.createElement(w.b,{paddingX:3,marginBottom:1},h.a.createElement(w.D,{id:"search",accessibilityLabel:y.a._("Search for a name or email","accessible label"),onChange:n,placeholder:y.a._("Name or email"),value:a}))),h.a.createElement("div",{className:"ContactsList sendShare",style:{height:177,zIndex:1e3,overflowY:"scroll",overflowX:"hidden"}},h.a.createElement("ul",null,i,""!==a?h.a.createElement("li",{role:"button",tabIndex:"0"},h.a.createElement(_.a,{email:a,isSend:!0,isValid:Object(E.g)(a),onClick:function e(){return s({email:a,full_name:a})},showSendEmailText:!1})):null,""!==a?h.a.createElement("li",{onClick:r,role:"button",tabIndex:"0",style:{width:"100%"}},h.a.createElement("div",{className:"ImageBlock Module socialConnectCta"},h.a.createElement("div",{className:"left circle imageSize_sendShare"},h.a.createElement("em",null)),h.a.createElement("div",{className:"right"},h.a.createElement("h4",{className:"imageBlockContentTitle"},y.a._("Choose from contacts")),h.a.createElement("div",{className:"imageBlockContentBody"},h.a.createElement("span",null))))):null)),");")}function d(e,t){return{viewerId:e.viewer.id,suggestions:e.social.shareSuggestions[t.value]||[]}}var O=Object(a.connect)(d)(l),C=n("3ADV"),S=n("6oz1"),f=n("woYD"),m=n("fvzG");function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function T(e){return I(e)||j(e)||x()}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function j(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function I(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function A(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?N(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return(L=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(e){function a(){var e,r;D(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return U(N(N(r=A(this,(e=M(a)).call.apply(e,[this].concat(n))))),"state",{isObjectDraft:!1,recipient:{},sentHistory:[],typeaheadValue:"",textValue:"",isLoading:!1}),U(N(N(r)),"handleInlineSendMessage",function(e,t){r.handleSendMessage(e,t,!0)}),U(N(N(r)),"handleSendMessage",function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];"conversation_share_suggestion"===e.type?r.sendToConversation(e.id,t,n):"contact_share_suggestion"!==e.type&&"user_share_suggestion"!==e.type&&"user"!==e.type||!e.username?r.sendToUsers([],[e.email],t,n):r.sendToUsers([e.id],[],t,n),Object(f.a)(101,{component:56,element:276})}),U(N(N(r)),"handleHideLoading",function(){r.setState({isLoading:!1})}),U(N(N(r)),"handleCancelDraft",function(){r.setState({isObjectDraft:!1,recipient:null})}),U(N(N(r)),"handleTypeaheadChange",function(e){var t=e.value;r.setState({typeaheadValue:t}),Object(f.a)(4113,{component:13029,element:1043})}),U(N(N(r)),"logSendMessage",function(e){var t,n=r.props.sharedObject.id;Object(f.a)(180,{element:276,objectId:n,conversation_id:e})}),U(N(N(r)),"handleShowSendDraft",function(e){r.setState({isObjectDraft:!0,recipient:e})}),U(N(N(r)),"handleShowEmailDraft",function(){r.setState({isObjectDraft:!0,recipient:"email"})}),r}return F(a,e),R(a,[{key:"onSendFinish",value:function e(t){this.setState({isObjectDraft:!1}),this.logSendMessage(t)}},{key:"sendToConversation",value:function e(t,n,r){var o=this,a=this.props,i=a.dispatch,c=a.sharedObject,u,s;switch(a.sendType){case"pin":s=Object(m.i)(t,{text:n,pinId:c.id});break;case"board":s=Object(m.i)(t,{text:n,boardId:c.id});break;case"did_it":s=Object(m.i)(t,{text:n,didItId:c.id});break;case"user":case"pinner":s=Object(m.i)(t,{text:n,userId:c.id})}s&&(i(s),s.getPromise().then(function(){i(Object(m.h)(t)),i(Object(m.g)(t)),o.onSendFinish(t)}),this.setState({sentHistory:T(this.state.sentHistory).concat([t])}))}},{key:"sendToUsers",value:function e(t,n,r,o){var a,i=this,c=this.props,u=c.dispatch,s=c.sharedObject,l=c.sendType,d=s.id,f;p.a.create("ConversationsResource",(U(a={},l,d),U(a,"emails",n),U(a,"user_ids",t),U(a,"text",r),a)).callCreate().then(function(e){var t=e&&e.resource_response.data;u(Object(m.c)(t)),u(Object(m.h)(t.id)),u(Object(m.g)(t.id)),i.onSendFinish(t.id)}),this.setState({sentHistory:T(this.state.sentHistory).concat([t])})}},{key:"render",value:function e(){var r=this,t=this.state,n=t.isObjectDraft,o=t.recipient,a=t.sentHistory,i=this.props,c=i.onCreatePincodeClick,u=i.onShowImport,s=i.sendType,l=i.sharedObject,d=i.isFlyout,f=i.onHide,p=y.a._("Or send to","sharesheet, send (pin, profile, board, or community) on either Pinterest or email"),m="email"===o?h.a.createElement(g.a,{isFlyout:d,objectId:l.id,objectType:s,onCancelDraft:this.handleCancelDraft,onHide:f,onSendMessage:this.handleSendMessage,initialTextValue:this.state.textValue}):h.a.createElement(b.a,{isFlyout:d,objectId:l.id,objectType:s,onCancelDraft:this.handleCancelDraft,onHide:f,onSendMessage:this.handleSendMessage,recipient:o,initialTextValue:this.state.textValue});return n?m:h.a.createElement(w.b,null,h.a.createElement(C.a,{onCreatePincodeClick:c,sharedObject:l,onEmailIconClick:this.handleShowEmailDraft,onHide:f}),h.a.createElement(w.b,{paddingY:3,paddingX:3},h.a.createElement(w.K,{size:"sm"},y.a._("Or send to"))),h.a.createElement(S.b,{name:"web_contact_identifiers"},function(e){var t=e.anyEnabled,n=e.group;return h.a.createElement(O,{contactIdentifierGroup:n,onChange:r.handleTypeaheadChange,onSendMessage:r.handleInlineSendMessage,onShowImportContacts:u,onShowSendDraft:r.handleShowSendDraft,sentHistory:a,shouldShowContactIdentifier:t,value:r.state.typeaheadValue})}))}}]),a}(r.Component),z=Object(a.connect)()(B),H=n("pgMj");function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t,n){return t&&W(e.prototype,t),n&&W(e,n),e}function K(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?Q(e):t}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}function X(e,t){return(X=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return ee});var $="Module SendObjectBase sendShare",ee=function(e){function a(){var e,t;V(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return J(Q(Q(t=K(this,(e=Z(a)).call.apply(e,[this].concat(r))))),"state",{showImportContacts:!1}),J(Q(Q(t)),"handleSelectImportContacts",function(){t.setState({showImportContacts:!0})}),J(Q(Q(t)),"handleShowSendObject",function(){t.setState({showImportContacts:!1})}),t}return q(a,e),Y(a,[{key:"componentDidMount",value:function e(){Object(f.a)(7120,{objectId:this.props.sharedObject.id,view:this.props.viewType,viewParameter:this.props.viewParameter})}},{key:"componentWillUnmount",value:function e(){Object(f.a)(7121,{objectId:this.props.sharedObject.id,view:this.props.viewType,viewParameter:this.props.viewParameter})}},{key:"renderImportContacts",value:function e(){var t,n=this.props.isFlyout?$:"";return h.a.createElement("div",{className:n},h.a.createElement(H.a,{onBack:this.handleShowSendObject}))}},{key:"renderSendObject",value:function e(){var t=this.props,n=t.classNames,r=t.isFlyout,o=t.onCreatePincodeClick,a=t.onHide,i=t.sendType,c=t.sharedObject,u=s()($,n,"flippedSharing","fullWidth");return h.a.createElement("div",{className:u,style:{overflowY:"hidden",overflow:"hidden"}},h.a.createElement(z,{isFlyout:r,onCreatePincodeClick:o,onHide:a,onShowImport:this.handleSelectImportContacts,sendType:i,sharedObject:c}))}},{key:"render",value:function e(){var t;return this.state.showImportContacts?this.renderImportContacts():this.renderSendObject()}}]),a}(r.Component);J(ee,"defaultProps",{classNames:"",isFlyout:!1})},z52f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}();t.default=l;var o,a=i(n("Qsew"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=!1,s=function(){function t(e){c(this,t),this.internalMonitor=e.getMonitor()}return r(t,[{key:"receiveHandlerId",value:function e(t){this.targetId=t}},{key:"canDrop",value:function e(){(0,a.default)(!u,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html");try{return u=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{u=!1}}},{key:"isOver",value:function e(t){return this.internalMonitor.isOverTarget(this.targetId,t)}},{key:"getItemType",value:function e(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function e(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function e(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function e(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function e(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function e(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function e(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function e(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function e(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),t}();function l(e){return new s(e)}},zAVW:function(e,t,n){"use strict";t.b=c,t.a=u;var r=n("THYI"),o=n.n(r);function a(e){return{type:"AGGREGATED_COMMENT_UPDATED",payload:{data:e}}}function i(e){return{type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:e}}}function c(e){var t=e.commentId,n=e.tags,r=e.text;return function(e){return o.a.create("AggregatedCommentResource",{commentId:t,tags:n,text:r}).callUpdate({showError:!1}),e(a({id:t,tags:JSON.parse(n),text:r}))}}function u(e){var n=e.aggregatedCommentId,r=e.isLikedByMe;return function(e){var t=o.a.create("AggregatedCommentLikeResource",{aggregatedCommentId:n});return r?t.callDelete({showError:!1}):t.callCreate({showError:!1}),e(i({id:n,reaction_by_me:r?0:1}))}}},zGf6:function(e,t,n){var r,o=n("ghX8").Symbol;e.exports=o}});