webpackJsonp([24,16,131,188,212,219],{"+UuE":function(e,t,n){"use strict";t.c=o,t.h=a,t.e=u,t.d=f,t.i=d,t.f=p,t.b=h,t.a=v,t.g=g;var r=n("d6ZO"),c=n.n(r),l=n("gEaE"),i="#EFEFEF",s="#333333";function o(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#FEFEFE",a=r?i:"#3B5998";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("defs",null,c.a.createElement("polygon",{id:"path-1",points:"17.9859534 27.9651806 22.9718644 27.9651806 22.9718644 9 17.9859534 9 13.0000424 9 13.0000424 27.9651806 17.9859534 27.9651806"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-67.000000, -72.000000)"},c.a.createElement("g",{transform:"translate(67.000000, 72.000000)"},c.a.createElement("rect",{id:"avatar",fill:a,x:"0",y:"0",width:"36",height:"36",rx:"18"}),c.a.createElement("mask",{fill:"white"},c.a.createElement("use",{xlinkHref:"#path-1"})),c.a.createElement("path",{d:"M19.4725847,27.9651806 L19.4725847,19.3143216 L22.4126695,19.3143216 L22.852839,15.9428678 L19.4725847,15.9428678 L19.4725847,13.7903436 C19.4725847,12.8142291 19.7469915,12.148978 21.1642797,12.148978 L22.9719068,12.1482247 L22.9719068,9.1328326 C22.6591949,9.09181938 21.5862288,9 20.3379237,9 C17.731822,9 15.9475847,10.571141 15.9475847,13.4565463 L15.9475847,15.9428678 L13.0000424,15.9428678 L13.0000424,19.3143216 L15.9475847,19.3143216 L15.9475847,27.9651806 L19.4725847,27.9651806 Z",fill:o,mask:"url(#mask-2)"})))))}function a(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#FFFFFF",a=r?i:"#0DC2FF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("defs",null,c.a.createElement("polygon",{id:"path-1",points:"17.9859534 27.9651806 22.9718644 27.9651806 22.9718644 9 17.9859534 9 13.0000424 9 13.0000424 27.9651806 17.9859534 27.9651806"}),c.a.createElement("polygon",{id:"path-3",points:"0 15.4545455 0 0 20 0 20 15.4545455"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-68.000000, -51.000000)"},c.a.createElement("g",{transform:"translate(68.000000, 51.000000)"},c.a.createElement("rect",{fill:a,x:"0",y:"0",width:"36",height:"36",rx:"18"}),c.a.createElement("mask",{fill:"white"},c.a.createElement("use",{xlinkHref:"#path-1"}))),c.a.createElement("g",{transform:"translate(76.000000, 61.000000)"},c.a.createElement("mask",{fill:"white"},c.a.createElement("use",{xlinkHref:"#path-3"})),c.a.createElement("path",{d:"M20,1.82947907 C19.2641282,2.13978309 18.4733165,2.34950437 17.6432935,2.44382678 C18.4905081,1.96094614 19.1410805,1.19635035 19.447456,0.285332236 C18.6546692,0.732389836 17.7765097,1.05709263 16.8418742,1.23210383 C16.0933465,0.47383793 15.0269578,0 13.8468122,0 C11.5806723,0 9.74344343,1.74684262 9.74344343,3.90144184 C9.74344343,4.20722451 9.77980175,4.50500786 9.84973847,4.79054877 C6.43951864,4.62784958 3.41607228,3.07459048 1.39229672,0.714165301 C1.03910165,1.29039452 0.836753356,1.96059834 0.836753356,2.67559835 C0.836753356,4.02915271 1.56121292,5.22334672 2.66220418,5.92297413 C1.98953875,5.90273237 1.35688943,5.72723427 0.803613885,5.43501566 C0.803321263,5.45129253 0.803321263,5.46763897 0.803321263,5.48405496 C0.803321263,7.37439841 2.21771096,8.95130767 4.09480961,9.30967717 C3.75046637,9.39885219 3.38798054,9.44650031 3.01371667,9.44650031 C2.74933246,9.44650031 2.4922638,9.42208499 2.24177914,9.37652366 C2.76389041,10.926583 4.27923479,12.0545566 6.07476499,12.0860669 C4.67047076,13.1324474 2.90120341,13.7561857 0.978821464,13.7561857 C0.64764622,13.7561857 0.321006621,13.7377524 0,13.7017207 C1.81586744,14.8086874 3.97271297,15.4545455 6.28991551,15.4545455 C13.8372289,15.4545455 17.9643732,9.50952103 17.9643732,4.35385551 C17.9643732,4.1846873 17.9604228,4.01642336 17.952522,3.84913325 C18.7541607,3.29905833 19.4498701,2.61188204 20,1.82947907",fill:o,mask:"url(#mask-4)"})))))}function u(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#FFFFFF",a=r?i:"#0084FF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-68.000000, -147.000000)"},c.a.createElement("g",{transform:"translate(68.000000, 147.000000)",fill:a},c.a.createElement("rect",{x:"0",y:"0",width:"36",height:"36",rx:"18"})),c.a.createElement("polygon",{fill:o,points:"88.0700004 170.707273 82.9636366 165.227273 73 170.707273 83.9600003 159 89.1909095 164.48 99.0300007 159"}))))}function f(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#8E8E8E",a=r?i:"#EFEFEF";return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 36 36",version:"1.1"},c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{fill:a,cx:"18",cy:"18",r:"18"}),c.a.createElement("g",{id:"Icons/link",transform:"translate(9.000000, 9.000000)",fill:o,fillRule:"nonzero"},c.a.createElement("path",{d:"M15.75075,5.43075 L12.711,8.46975 L11.916,7.67475 L12.42,7.17075 C12.8595,6.732 12.8595,6.0195 12.42,5.58 C11.9805,5.14125 11.268,5.14125 10.82925,5.58 L10.326,6.084 L9.53025,5.289 L12.56925,2.25 L15.75075,5.43075 Z M8.46975,12.71175 L5.43075,15.75075 L2.24925,12.57 L5.289,9.53025 L6.08325,10.32525 L5.58,10.82925 C5.14125,11.26875 5.14125,11.9805 5.58,12.42 C6.01875,12.8595 6.732,12.85875 7.17075,12.42 L7.674,11.916 L8.46975,12.71175 Z M10.97925,0.65925 L7.9395,3.69825 C7.06125,4.5765 7.06125,6.00075 7.9395,6.87975 L8.73525,7.67475 L7.674,8.73525 L6.879,7.9395 C6.00075,7.06125 4.5765,7.06125 3.69825,7.9395 L0.65925,10.9785 C-0.21975,11.8575 -0.21975,13.28175 0.65925,14.16 L3.84,17.3415 C4.71825,18.21975 6.1425,18.21975 7.02075,17.3415 L10.0605,14.3025 C10.93875,13.4235 10.93875,11.99925 10.0605,11.121 L9.2655,10.32525 L10.326,9.2655 L11.121,10.0605 C11.99925,10.93875 13.4235,10.93875 14.30175,10.0605 L17.34075,7.0215 C18.21975,6.14325 18.21975,4.719 17.34075,3.84 L14.16,0.65925 C13.28175,-0.21975 11.8575,-0.21975 10.97925,0.65925 Z",id:"path-1"}))))}function d(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"none",a=r?i:"#25D366";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{fill:o,cx:"18",cy:"18",r:"17"}),c.a.createElement("g",{fillRule:"nonzero",fill:a},c.a.createElement("path",{d:"M18,0 C27.945,0 36,8.055 36,18 C36,27.945 27.945,36 18,36 C8.055,36 0,27.945 0,18 C0,8.055 8.055,0 18,0 Z M18,28.5075 C23.805,28.5075 28.5075,23.805 28.5075,18 C28.5075,12.195 23.805,7.4925 18,7.4925 C12.195,7.4925 7.4925,12.195 7.4925,18 C7.4925,20.07 8.1,21.9825 9.135,23.6025 L7.4925,28.5075 L12.3975,26.865 C14.0175,27.9 15.93,28.5075 18,28.5075 Z M23.4,20.34 C23.6925,20.4975 23.895,20.565 23.9625,20.7 C24.03,20.835 24.03,21.42 23.7825,22.1175 C23.535,22.815 22.5675,23.4 21.8025,23.5575 C21.2625,23.67 20.565,23.76 18.2475,22.7925 C15.2775,21.555 13.3425,18.495 13.2075,18.2925 C13.05,18.09 11.9925,16.695 11.9925,15.2325 C11.9925,13.7475 12.735,13.05 13.0275,12.735 C13.275,12.4875 13.68,12.375 14.085,12.375 C14.1975,12.375 14.31,12.375 14.4225,12.375 C14.715,12.3975 14.8725,12.42 15.0525,12.8925 C15.3,13.4775 15.9075,14.94 15.975,15.0975 C16.0425,15.255 16.11,15.4575 16.02,15.66 C15.9075,15.8625 15.84,15.9525 15.6825,16.11 C15.5475,16.29 15.4125,16.425 15.255,16.605 C15.12,16.7625 14.9625,16.9425 15.1425,17.235 C15.3,17.5275 15.9075,18.5175 16.785,19.305 C17.91,20.3175 18.8325,20.6325 19.1475,20.7675 C19.395,20.88 19.6875,20.8575 19.8675,20.655 C20.0925,20.4075 20.3625,20.0025 20.655,19.5975 C20.8575,19.305 21.1275,19.2825 21.375,19.3725 C21.645,19.485 23.1075,20.205 23.4,20.34 Z"}))))}function p(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#8e8e8e",a=r?i:"#EFEFEF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 44 44",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{fill:a,cx:"22",cy:"22",r:"22"}),c.a.createElement("g",{transform:"translate(12 12)",fill:o},c.a.createElement("circle",{cx:"10",cy:"10",r:"6"}),c.a.createElement("circle",{cx:"17",cy:"3",r:"2"}),c.a.createElement("circle",{cx:"17",cy:"17",r:"2"}),c.a.createElement("circle",{cx:"19",cy:"10",r:"1"}),c.a.createElement("circle",{cx:"10",cy:"19",r:"1"}),c.a.createElement("circle",{cx:"1",cy:"10",r:"1"}),c.a.createElement("circle",{cx:"10",cy:"1",r:"1"}),c.a.createElement("circle",{cx:"3",cy:"17",r:"2"}),c.a.createElement("circle",{cx:"3",cy:"3",r:"2"}))))}function h(e){var t=e.size,n=e.grayscale,r=void 0!==n&&n,o=r?s:"#8e8e8e",a=r?i:"#EFEFEF";return c.a.createElement("svg",{width:t,height:t,viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("circle",{id:"Oval",fill:a,cx:"18",cy:"18",r:"18"}),c.a.createElement("g",{transform:"translate(9.000000, 12.000000)",fill:o,fillRule:"nonzero"},c.a.createElement("path",{d:"M16.7972727,2.052 L10.5905455,8.14909091 C10.152,8.57945455 9.576,8.79545455 9,8.79545455 C8.424,8.79545455 7.848,8.57945455 7.40863636,8.14909091 L1.20190909,2.052 C0.962181818,1.81636364 0.962181818,1.43427273 1.20190909,1.19863636 C1.44163636,0.963818182 1.83027273,0.963818182 2.07,1.19863636 L8.27672727,7.29572727 C8.67518182,7.68845455 9.324,7.68845455 9.72327273,7.29572727 L15.9291818,1.19863636 C16.1689091,0.963818182 16.5575455,0.963818182 16.7972727,1.19863636 C17.037,1.43427273 17.037,1.81636364 16.7972727,2.052 Z M0,11.4545455 L18,11.4545455 L18,0 L0,0 L0,11.4545455 Z"}))))}function b(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-1791.000000, -2142.000000)",fill:n},c.a.createElement("path",{d:"M1791,2166.4419 C1791,2155.3954 1795.61647,2148.79742 1804.8494,2146.64795 L1804.8494,2142 L1815.77043,2151.50893 L1804.8494,2161.85439 L1804.8494,2156.65749 C1798.74679,2156.65749 1794.13032,2159.91896 1791,2166.4419 Z",id:"Forward_Arrow"}))))}function m(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 28 25",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{fill:n},c.a.createElement("path",{d:"M19.5,3.50185937 C20.6120609,3.54743577 21.5,4.42513458 21.5,5.5 L21.5,21.5 C21.5,22.604 20.5632727,23.5 19.4090909,23.5 L0.590909091,23.5 C-0.563272727,23.5 -1.5,22.604 -1.5,21.5 L-1.5,14.5 C-1.5,13.396 -0.563272727,12.5 0.590909091,12.5 C1.74509091,12.5 2.68181818,13.396 2.68181818,14.5 L2.68181818,19.5 L17.3181818,19.5 L17.3181818,7.5 L12.5,7.5 C11.3954305,7.5 10.5,6.6045695 10.5,5.5 C10.5,4.3954305 11.3954305,3.5 12.5,3.5 L19.5,3.5 L19.5,3.50185937 Z",transform:"translate(10.000000, 13.500000) rotate(-270.000000) translate(-10.000000, -13.500000) "}),c.a.createElement("path",{d:"M20.3816859,4.04134351 L19.524521,3.15663009 C18.8263527,2.43572211 18.8245649,1.26563301 19.5227331,0.541952313 C20.2200074,-0.179879904 21.3517372,-0.180804145 22.0507994,0.540103831 L27.428751,6.08924677 L22.0534812,11.6577988 C21.355313,12.379631 20.2235832,12.3805552 19.524521,11.6596472 C18.8263527,10.9387393 18.8245649,9.76865017 19.5227331,9.04589371 L20.5892052,7.94050148 L20.5890905,7.9040075 C20.395645,7.96633483 20.1893335,8 19.9751591,8 C15.5976651,8 12,11.565494 12,16.0493927 C12,17.1539622 11.1045695,18.0493927 10,18.0493927 C8.8954305,18.0493927 8,17.1539622 8,16.0493927 C8,9.34827209 13.3965291,4 19.9751591,4 C20.1144528,4 20.2504205,4.01423995 20.3816859,4.04134351 Z",fillRule:"nonzero"}))))}function y(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 23 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("defs",null,c.a.createElement("path",{d:"M2,11.0018594 L2,11 L4,11 C5.1045695,11 6,11.8954305 6,13 C6,14.0432805 5.20118182,14.8999869 4.18181818,14.9918467 L4.18181818,28 L18.8181818,28 L18.8181818,14.9918467 C17.7988182,14.8999869 17,14.0432805 17,13 C17,11.8954305 17.8954305,11 19,11 L21,11 L21,11.0018594 C22.1120609,11.0474358 23,11.9251346 23,13 L23,30 C23,31.104 22.0632727,32 20.9090909,32 L2.09090909,32 C0.936727273,32 0,31.104 0,30 L0,13 C0,11.9251346 0.887939141,11.0474358 2,11.0018594 Z M9.59137554,7.664 L8.41537554,8.842 C7.63537554,9.623 6.36937554,9.625 5.58637554,8.844 C4.80537554,8.064 4.80437554,6.798 5.58437554,6.016 L11.5883755,-9.09494702e-13 L17.6133755,6.013 C18.3943755,6.794 18.3953755,8.06 17.6153755,8.842 C16.8353755,9.623 15.5693755,9.625 14.7873755,8.844 L13.5913755,7.651 L13.5913755,19.829 C13.5913755,20.933 12.6953755,21.829 11.5913755,21.829 C10.4863755,21.829 9.59137554,20.933 9.59137554,19.829 L9.59137554,7.664 Z",id:"path-1"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-1643.000000, -2138.000000)"},c.a.createElement("g",{transform:"translate(1643.000000, 2138.000000)"},c.a.createElement("mask",{fill:n}),c.a.createElement("use",{fill:n,xlinkHref:"#path-1"})))))}function v(e){var t=e.size,n=e.iconColor,r=e.accessibilityLabel,o=e.style,a=void 0===o?{}:o,i=""===r||null;return c.a.createElement("svg",{style:a,width:t,height:t,viewBox:"0 0 22 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":i,"aria-label":r,role:"img"},c.a.createElement("title",null,r),c.a.createElement("defs",null,c.a.createElement("path",{d:"M19,16 C17.972,16 17.043,16.399 16.334,17.037 L8.919,12.8 C8.972,12.542 9,12.274 9,12 C9,11.726 8.972,11.458 8.919,11.2 L16.334,6.963 C17.043,7.601 17.972,8 19,8 C21.209,8 23,6.209 23,4 C23,1.791 21.209,0 19,0 C16.791,0 15,1.791 15,4 C15,4.274 15.028,4.542 15.081,4.8 L7.666,9.037 C6.957,8.399 6.028,8 5,8 C2.791,8 1,9.791 1,12 C1,14.209 2.791,16 5,16 C6.028,16 6.957,15.601 7.666,14.963 L15.081,19.2 C15.028,19.458 15,19.726 15,20 C15,22.209 16.791,24 19,24 C21.209,24 23,22.209 23,20 C23,17.791 21.209,16 19,16",id:"path-1"})),c.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},c.a.createElement("g",{transform:"translate(-2066.000000, -2142.000000)"},c.a.createElement("g",{transform:"translate(2065.000000, 2142.000000)"},c.a.createElement("use",{fill:n,fillRule:"evenodd",xlinkHref:"#path-1"})))))}function g(e){var n=e.onClick,t=e.icon,r=e.buttonSize,o=e.accessibilityLabel,a=e.className,i="tempIconButton ".concat(a);return c.a.createElement("button",{"aria-label":o,className:i,onClick:function e(t){return n&&n({event:t})},style:{borderRadius:"50px",width:r,height:r},title:o,type:"button"},c.a.createElement(l.b,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},t))}g.defaultProps={buttonSize:40}},"/+lb":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("1RBt"),o=n.n(r),a={ready:function(e,t){o.a.ready(e,t)},load:function(e,t,n){a.ready(e,function(){var e;0===t.lastIndexOf("//",0)&&(t=window.location.protocol+t),o()(t,n)})},done:function(e){o.a.done(e)}};t.default=a},"0XFc":function(e,t,n){"use strict";var r=n("d6ZO"),m=n.n(r),i=n("RklN"),o=n.n(i),a=n("OIxG"),c=n("vJNz"),y=n("aC/n"),v=n("W/Cr"),l=n("p58k"),s=n("LQgx"),u=n("r/ec"),f=n("NyaW"),d=n("JyNp"),p=n("MQ2h"),h=n.n(p),g=n("+B8E"),b=n("Otfq"),E=n("gEaE");function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function C(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?x(e):t}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function P(e,t){return(P=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(e){function o(){var e,a;w(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return I(x(x(a=C(this,(e=k(o)).call.apply(e,[this].concat(n))))),"handleCancel",function(){a.props.dismissHandler()}),I(x(x(a)),"handleSuggestedBoardSelection",function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=a.props.onChangeBoardName,r=Object(i.findDOMNode)(a.textInput);if(r instanceof HTMLElement){var o=r.querySelector("input");o&&o.focus()}n(e,t)}),I(x(x(a)),"saveTextInputRef",function(e){a.textInput=e}),a}return j(o,e),S(o,[{key:"shouldComponentUpdate",value:function e(t){return!(this.props.saving&&!t.saving)}},{key:"renderFlyoutLoader",value:function e(){return m.a.createElement(E.b,{height:450,width:320,padding:4},m.a.createElement(E.m,{size:"sm"},v.a._("Saving your first pin...","Loading text while we save your first pin")),m.a.createElement(E.b,{marginTop:10},m.a.createElement(E.G,{show:!0,accessibilityLabel:v.a._("Saving your first pin...","Loading text while we save your first pin")})))}},{key:"renderFirstPinText",value:function e(){return m.a.createElement(E.b,{paddingX:4,paddingY:3},m.a.createElement(E.K,{size:"lg",bold:!0},v.a._("Where do you want to save this Pin?","Text asking a user what board they want to save their pin to")),m.a.createElement(E.K,{size:"sm"},v.a._("Click to create your first board!","Text indicating a user can select any of the following board names")))}},{key:"renderRow",value:function e(t){var n=t.item,r=t.hovered,o=t.sectionProps,a=void 0===o?{}:o,i="board_section"===n.type;return m.a.createElement(c.a,{disabled:!1,item:n,isSection:i,saveState:null,searchQuery:null,selected:r,size:"lg"})}},{key:"renderUserBoards",value:function e(t){var n=this.props.onCreate,r=[{items:t}],o=new l.a(r.map(function(e){return e.items}));return o.setSelectItem(n),m.a.createElement(b.a,{indexManager:o,onSelectItem:n,renderItem:this.renderRow,sections:r})}},{key:"renderFlyoutCreate",value:function e(){var t=this.props,n=t.boardResource,r=t.createBoardError,o=t.image,a=t.inputName,i=t.isFirstPin,c=t.nameValidatorErrors,l=t.onBoardCreate,s=t.onChangeBoardName,u=t.pinId,f=t.saving,d=0===c.length,p=!!a&&!f&&d&&!r,h=[];n.isLoaded&&(h=n.data.all_boards.slice(0,5));var b=new g.b(this.props.requestContext,"flyout_v2").getIntParamWithNoActivation(1);return m.a.createElement(E.b,{color:"white",direction:"column",display:"flex",height:"100%",position:"static",width:330},m.a.createElement(E.b,{maxHeight:420,overflow:"auto"},n.isLoaded&&0<h.length?m.a.createElement(E.b,null,m.a.createElement(E.b,{paddingX:4,paddingY:3},m.a.createElement(E.K,{size:"sm"},v.a._("Your boards","Text to indicate the following are the user's boards"))),this.renderUserBoards(h),m.a.createElement(E.j,null)):null,i?this.renderFirstPinText():m.a.createElement(E.b,{paddingX:4,paddingY:3},m.a.createElement(E.K,{size:"sm"},v.a._("Click to create a new board","Text indicating a user can select from the following to create a new board"))),m.a.createElement(y.a,{onBoardSelected:this.handleSuggestedBoardSelection,pinId:u,image:o,minHeight:336,inFlyoutExp:!0,oneTapFlyout:1===b})),m.a.createElement(E.j,null),m.a.createElement(E.b,{alignItems:"center",direction:"row",display:"flex",padding:2},m.a.createElement(E.b,{paddingX:2,flex:"grow"},m.a.createElement(E.M,{id:"boardEditName",onChange:function e(t){var n=t.value;return s(n)},placeholder:v.a._("Name your board","Placeholder text for the user to provide a name for their new board"),ref:this.saveTextInputRef,type:"text",value:a})),m.a.createElement(E.b,null,m.a.createElement(E.c,{disabled:!d||!p,onClick:l,color:"red",size:"md",text:v.a._("Create","button to create board")}))),!d&&m.a.createElement(E.b,{marginBottom:2,marginLeft:4,marginTop:1},c.map(function(e,t){return m.a.createElement(E.K,{color:"red",key:t,size:"sm"},e)})))}},{key:"render",value:function e(){var t=this.props,n=t.anchorRef,r=t.inModal,o=t.isFirstPin,a=t.saving,i;if(t.shownWithinMasonry)return m.a.createElement(u.a,{anchor:n,size:"lg",positionRelativeToAnchor:!r,onDismiss:this.handleCancel},o&&a?this.renderFlyoutLoader():this.renderFlyoutCreate());var c=m.a.createElement(E.k,{anchor:n,size:"lg",positionRelativeToAnchor:!r,onDismiss:this.handleCancel},o&&a?this.renderFlyoutLoader():this.renderFlyoutCreate()),l={overlay:{alignItems:"normal",display:"block",padding:0},content:{height:"100%",margin:0}};return r?m.a.createElement(s.a,{noButton:!0,onHide:this.handleCancel,style:l},c):c}}]),o}(r.Component);t.a=Object(p.compose)(Object(d.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:function e(){return{field_set_key:"board_picker",shortlist_suggestions:5}}}),a.b,f.a)(T)},"1QHH":function(e,t,n){"use strict";t.a=i;var c=n("d6ZO"),r=n.n(c),o=n("DUIN"),l=n("MY3l"),a=function e(t){return{isLimitedLogin:t.viewer.isLimitedLogin,isAuth:t.viewer.isAuth}};function i(i){var e=function e(t){var n=t.dispatch,r=t.isAuth,o=t.isLimitedLogin,a=!r||o?function(e){return function(e){e&&e.stopPropagation(),n(l.a)}}:function(e){return e};return c.createElement(i,Object.assign({authAction:a},t))};return e.displayName="WithAuthenticatedAction(".concat(i.displayName||i.name,")"),Object(o.connect)(a)(e)}},"1RBt":function(e,t){var c="undefined"==typeof window?null:window.document,l=c?c.getElementsByTagName("head")[0]:null,s=/^https?:\/\//,u={},f={},d={},p="",h={},n="string",b=!1,m="push",r="DOMContentLoaded",o="readyState",a="addEventListenerName",y="onreadystatechangeName";function v(e,t){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return b;return!0}function g(e,t){return v(e,function(e){return!t(e)}),b}function E(e,t,n){e=e[m]?e:[e];var r=t&&"function"==typeof t,o=r?t:n,a=r?e.join(""):t,i=e.length;function c(e){var t;return e.call?e():u[e]}function l(){if(!--i){var e;if(u[a]=1,o)o();for(var t in d)v(t.split("|"),c)&&!g(d[t],c)&&(d[t]=[])}}return setTimeout(function(){g(e,function(e){return null===e?l():h[e]?(a&&(f[a]=1),2==h[e]&&l()):(h[e]=1,a&&(f[a]=1),void _(!s.test(e)&&p?p+e+".js":e,l))})},0),E}function _(e,t){var n=!1,r=function(e,t){n||("loaded"===e.readyState||"completed"===e.readyState?t():setTimeout(function(){r(e,t)},100))},o=c.createElement("script"),a=b,i=o.onload=o.onerror=o[y]=function(){n||(n=!0,o.readyState&&!/^c|loade/.test(o.readyState)||(o.onload=o[y]=null,a=1,h[e]=2,t()))};r(o,i),o.async=1,o.src=e,l.insertBefore(o,l.firstChild)}c&&!c[o]&&c[a]&&(c[a](r,function e(){c.removeEventListener(r,e,b),c[o]="complete"},b),c[o]="loading"),E.get=_,E.order=function(n,r,o){!function e(){var t=n.shift();n.length?E(t,e):E(t,r,o)}()},E.path=function(e){p=e},E.ready=function(e,t,n){e=e[m]?e:[e];var r=[],o,a,i;return!g(e,function(e){u[e]||r.push(e)})&&v(e,function(e){return u[e]})?t():(a=e.join("|"),d[a]||(d[a]=[]),d[a][m](t),n&&n(r)),E},E.done=function(e){E([null],e)},e.exports=E},"1Xwf":function(e,t,n){"use strict";var f=n("d6ZO"),y=n.n(f),d=n("W/Cr"),r=n("JyNp"),o=n("suNN"),v=n("gEaE"),a=185;function i(e){var t=e.saveStatusResource.data;return t&&t.pinned_to_board?y.a.createElement(v.b,null,y.a.createElement(v.b,{color:"orange","data-test-id":"already-pinned",display:"flex",padding:3,shape:"rounded",width:a},y.a.createElement(v.K,{align:"center",bold:!0,color:"white",size:"sm"},Object(o.b)(d.a._("Psst! You already saved this Pin to {{ board_name }} ","Toast for already having repinned pin"),{board_name:(t.pinned_to_board||{}).name}).join(" "))),y.a.createElement(v.b,{display:"flex",justifyContent:"center",marginTop:-3},y.a.createElement(v.n,{accessibilityLabel:"",color:"orange",icon:"heart",size:26}))):null}var g=Object(r.b)({name:"PinSaveStatusResource",key:"saveStatusResource",options:function e(t){var n;return{id:t.pin.id}}},{allowStale:!1})(i),E=n("qtmg"),_=n("QuPB"),p=n("AcTh"),c,w=function e(t){var n=t.allowChange,r=t.description,o=t.editing,a=t.onHandleDescriptionBlur,i=t.onHandleDescriptionEdit,c=t.onRefTextArea,l=t.onChange,s=t.onCursorChange,u=function e(t){var n=t.description,r=t.editing,o=t.allowChange;return f.createElement(v.b,{display:"flex",justifyContent:"between",marginLeft:-1,marginRight:-1},f.createElement(v.b,{paddingX:1,overflow:"hidden"},f.createElement(v.K,{bold:!0,color:n.clamped?"darkGray":"gray",size:"sm"},n.clamped?n.clamped:d.a._("Tell us about this Pin..."))),f.createElement(v.b,{paddingX:1},!r&&o&&f.createElement(v.n,{accessibilityLabel:d.a._("Edit description"),icon:"edit"})))};return f.createElement(v.b,{mdDisplay:"flex"},o?f.createElement(p.a,{focused:!0,onBlur:a,onFocus:n&&i,onChange:l,onCursorChange:s,placeholder:d.a._("Tell us about this Pin..."),style:n&&{outline:"none",maxHeight:120,minHeight:60,width:"100%"},ref:c,rows:3,value:r.full}):f.createElement(v.b,{width:"100%"},n?f.createElement(v.O,{onTouch:i},f.createElement(u,{description:r,editing:o,allowChange:n})):f.createElement(u,{description:r,editing:o,allowChange:n})))},O=n("MH3C"),l=n("y2lE");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?j(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function k(e,t){return(k=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x="PinPanePinMeta",I=236,T=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*/,R=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/,B=0,L="g",D=function(e){function o(){var e,u;h(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return P(j(j(u=m(this,(e=S(o)).call.apply(e,[this].concat(n))))),"state",{cursorIndex:-1,flyoutCursorIndex:-1,description:u.props.pin&&u.props.pin.description&&u.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,editedBefore:!1,flyoutOpened:!1}),P(j(j(u)),"onDescriptionChange",function(e,t){var n=new RegExp(T,L),r="";if(t<e.length){for(var o=n.exec(e),a=n.lastIndex<t;o&&a;)o=n.exec(e),a=n.lastIndex<t;var i=!!o&&T.test(e.slice(o.index,t));a=!!o&&o.index<t,o&&i&&a&&(r=o[0])}else{var c=R.exec(e);r=c?c[0]:""}u.updateDescription(e);var l=T.test(r),s=u.state.isHashtagFlyoutOpen?u.state.flyoutCursorIndex:e.slice(0,t).lastIndexOf("#");u.setState({cursorIndex:t,flyoutCursorIndex:s,description:e,hashtagQuery:r,isHashtagFlyoutOpen:l,flyoutOpened:u.state.flyoutOpened||l})}),P(j(j(u)),"onCursorChange",function(e){var t=u.state,n=t.isHashtagFlyoutOpen,r=t.flyoutCursorIndex;n&&e<r&&u.setState({isHashtagFlyoutOpen:!1})}),P(j(j(u)),"updateDescription",function(e){u.props.updateDescription&&u.props.updateDescription(e)}),P(j(j(u)),"handleDescriptionBlur",function(e){var t=e.target.value.trim(),n=u.state.isHashtagFlyoutOpen;u.updateDescription(t),u.setState({description:t,editing:n})}),P(j(j(u)),"handleDescriptionEdit",function(){u.setState({editing:!0,editedBefore:!0})}),P(j(j(u)),"handleHashtagAddition",function(e){var t=u.props,n,r;(0,t.contextLog)(101,{component:208,element:10249,hashtags:e,objectId:t.pin.id});var o=u.state.flyoutCursorIndex,a=Number(o+u.state.hashtagQuery.length),i,c,l=u.state.description.slice(0,o)+e+" "+u.state.description.slice(a);u.updateDescription(l),u.setState({description:l,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}),P(j(j(u)),"handleRefTextArea",function(e){u._textArea=e}),u}return C(o,e),b(o,[{key:"render",value:function e(){var n=this,t=this.props,r=t.color,o=t.isFirstPin,a=t.pin,i=this.state,c=i.description,l=i.editing,s=i.flyoutOpened,u=i.hashtagQuery,f=i.isHashtagFlyoutOpen,d=a.images,p=a.link,h,b=d&&d["236x"],m=b&&b.url||a.image_base64;return y.a.createElement(v.b,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:o?"50%":"",dangerouslySetInlineStyle:{__style:s&&l?{transform:"translateY(-75px)"}:{}}},y.a.createElement(v.b,{display:"flex",direction:"column",alignItems:"center"},a&&a.id&&y.a.createElement(g,{pin:a}),y.a.createElement(v.b,{paddingY:o?9:0,width:216},y.a.createElement(v.b,{maxHeight:s&&l?220:335,shape:"rounded",overflow:"hidden"},m?y.a.createElement(v.p,{alt:c,src:m,naturalHeight:b.height||1,naturalWidth:b.width||1}):!!p&&y.a.createElement(_.a,{color:r||"",description:c,url:p})),y.a.createElement(v.b,{marginTop:2,paddingX:2,id:x},y.a.createElement("div",{ref:function e(t){n.anchor=t}},y.a.createElement(w,{allowChange:!a.is_native,description:Object(O.a)(c),editing:l,hashtagFlyoutOpen:f,onHandleDescriptionBlur:this.handleDescriptionBlur,onHandleDescriptionEdit:this.handleDescriptionEdit,onRefTextArea:this.handleRefTextArea,onChange:this.onDescriptionChange,onCursorChange:this.onCursorChange}))))),this.anchor&&f?y.a.createElement(E.a,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,editing:l,query:u}):null)}}]),o}(f.Component),A=t.a=Object(l.a)(D)},"1zCC":function(e,t,n){"use strict";var a=n("EAiy"),o=function e(t,n){var r=screen.width,o=screen.height,a,i;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+t+",height="+n+",left="+Math.round((r-t)/2)+",top="+(n<o?Math.round((o-n)/2):0)},r=function e(t){var n=document.documentElement,r=n.scrollWidth-n.clientWidth,o=n.scrollHeight-n.clientHeight;t&&(r=Math.max(r,0),o=Math.max(o,0)),a.a.isAuthenticated()||(o=340),window.resizeBy(r,o)},i={open:function(e,t,n){var r=o(t,n);window.open(e,void 0,r)},shrinkWrap:function(){r(!1)},contain:function(){r(!0)},resizeViewPort:function(e,t){window.outerWidth?window.resizeTo(e+(window.outerWidth-window.innerWidth),t+(window.outerHeight-window.innerHeight)):(window.resizeTo(500,500),window.resizeTo(e+(500-document.body.offsetWidth),t+(500-document.body.offsetHeight)))}};t.a=i},"28Da":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return a});var a=function e(t){var n=t.result;r(this,e),o(this,"name","BoardPickerUserNavStopTraceEvent"),this.result=n}},"2aok":function(e,t){},"47hd":function(e,t,n){"use strict";n.d(t,"a",function(){return O});var c=n("d6ZO"),r=n.n(c),o=n("xp+q"),a=n.n(o),i=n("GGB8"),l=n.n(i),s=n("W/Cr"),u=n("gEaE");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=32,w=13,O=function(e){function a(){var e,t;d(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return E(g(g(t=b(this,(e=m(a)).call.apply(e,[this].concat(r))))),"handleKeyPress",function(e){32!==e.charCode&&13!==e.charCode||(e.preventDefault(),t.props.onClick(e))}),t}return y(a,e),h(a,[{key:"render",value:function e(){var t=this.props,n=t.disabled,r=t.icon,o=t.iconOnly,a=t.onClick,i;return t.saved?c.createElement(u.c,{disabled:!0,text:s.a._("Saved"),size:"sm"}):o?c.createElement("div",{"data-test-id":"SaveButton"},c.createElement(u.o,{accessibilityLabel:s.a._("Save","Accessibility label for the save button"),bgColor:"white",icon:"pin",onClick:function e(t){var n=t.event;return a(n)},iconColor:"darkGray"})):c.createElement("div",{className:l()("SaveButton",n?"SaveButton--disabled":"SaveButton--enabled"),"data-test-id":"SaveButton",onClick:n?void 0:a,onKeyPress:n?void 0:this.handleKeyPress,role:"button",tabIndex:"0"},c.createElement("div",{className:l()("SaveButton__background",n?"SaveButton__background--disabled":"SaveButton__background--enabled")},c.createElement(u.b,{alignItems:"center",dangerouslySetInlineStyle:{__style:{minHeight:40,padding:"10px 14px"}},display:"flex"},r&&c.createElement(u.b,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}}},c.createElement(u.n,{accessibilityLabel:"",color:n?"gray":"white",icon:"pin",inline:!0,size:20})),c.createElement(u.K,{bold:!0,color:n?"gray":"white"},s.a._("Save","Pin save button label")))))}}]),a}(c.PureComponent);E(O,"defaultProps",{disabled:!1,icon:!0})},"4Lqh":function(e,t){},"63R5":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),t.b=o;var s=n("FfPm"),u=20,f=100,d=.01,p=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2});function r(r){return new Promise(function(e,t){if(document.querySelector('script[src="'.concat(r,'"]')))e();else{var n=document.createElement("script");n.src=r,n.async=!0,n.addEventListener("load",e),n.addEventListener("error",t),document.getElementsByTagName("head")[0].appendChild(n)}})}function o(i){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p.OTHER,e,l=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?"web":"mweb";return new Promise(function(e,t){if(document.querySelector('script[src="'.concat(i,'"]'))){var n=0;if(c===p.GPLUS_ONE)if(window.gapi)e();else var r=setInterval(function(){window.gapi||n===u?(clearInterval(r),e()):(n+=1,s.default.increment("".concat(l,".loadScript.gplus_one.tries_").concat(n),d))},f);else if(c===p.FACEBOOK)if(window.FB)e();else var o=setInterval(function(){window.FB||n===u?(clearInterval(o),e()):(n+=1,s.default.increment("".concat(l,".loadScript.facebook.tries_").concat(n),d))},f);else e()}else{var a=document.createElement("script");a.src=i,a.async=!0,a.addEventListener("load",e),a.addEventListener("error",t),document.getElementsByTagName("head")[0].appendChild(a)}})}},"8EHR":function(e,t,n){"use strict";var r;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function n(e){var t;return a(this,n),(t=l(this,u(n).call(this,e,17)))._isPWT=!0,t.viewType=21,t.sampleRate=.1,t.cause=4,t.registeredEvents.PinSaveRequestStartTraceEvent=t.handleStartCurrTimer,t.registeredEvents.PinSaveRequestStopTraceEvent=t.handleStopTiming,t}return f(n,e),c(n,[{key:"handleStopTiming",value:function e(t){if(this._currTimer){var n=this._currTimer;2===t.result&&(n.setResult(2),n.stopTiming(null,this.constructPWT.bind(this))),n.setResult(t.result),n.stopTiming(null,this.constructPWT.bind(this))}}}]),n}(n("b6H4").a);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}p(h,"traceName","pwt/pin_save_request"),n.d(t,"a",function(){return y});var y=function e(){b(this,e),m(this,"handlers",[h]),m(this,"name","PinSaveRequestStartTraceEvent")}},"8e8Q":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",COMMUNITY:"community"},o=r},"9bGG":function(e,t,n){"use strict";t.a=O;var r=n("d6ZO"),o=n.n(r);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=32,m=100,y=null,v=!1,g=[],E=function e(){y&&clearTimeout(y),v=!0,y=setTimeout(function(){v=!1},m)},_=function e(t){0===g.length&&window.addEventListener("scroll",E),g.push(t)},w=function e(t){var n=g.indexOf(t);g.splice(n,1),0===g.length&&window.removeEventListener("scroll",E)};function O(t){return function(e){function a(){var e,t;i(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(p(p(t=s(this,(e=u(a)).call.apply(e,[this].concat(r))))),"state",{isHovering:!1}),h(p(p(t)),"handlers",{onMouseOver:function e(){return t._setHover(!0)},onMouseLeave:function e(){return t._setHover(!1)}}),t}return f(a,e),l(a,[{key:"componentDidMount",value:function e(){_(this)}},{key:"componentWillUnmount",value:function e(){this.hoverTimer&&clearTimeout(this.hoverTimer),w(this)}},{key:"_setHover",value:function e(t){var n=this;this.hoverTimer&&clearTimeout(this.hoverTimer),this.hoverTimer=t&&v?setTimeout(function(){return n._setHover(t)},m):setTimeout(function(){t!==n.state.isHovering&&n.setState({isHovering:t})},b)}},{key:"render",value:function e(){return r.createElement(t,Object.assign({},this.props,{hoverHandlers:this.handlers,isHovering:this.state.isHovering}))}}]),a}(r.Component)}},AcTh:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("d6ZO"),o=n.n(r),a=n("IaRT"),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?b(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function r(e,t){var n;return l(this,r),m(b(b(n=f(this,d(r).call(this,e,t)))),"handleChange",function(e){n.props.onChange&&n.props.onChange.call(b(b(n)),e.target.value,e.target.selectionStart),n.setState({value:e.target.value})}),m(b(b(n)),"updateCursor",function(e){n.props.onCursorChange&&n.props.onCursorChange(e.target.selectionStart)}),m(b(b(n)),"handleKeyUp",function(e){n.props.onKeyUp&&n.props.onKeyUp(e),n.updateCursor(e)}),m(b(b(n)),"handleKeyDown",function(e){n.props.onKeyDown&&n.props.onKeyDown(e)}),m(b(b(n)),"handleFocus",function(e){n.props.onFocus&&n.props.onFocus(e),n.updateCursor(e)}),m(b(b(n)),"handleBlur",function(e){n.props.onBlur&&n.props.onBlur(e)}),m(b(b(n)),"handleClick",function(e){n.props.onClick&&n.props.onClick(e),n.updateCursor(e)}),n.state={isFocused:n.props.focused||!1,value:n.props.value},n}return p(r,e),u(r,[{key:"componentDidMount",value:function e(){this.focusIfNeeded()}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.setState({isFocused:t.focused,value:t.value})}},{key:"componentDidUpdate",value:function e(){this.focusIfNeeded()}},{key:"focusIfNeeded",value:function e(){this.state.isFocused&&document.activeElement!==this._textArea&&this._textArea.focus()}},{key:"select",value:function e(){this._textArea.select()}},{key:"render",value:function e(){var n=this,t=this.props;return o.a.createElement("textarea",{className:t.className,cols:t.cols,disabled:t.disabled?"disabled":"",id:t.id,name:t.name,onBlur:this.handleBlur,onChange:this.handleChange,onClick:this.handleClick,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,placeholder:t.placeholder,ref:function e(t){n._textArea=t},rows:t.rows,style:t.style,value:this.state.value})}}]),r}(r.Component);y.defaultProps={validators:[]}},CogI:function(e,t,n){"use strict";var f=n("d6ZO"),r=n.n(f),d=n("rv2a"),p=n("gEaE");function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function h(e,t){if(null==e)return{};var n=i(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function i(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var v=function(e){function t(){return a(this,t),s(this,b(t).apply(this,arguments))}return m(t,e),l(t,[{key:"render",value:function e(){var n=this,t=this.props,r=t.description,o=t.error,a=t.id,i=t.label,c=t.required,l=void 0!==c&&c,s=t.onLabelTouch,u=h(t,["description","error","id","label","required","onLabelTouch"]);return f.createElement(d.a,{description:r,error:o,id:a,label:i,required:l,onLabelTouch:s},f.createElement(p.M,Object.assign({},u,{hasError:!!o,id:a,ref:function e(t){n.textfield=t?t.textfield:null}})))}}]),t}(f.Component);t.a=v},DKBQ:function(e,t,n){"use strict";t.a=o;var r=n("S+Qs");function o(t,n){return function(e){return e(Object(r.a)("BoardSectionResource",{field_set_key:n||"board_page",section_id:t}))}}},DNL0:function(e,t){},GU18:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r);function c(e){var r=!1,t;return{promise:new Promise(function(t,n){e.then(function(e){return r?n({isCanceled:!0}):t(e)},function(e){return n(r?{isCanceled:!0}:e)})}),cancel:function e(){r=!0}}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e){return u(e)||s(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function h(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?v(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(t){var e,n;return n=e=function(e){function o(){var e,i;f(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(v(v(i=h(this,(e=b(o)).call.apply(e,[this].concat(n))))),"makeCancelablePromise",function(e,t){if(t){var n=i.cancelCallbackMap[t];n&&(n(),delete i.cancelCallbackMap[t])}var r=c(e),o=r.cancel,a=r.promise;return t?i.cancelCallbackMap[t]=o:i.cancelCallbacks.push(o),a}),g(v(v(i)),"cancelCallbacks",[]),g(v(v(i)),"cancelCallbackMap",{}),i}return m(o,e),p(o,[{key:"componentWillUnmount",value:function e(){var t=this;i(Object.keys(this.cancelCallbackMap).map(function(e){return t.cancelCallbackMap[e]})).concat(i(this.cancelCallbacks)).forEach(function(e){return e()}),this.cancelCallbacks=[],this.cancelCallbackMap={}}},{key:"render",value:function e(){return r.createElement(t,Object.assign({},this.props,{makeCancelablePromise:this.makeCancelablePromise}))}}]),o}(r.Component),g(e,"displayName","WithPromiseCancellation(".concat(t.displayName||t.name,")")),n}t.a=E},GhED:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return a});var a=function e(t){var n=t.result;r(this,e),o(this,"name","PinSaveRequestStopTraceEvent"),this.result=n}},HEYN:function(e,t,n){"use strict";t.b=b,t.a=o;var l=n("VF/E"),s=n("Jw9X"),u=n("NmQ5"),r=n("THYI"),f=n.n(r),d=n("g5tP"),p=n("mZ/m"),h=n("S+Qs");function b(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function o(e){var i=e.boardId,t=e.name,n=e.nameSource,c=e.pinImport,r=0;"RECOMMENDATION"===n?r=1:"EDITED_RECOMMENDATION"===n&&(r=2);var o={board_id:i,initial_pins:c&&!c.all?c.pinIds:[],name:t,name_source:r};return function(a){return f.a.create("BoardSectionResource",o).callCreate({showError:!1}).then(function(e){var n=e.resource_response.data;a(b(i,n)),a(Object(s.a)({feedId:i,feedType:p.b.BOARD_SECTIONS,itemIds:[n.id],itemType:"board_section"})),a(Object(d.b)(i,"pin_count")),a(Object(h.f)("BoardSectionsRepinResource",{board_id:i}));var t=c||{all:!1,pinIds:[]},r=t.all,o=t.pinIds;return r?new Promise(function(e,t){return a(Object(u.a)({inverseSelection:!0,selectedPinIds:o,source:{boardId:i,sectionId:null},target:{boardId:i,sectionId:n.id}})).then(function(){return e(n)}).catch(t)}):(0<o.length&&a(Object(l.a)(p.b.BOARD_PINS,i)),n)})}}},HLDn:function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return u});var o=n("B0A7"),a=n("VF/E"),i=n("S+Qs"),c=["alphabetical","last_pinned_to","oldest","newest","custom"],r=25,l={name:"BoardsResource",key:"boardsResource",options:function e(t){var n=t.boardOrder,r=t.mixPublicSecret,o;return{privacy_filter:"all",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:t.username,page_size:25,group_by:r?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0}}},s=function e(t,n,r){return{privacy_filter:n?"secret":"public",sort:r||"last_pinned_to",field_set_key:"profile_grid_item",username:t}},u=function e(r){return c.reduce(function(e,t){var n=[Object(a.a)("profileBoards",Object(o.c)(r,t))];return[!0,!1].forEach(function(e){n.push(Object(i.f)(l.name,l.options({username:r,boardOrder:t,mixPublicSecret:e})))}),e.concat(n)},[])}},Ib0y:function(e,t,n){"use strict";var r;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function l(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){function n(e){var t;return a(this,n),(t=l(this,u(n).call(this,e,16)))._isPWT=!0,t.viewType=21,t.sampleRate=.1,t.cause=4,t.registeredEvents.BoardPickerUserNavStartTraceEvent=t.handleStartCurrTimer,t.registeredEvents.BoardPickerUserNavStopTraceEvent=t.handleStopTiming,t}return f(n,e),c(n,[{key:"handleStopTiming",value:function e(t){if(this._currTimer){var n=this._currTimer;2===t.result&&(n.setResult(2),n.stopTiming(null,this.constructPWT.bind(this))),n.setResult(t.result),n.stopTiming(null,this.constructPWT.bind(this))}}}]),n}(n("b6H4").a);function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}p(h,"traceName","pwt/board_picker"),n.d(t,"a",function(){return y});var y=function e(){b(this,e),m(this,"handlers",[h]),m(this,"name","BoardPickerUserNavStartTraceEvent")}},JMBu:function(e,t,n){"use strict";var r=n("tQ0j"),a=n.n(r),o=n("/e0Y"),i=n("FJZF"),c=n("1zCC"),l={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog:function e(t){var n=t.ga_category||"share_twitter";o.a.trackEvent(n,"click");var r=l._getWindowUrl(t.tweet_path,t.tweet_text);c.a.open(r,l.DIALOG_WIDTH,l.DIALOG_HEIGHT)},_getWindowUrl:function e(t,n){var r="https://twitter.com/intent/tweet?via=pinterest",o={};return t&&(o.url=encodeURIComponent(i.a.absolutify(t))),n&&(o.text=encodeURIComponent(n)),a.a.reduce(o,function(e,t,n){return e+"&"+n+"="+t},r)}};t.a=l},JqyP:function(e,t,n){"use strict";var r=n("d6ZO"),i=n.n(r),o=n("2aok"),a=n.n(o),c=n("W/Cr"),l=n("XSNT"),s=n("gEaE"),u=n("+UuE"),f=function e(t){var n=t.link,r=t.grayscale,o=t.handleClick,a=t.handleFocus;return i.a.createElement("div",{className:"ShareLink"},i.a.createElement("div",{className:"link"},i.a.createElement("div",{className:"icon"},i.a.createElement(u.d,{size:30,grayscale:r})),i.a.createElement(l.a,{ref:function e(t){return t&&t.focus()},className:"Input linkField",value:n,onFocus:a}),i.a.createElement("div",{className:"cancelLink",onClick:o},i.a.createElement(s.n,{accessibilityLabel:c.a._("Close","close copy link"),icon:"cancel",bgColor:"white",color:"gray"}))))};f.defaultProps={grayscale:!1},t.a=f},Jw9X:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEMS_ADDED",payload:e}}t.a=r},K2Yy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=n("d6ZO"),p=n.n(f),r=n("DUIN"),o=n("4Lqh"),a=n.n(o),l=n("Ib0y"),h=n("W/Cr"),c=n("R6a3"),i=n("IaRT"),s=n.n(i),u=n("47hd"),d=n("MSpZ"),b=n("1QHH"),m=n("iySJ"),y=n("YZkw"),v=n("MQ2h"),g=n.n(v),E=n("6oz1"),_=n("FHH+"),w=n("RklN"),O=n.n(w),S=n("aC/n"),C=n("NyaW"),k=n("gEaE");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function T(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?D(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return(L=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){function o(){var e,a;P(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A(D(D(a=T(this,(e=R(o)).call.apply(e,[this].concat(n))))),"handleCancel",function(){a.props.onCancel()}),A(D(D(a)),"handleBoardSelected",function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=a.props.onChangeBoardName,r=Object(w.findDOMNode)(a.textInput);if(r instanceof HTMLElement){var o=r.querySelector("input");o&&o.focus()}n(e,t)}),A(D(D(a)),"handleBoardCreateFormSubmit",function(e){e.preventDefault();var t=a.props.onBoardCreate;t&&t()}),A(D(D(a)),"saveTextInputRef",function(e){a.textInput=e}),a}return B(o,e),I(o,[{key:"renderFlyoutFBC",value:function e(){var t=this.props,n=t.createBoardError,r=t.fbcFlyoutExpGroup,o=t.image,a=t.inputName,i=t.nameValidatorErrors,c=t.onBoardCreate,l=t.onChangeBoardName,s=t.pinId,u=t.saving,f=0===i.length,d=!!a&&!u&&f&&!n;return p.a.createElement(k.b,{color:"white",direction:"column",display:"flex",height:"100%",position:"static",width:330},p.a.createElement(k.b,null,p.a.createElement(k.b,{paddingX:4,paddingY:3},p.a.createElement(k.K,{size:"lg",bold:!0},h.a._("Where do you want to save this Pin?")),p.a.createElement(k.K,{size:"sm"},h.a._("Click to create your first board!"))),p.a.createElement(S.a,{onBoardSelected:this.handleBoardSelected,pinId:s,image:o,minHeight:336,inFlyoutExp:!0,oneTapFlyout:"enabled_1_tap"===r}),p.a.createElement(k.j,null),p.a.createElement("form",{onSubmit:this.handleBoardCreateFormSubmit},p.a.createElement(k.b,{alignItems:"center",direction:"row",display:"flex",padding:2},p.a.createElement(k.b,{paddingX:2,flex:"grow"},p.a.createElement(k.M,{id:"boardEditName",onChange:function e(t){var n=t.value;return l(n)},placeholder:h.a._("Name your board"),ref:this.saveTextInputRef,type:"text",value:a})),p.a.createElement(k.b,null,p.a.createElement(k.c,{disabled:!f||!d,onClick:c,color:"red",size:"md",text:h.a._("Create","button to create board")})))),!f&&p.a.createElement(k.b,{marginBottom:2,marginLeft:4,marginTop:1},i.map(function(e,t){return p.a.createElement(k.K,{color:"red",key:t,size:"sm"}," ",e)}))))}},{key:"renderGestaltFBC",value:function e(){var t=this.props,n=t.createBoardError,r=t.inputName,o=t.nameValidatorErrors,a=t.onBoardCreate,i=t.onChangeBoardName,c=t.pinId,l=t.saving,s=0===o.length,u=!!r&&!l&&s&&!n;return p.a.createElement(k.b,{color:"white",direction:"column",display:"flex",height:"100%",position:"absolute",right:!0,shape:"roundedRight",top:!0,width:"50%",dangerouslySetInlineStyle:{__style:{borderLeft:"solid 1px #dfdfdf"}}},p.a.createElement("form",{onSubmit:this.handleBoardCreateFormSubmit},p.a.createElement(k.b,{marginTop:7,paddingX:3,xs:{display:"flex",column:12}},p.a.createElement(k.b,{column:9,marginLeft:3,marginRight:3},p.a.createElement(k.M,{id:"boardEditName",onChange:function e(t){var n=t.value;return i(n)},placeholder:h.a._("Name your board"),ref:this.saveTextInputRef,type:"text",value:r}),p.a.createElement(k.b,{height:24,marginTop:1},!s&&p.a.createElement(f.Fragment,null,o.map(function(e,t){return p.a.createElement(k.K,{color:"red",key:t,size:"sm"}," ",e)}))),!!n&&p.a.createElement(k.K,{align:"center",bold:!0,color:"red",size:"sm"},n)),p.a.createElement(k.b,{flex:"none"},p.a.createElement(k.c,{disabled:!s||!u,onClick:a,color:"red",size:"md",text:h.a._("Create","button to create board")})))),p.a.createElement(k.j,null),p.a.createElement(S.a,{onBoardSelected:this.handleBoardSelected,pinId:c,inFirstBoardCreateGestaltExp:!0}))}},{key:"render",value:function e(){var t;return["enabled_1_tap","enabled_2_tap","enabled_education"].includes(this.props.fbcFlyoutExpGroup)?this.renderFlyoutFBC():this.renderGestaltFBC()}}]),o}(f.Component),N=Object(C.a)(F),M=n("0XFc"),H=n("biwq"),U=n("1Xwf"),W=n("Cjb7"),z=n("THYI"),K=n.n(z),q=n("FJZF"),Z=n("mHth");function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){re(t,e,n[e])})}return t}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t,n){return t&&X(e.prototype,t),n&&X(e,n),e}function J(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?ne(e):t}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}function te(e,t){return(te=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=1e3,ae=function(e){function o(){var e,u;Y(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return re(ne(ne(u=J(this,(e=$(o)).call.apply(e,[this].concat(n))))),"state",{
pinDescription:u.props.pin&&u.props.pin.description||"",isRequestPending:!1,bannerText:h.a._("Create a board for your Pin to live on"),pinSuccess:!1}),re(ne(ne(u)),"getPinResource",function(){var e=u.props,t=e.color,n=e.location,r=e.pin,o=e.method,a=e.guid,i=r.id?"RepinResource":"PinResource",c="";r.id&&(c=Object(H.a)(r,n)||"".concat(r.tracking_params,"~0"));var l=!r.id&&r.image_url?q.a.prependSchemeIfNeeded(r.image_url,r.link):"",s={clientTrackingParams:c,color:t||"",description:u.state.pinDescription||"",guid:a||"",link:r.link||"",image_base64:r.image_base64,image_url:l,is_buyable_pin:!1,is_video:r.is_video,media_upload_id:r.media_upload_id||"",method:o||"",pin_id:r.id||"",title:""};return K.a.create(i,s)}),re(ne(ne(u)),"updateDescription",function(e){u.setState({pinDescription:e})}),re(ne(ne(u)),"handleSaveToBoard",function(e){if(!u.state.isRequestPending){u.setState({isRequestPending:!0});var t=u.getPinResource();t.options.board_id=e.id,t.callCreate({showError:!0}).then(u._onPinCreateSuccess).finally(function(){u.setState({isRequestPending:!1})})}}),re(ne(ne(u)),"showSaveSuccess",function(){u.setState({pinSuccess:!0,bannerText:h.a._("Saved!")})}),re(ne(ne(u)),"forceRefresh",function(){Object(_.a)("/")}),re(ne(ne(u)),"_onPinCreateSuccess",function(e){var t=u.props,n=t.pin,r=t.experienceClient,o=t.experience,a=t.onComplete,i=e.resource_response.data;n.id&&u.triggerCommonPinCreateEvents(i),o&&r.completeExperience(o.placement_id,o.experience_id,!0),u.showSaveSuccess(),r.fetchExperienceForPlacement(1000141),setTimeout(u.forceRefresh,oe),a&&a()}),re(ne(ne(u)),"triggerCommonPinCreateEvents",function(e){var t=u.props.pin;W.a.instance.publish("currentUser","pinCreated",e),W.a.instance.publish(e.board.id,"pinCreated",{pin:e}),t.id&&W.a.instance.publish(t.id,"pinRepinned",e)}),re(ne(ne(u)),"close",function(){u.props.onClose&&u.props.onClose()}),u}return ee(o,e),V(o,[{key:"componentDidMount",value:function e(){var t=this.props,n=t.experience,r=t.experienceClient;n&&r.viewExperience(n.placement_id,n.experience_id)}},{key:"renderGestaltFPC",value:function e(){var t=this.props,n=t.color,r=t.pin;return p.a.createElement(k.b,{minHeight:370},p.a.createElement(U.a,{color:n,pin:r,updateDescription:this.updateDescription,isFirstPin:!0}),p.a.createElement(N,{name:"",onCancel:this.close,onCreate:this.handleSaveToBoard,pinId:r.id}),p.a.createElement("div",{className:this.state.pinSuccess?"FirstPinCreate__firstSuccessBanner":"FirstPinCreate__firstPinBanner"},this.state.bannerText))}},{key:"renderFlyoutFPC",value:function e(){var t=this.props,n=t.anchorRef,r=t.pin;return p.a.createElement(M.a,{anchorRef:n,dismissHandler:this.close,isFirstPin:!0,inModal:!0,saving:this.state.pinSuccess,image:r.images.orig,name:"",onCancel:this.close,onCreate:this.handleSaveToBoard,pinId:r.id})}},{key:"render",value:function e(){return this.props.showFlyout?this.renderFlyoutFPC():this.renderGestaltFPC()}}]),o}(f.Component);function ie(e){return Object(f.createElement)(Object(v.compose)(Object(r.connect)(function(e){return{location:e.location}}),Z.a)(ae),Q({action:"repin"},e))}var ce=n("te8a"),le=n("mSxZU"),se=n("kzic");function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t,n){return t&&de(e.prototype,t),n&&de(e,n),e}function he(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?ve(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function me(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}function ye(e,t){return(ye=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"PinSaveButton",function(){return _e});var Ee=[500639,11022],_e=function(e){function r(e,t){var c;fe(this,r),ge(ve(ve(c=he(this,be(r).call(this,e,t)))),"componentWillUnmount",function(){c._repinCompletionPromise&&c._repinCompletionPromise.cancel()}),ge(ve(ve(c)),"setCompletionPromise",function(e){c._repinCompletionPromise=e,c._repinCompletionPromise.promise.then(function(){c.handleRepinHide()})}),ge(ve(ve(c)),"_repinCompletionPromise",null),ge(ve(ve(c)),"isInShareCallback",!1),ge(ve(ve(c)),"handleRepinHide",function(){c.setState({isRepinModalOpen:!1});var e=c.props,t=e.onToggleModal,n=e.onToggleFlyout,r;e.showFlyout&&n?n(!1,!1):t&&!c.isInShareCallback&&t(!1)}),ge(ve(ve(c)),"handleSaveButtonClick",c.props.authAction(function(e){e&&(e.preventDefault(),e.stopPropagation());var t=c.props,n=t.onClickCallback,r=t.onToggleModal,o=t.onToggleFlyout,a=t.oneTapSave,i=t.showFlyout;n&&n(),a?a.saved||a.save():(d.a.sendEvent(new l.a),i&&o?o(!0,!0,"save"):r&&r(!0),c.setState({isRepinModalOpen:c.props.isAuth}))})),ge(ve(ve(c)),"handleShareCallback",function(){var e=c.props.onShareCallback;c.isInShareCallback=!0,e&&e()}),ge(ve(ve(c)),"renderPinToBoardRepin",function(){var e=c.props,t=e.onToggleModal,n=e.pin,r=e.showFlyout,o=c.state,a=o.isFPE,i;return o.isRepinModalOpen?a?c.renderFPE():p.a.createElement(le.c,{anchorRef:c.saveButtonRef,newsId:c.props.newsId,isCloseupPin:c.props.isCloseupPin,isInModal:!0,onClose:c.handleRepinHide,onCloseAndShare:c.handleShareCallback,onToggleModal:t,pin:n,pwtAuxData:{pin_create_method:"repin"},showFlyout:r,showSuccessToast:!0,setCompletionPromise:c.setCompletionPromise,additionalCreateFields:{is_stl_pin:Object(ce.d)(n)}}):null});var n=e.experience;return c.state={isFPE:!!n&&Ee.includes(n.experience_id),isRepinModalOpen:e.showRepinOnInitialRender||!1,savedPin:{id:""}},c}return me(r,e),pe(r,[{key:"shouldComponentUpdate",value:function e(t,n){return!this.isFPERemoved(t)}},{key:"isFPERemoved",value:function e(t){var n=this.state.isFPE,r=t.experience;return n&&(!r||!Ee.includes(r.experience_id))}},{key:"renderFPE",value:function e(){var t=this.props,n=t.completePinSave,r=t.experience,o=t.pin,a=t.showFlyout,i=p.a.createElement(ie,{anchorRef:this.saveButtonRef,showFlyout:a,experience:r,isInModal:!0,onClose:this.handleRepinHide,onComplete:n,pin:o,pwtAuxData:{pin_create_method:"repin"}});return a?i:p.a.createElement(c.a,{accessibilityCloseLabel:h.a._("Close","Accessible close create board education label"),accessibilityModalLabel:h.a._("Create board","Accessible create board education modal label"),footer:p.a.createElement("div",{className:"FirstBoardCreate__education"},h.a._("Boards are where you save your Pins","Text explaining that boards are used to collect and save pins")),heading:h.a._("Create board","Create board education modal label"),onDismiss:this.handleRepinHide,size:"lg"},i)}},{key:"render",value:function e(){var n=this,t=this.props,r=t.anchorString,o=t.oneTapSave,a=t.iconOnly,i=Object(m.a)(r)(u.a);return p.a.createElement("div",{ref:function e(t){n.saveButtonRef=t}},p.a.createElement(E.b,{name:"web_text_only_save_button"},function(e){var t=e.anyEnabled;return p.a.createElement(i,{icon:!t,onClick:n.handleSaveButtonClick,saved:o&&o.saved,iconOnly:a,isPulsarDisplayed:!n.state.isRepinModalOpen})}),this.renderPinToBoardRepin())}}]),r}(f.Component);ge(_e,"contextTypes",{language:s.a.string,userAgent:s.a.shape({browserName:s.a.string.isRequired}).isRequired}),ge(_e,"defaultProps",{anchorString:""});var we=function e(t){return{completePinSave:function e(){return t({type:"COMPLETE_PIN_SAVE"})}}},Oe=t.default=Object(v.compose)(b.a,se.withRouter,Object(y.a)(33),Object(r.connect)(function(e){return{isAuth:e.viewer.isAuth,email:e.viewer.isAuth?e.viewer.email:void 0}},we))(_e)},MH3C:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var o=n("BAXv"),r=function e(t,n){if(!n)return t;var r=new RegExp(/http(s?):/);if(!r.test(t)){var o=r.exec(n),a;if(o&&o.length)t=o[0]+t}return t},a=function e(t){var n=50,r=o.a.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION;return{clamped:50<t.length?t.slice(0,50).trim()+"":t,full:t.length>r?t.slice(0,r):t}}},NmQ5:function(e,t,n){"use strict";t.b=s,t.a=u;var o=n("DKBQ"),r=n("VF/E"),d=n("Jw9X"),p=n("pOmq"),a=n("THYI"),h=n.n(a),i=n("g5tP"),b=n("mZ/m"),m=n("ar0l"),y=function e(t){return Object(r.a)(t.sectionId?b.b.SECTION_PINS:b.b.BOARD_PINS,t.sectionId||t.boardId)};function c(e,r){var t=e.inverseSelection,o=e.selectedPinIds,n=e.source,a=e.target;if(n.boardId===a.boardId&&(n.sectionId||null)===(a.sectionId||null))return Promise.reject();if(t){var i={board_id:n.boardId,new_board_id:a.boardId,old_section_id:n.sectionId||void 0,new_section_id:a.sectionId||void 0,pin_ids:o};return h.a.create("BulkEditSelectAllResource",i).callUpdate({showError:!1}).then(function(){return Promise.all([r(y(n)),r(y(a))])}).catch(m.a)}var c=function e(t,n){r(Object(p.a)({feedId:t.sectionId||t.boardId,feedType:t.sectionId?b.b.SECTION_PINS:b.b.BOARD_PINS,itemIds:o,itemType:"pin"})),r(Object(d.a)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?b.b.SECTION_PINS:b.b.BOARD_PINS,itemIds:o,itemType:"pin"}))};c(n,a);var l=function e(){return c(a,n)};if(a.boardId===n.boardId){if(a.sectionId){var s={section_id:a.sectionId,pins:o};return h.a.create("BoardSectionEditResource",s).callUpdate({showError:!1}).catch(function(e){l(),Object(m.a)(e)})}var u={section_id:n.sectionId,pins:o};return h.a.create("BoardSectionPinsResource",u).callDelete({showError:!1}).catch(function(e){l(),Object(m.a)(e)})}var f={board_id:a.boardId,section_id:a.sectionId||void 0,pin_ids:o};return h.a.create("BulkEditResource",f).callUpdate({showError:!1}).catch(function(e){l(),Object(m.a)(e)})}function l(e,t){var n=e.source,r=e.target;r.boardId!==n.boardId?(t(Object(i.b)(n.boardId,"pin_count")),t(Object(i.b)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t(Object(i.b)(r.boardId,"pin_count")),n.sectionId&&t(Object(o.a)(n.sectionId)),r.sectionId&&t(Object(o.a)(r.sectionId))}function s(o){return function(e){var t=o.selectedPinIds,n=o.source,r=o.target;e(Object(p.a)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?b.b.SECTION_PINS:b.b.BOARD_PINS,itemIds:t,itemType:"pin"})),e(Object(d.a)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?b.b.SECTION_PINS:b.b.BOARD_PINS,itemIds:t,itemType:"pin"})),l(o,e)}}function u(t){return function(e){return c(t,e).then(function(){return l(t,e)})}}},NyaW:function(e,t,n){"use strict";t.a=T;var r=n("d6ZO"),i=n.n(r),o=n("DUIN"),c=n("BAXv"),f=n("W/Cr"),a=n("i0Ug"),l=n("g5tP"),s=n("HLDn"),u=n("S+Qs"),d=n("MQ2h"),p=n.n(d),h=n("FrUj");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function m(e,t){if(null==e)return{};var n=y(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function y(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){j(t,e,n[e])})}return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?k(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(a){var e,t;return t=e=function(e){function o(){var e,u;g(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(k(k(u=w(this,(e=O(o)).call.apply(e,[this].concat(n))))),"state",{createBoardError:null,inputName:u.props.prefilledName||"",nameValidators:[Object(h.q)({message:f.a._("Don't forget to name your board!")}),Object(h.k)({max:c.a.MAX_CHARS_FOR_BOARD_TITLE})],nameValidatorErrors:[],privacy:u.props.isAdAccountOwner?c.a.BoardPrivacy.PUBLIC:c.a.BoardPrivacy.PROTECTED,saving:!1}),j(k(k(u)),"handleChangeName",function(e,t){var n=Object(h.t)(u.state.nameValidators,e);u.setState({inputName:e,nameValidatorErrors:n,createBoardError:null},function(){t&&u.handleCreate()})}),j(k(k(u)),"handleChangePrivacy",function(){var e=u.state.privacy===c.a.BoardPrivacy.SECRET?c.a.BoardPrivacy.PUBLIC:c.a.BoardPrivacy.SECRET;u.setState({privacy:e})}),j(k(k(u)),"handleCreate",function(){var e=u.state,t=e.inputName,n=e.privacy,r=u.props,o=r.createBoard,a=r.invalidateResource,i=r.onCreate,c=r.isAdAccountOwner,l=r.advertiser_id,s=v({privacy:n,name:t},!c&&l?{advertiser_id:l}:{});u.setState({saving:!0,createBoardError:null}),o(s).then(function(e){u.setState({saving:!1}),i(e)}).catch(function(e){var t=f.a._("Uh oh! Something went wrong.");if(e.message){var n=e.message,r=e.message_detail;t=r?"".concat(n," ").concat(r):n}else"string"==typeof e&&(t=e);u.setState({saving:!1,createBoardError:t})}),a(n)}),u}return S(o,e),_(o,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){t.prefilledName&&this.setState({inputName:t.prefilledName})}},{key:"render",value:function e(){var t=this.props,n=t.createBoard,r=t.invalidateResource,o=m(t,["createBoard","invalidateResource"]);return i.a.createElement(a,Object.assign({onChangeBoardName:this.handleChangeName,onChangeBoardPrivacy:this.handleChangePrivacy,onBoardCreate:this.handleCreate},o,this.state))}}]),o}(r.Component),j(e,"displayName","WithBoardCreatePane(".concat(a.displayName||a.name,")")),t}function x(e){var t=e.advertiser,n=e.viewer,r=!t||n.isAuth&&t.owner_user_id===n.id,o=t&&t.id;return v({isAdAccountOwner:r},o?{advertiser_id:o}:{})}function I(n,r){return{invalidateResource:function e(t){n(Object(u.f)("BoardsResource",Object(s.a)(r.viewer.username,t===c.a.BoardPrivacy.SECRET)))},createBoard:function e(t){return n(Object(l.f)(t))}}}function T(e){return Object(d.compose)(a.a,Object(o.connect)(x,I),P)(e)}},Otfq:function(e,t,n){"use strict";n.d(t,"a",function(){return E});var m=n("d6ZO"),r=n.n(m),o=n("RklN"),s=n.n(o),c=n("b11Z"),a=n("p58k"),y=n("gEaE");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?v(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){function r(e,t){var b;l(this,r),g(v(v(b=d(this,p(r).call(this,e,t)))),"setSelectedItemRef",function(e){b.selectedItemRef=e}),g(v(v(b)),"handleIndexUpdate",function(e){var t=b.props.indexManager;b.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),g(v(v(b)),"handleSelectItem",function(r){return function(){var e=b.props,t=e.disabled,n=e.onSelectItem;t||n(r)}}),g(v(v(b)),"handleMouseEnter",function(a){return function(e){var t=e.event,n=b.props,r=n.disabled,o=n.indexManager;r||o.updateIndex(a)}}),g(v(v(b)),"handleMouseLeave",function(e){var t=e.event,n=b.props,r=n.disabled,o=n.indexManager;r||o.setInactive()}),g(v(v(b)),"renderItems",function(e,a){var t=b.props.renderItem,n,r=b.state.selectedIndex||{},i=r.row,o=r.section,c=e.customProps,l=void 0===c?{}:c,s=e.items,u=e.renderItem,f=l.isDisabled,d=void 0===f?function(e){return!1}:f,p=a===o,h=u||t;return h&&s.map(function(e,t){var n=d(e),r={section:a,row:t},o=p&&t===i;return m.createElement("div",{"data-test-id":"board-selection",key:t,ref:!n&&o&&b.setSelectedItemRef},n?h({item:e,hovered:o,sectionProps:l}):m.createElement(y.O,{onMouseEnter:b.handleMouseEnter(r),onMouseLeave:b.handleMouseLeave,onTouch:b.handleSelectItem(e),fullWidth:!1,shape:"rounded"},h({item:e,hovered:o,sectionProps:l})))})}),g(v(v(b)),"renderSections",function(){var e=b.props,n=e.renderSectionHeader,t;return e.sections.map(function(e,t){return m.createElement(y.b,{key:t},n&&n(e,t),b.renderItems(e,t))})});var n=b.props.indexManager;return b.state={selectedIndex:n.getIndex(),selectionMovedByKeyboard:!1},n.setUpdateCallback(b.handleIndexUpdate),b}return h(r,e),f(r,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var n;this.props.indexManager!==t.indexManager&&t.indexManager.setUpdateCallback(this.handleIndexUpdate)}},{key:"componentDidUpdate",value:function e(){var t=this.containerRef;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){var n=s.a.findDOMNode(this.selectedItemRef);if(!(n instanceof HTMLElement))return;var r=n.getBoundingClientRect(),o=r.top,a=r.bottom,i=t.getBoundingClientRect(),c=i.top,l;i.bottom<=a?n.scrollIntoView(!1):o<=c&&n.scrollIntoView(!0)}}},{key:"render",value:function e(){var r=this,t=this.props,n=t.grow,o=void 0!==n&&n,a=t.maxHeight,i=t.fetchMore;return m.createElement(c.a,{fetchMore:i},function(e){var n=e.setRef,t=e.onScroll;return m.createElement(y.b,{flex:o?"grow":void 0,height:o?"100%":void 0,maxHeight:a,onScroll:t,overflow:"auto",ref:function e(t){r.containerRef=t,n(t)}},r.renderSections())})}}]),r}(m.Component)},Qqx1:function(e,t,n){"use strict";var s=n("d6ZO"),m=n.n(s),y=n("vJNz"),r=n("28Da"),f=n("aC/n"),d=n("W/Cr"),o=n("9bGG"),p=n("gEaE");function a(e){var t=e.buttonLabel,n=e.isHovering,r=e.isRowItem,o=e.hasHoverState,a=e.hoverHandlers,i=e.name,c=e.onClick,l=i||t||d.a._("Create board");return s.createElement(p.O,{onMouseEnter:a.onMouseOver,onMouseLeave:a.onMouseLeave,onTouch:c},s.createElement(p.b,{alignItems:"center",color:o&&n?"lightGray":"white",display:"flex",flex:r?"shrink":"none",height:64,width:"100%"},s.createElement(p.b,{marginLeft:6,marginRight:3,"data-test-id":"createBoardButton"},s.createElement(p.n,{accessibilityLabel:d.a._("Add a board"),size:"32",icon:"add-circle",color:"red"})),i?s.createElement(p.b,{margin:1},s.createElement(p.K,{inline:!0,overflow:"normal",__dangerouslyIncreaseLineHeight:!0}," ",d.a._("Create: ")," ")):null,s.createElement(p.K,{truncate:!0,align:"center",bold:!0,inline:!0,__dangerouslyIncreaseLineHeight:!0}," ",l," ")))}var h=Object(o.a)(a),b=n("p58k"),v=n("W0l8"),i=n("MSpZ"),g=n("Otfq");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function _(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?C(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return P});var j="",P=2,x=function(e){function o(){var e,b;l(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(C(C(b=_(this,(e=w(o)).call.apply(e,[this].concat(n))))),"state",{searchQuery:""}),k(C(C(b)),"handleSelectItem",function(e){var t=b.props,n=t.onCreate,r=t.onSelected,o;!e&&n?n(b.state.searchQuery):e&&r(e);(n||e)&&b.setState({searchQuery:""})}),k(C(C(b)),"handleSearchQueryInput",function(e){b.setState({searchQuery:e})}),k(C(C(b)),"renderSectionHeader",function(e,t){return e.title?m.a.createElement(p.b,null,0<t&&m.a.createElement(p.j,null),m.a.createElement(p.b,{deprecatedPadding:{x:3,y:1}},m.a.createElement(p.K,{size:"sm"},e.title))):null}),k(C(C(b)),"renderRow",function(e){var t=e.item,n=e.hovered,r=e.sectionProps,o=void 0===r?{}:r,a=b.props,i=a.boardSavedTo,c=a.isSelectMode,l=a.disabledRowId,s=b.state.searchQuery,u=o.inSectionSelection,f=void 0!==u&&u,d,p=i&&i.board===t.id?i&&i.state:null,h="board_section"===t.type;return m.a.createElement(y.a,{isSelectMode:c,disabled:t.id===l&&f,item:t,isSection:h,isWithinSectionPicker:f,saveState:p,searchQuery:s,selected:n})}),b}return O(o,e),E(o,[{key:"componentDidUpdate",value:function e(t){!t.isLoaded&&this.props.isLoaded&&this.setPWTLoadingEnd()}},{key:"setPWTLoadingEnd",value:function e(){var t=this.props.hasLoadError?3:1;i.a.sendEvent(new r.a({result:t}))}},{key:"render",value:function e(){var t=this.props,n=t.boardSavedTo,r=t.createButtonLabel,o=t.hasLowBoardCount,a=t.getSections,i=t.isLoaded,c=t.onCreate,l=t.pinId;if(i){var s=this.state.searchQuery,u=a(s);return this.indexManager=new b.a(u.map(function(e){return e.items})),this.indexManager.setSelectItem(this.handleSelectItem),m.a.createElement(p.b,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}}},!o&&m.a.createElement(p.b,null,m.a.createElement(p.b,{paddingX:6,marginBottom:4,marginTop:1},m.a.createElement(v.a,{disabled:!!n,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:s})),m.a.createElement(p.j,null)),m.a.createElement(g.a,{disabled:!!n,grow:!o&&!s,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:u}),m.a.createElement(p.j,null),c&&m.a.createElement(h,{buttonLabel:r,hasHoverState:!0,name:s,onClick:function e(){return c(s)}}),o&&l&&m.a.createElement(f.a,{onBoardSelected:c,pinId:l}))}return m.a.createElement(p.b,{deprecatedPadding:{y:5}},m.a.createElement(p.G,{accessibilityLabel:d.a._("loading section picker","accessibility label for the loading spinner the repin picker"),show:!0}))}}]),o}(s.Component),I=t.b=x},QuPB:function(e,t,n){"use strict";t.a=l;var o=n("d6ZO"),r=n.n(o),a=n("BAXv"),i=n("FJZF"),c=n("gEaE");function l(e){var t=e.url,n=e.description,r=e.color;return r=r||a.a.DEFAULT_IMAGELESS_PIN_COLOR,o.createElement(c.b,{shape:"rounded",height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:r}}},o.createElement(c.b,{maxHeight:200,padding:4,overflow:"hidden"},t&&o.createElement(c.b,{marginBottom:2},o.createElement(c.K,{color:"white",size:"xs"},i.a.parse(t).hostname||t)),o.createElement(c.b,{maxHeight:144},o.createElement(c.K,{bold:!0,color:"white",overflow:"normal",size:"lg"},n))))}},Svvu:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("hlP+"),o=n.n(r),l=n("BVzu"),a=n("XZ9g"),s=n.n(a),i=n("/4D9"),u=n.n(i),f=n("W/Cr"),d=n("DLm7"),p=n("EAiy"),c;function h(){}Object.assign(h.prototype,o.a),Object.assign(h.prototype,{connect:function e(a,i){var c=this;(i=Object.assign({},{success:function e(){},error:function e(){},complete:function e(){}},i)).rerequest_facebook_email?u()().then(function(e){var t;e.default.ensureInit(function(e){e.login(function(e){var t=e.authResponse,n,r;t&&(n=(n=t.grantedScopes)?n.split(","):[],r=t.userID);var o=n.find(function(e){return"email"===e}),a={id:r};"connected"===e.status&&o?i.success(a):i.error(a),i.complete()},{scope:"email",auth_type:"rerequest",return_scopes:!0})},p.a)}):s()().then(function(e){var t,n=e.default.getWindowOptions(),r=window.open("/connect/"+a+"/","",n);if(!r)return l.default.showError(f.a._("You must enable popups!")),void i.error({network:a,alertedUpstream:!0});var o=d.a.setInterval(function(){r.closed&&(clearInterval(o),c.handleComplete({network:a,error_message:"Window closed."}))},1e3);c.once("connect:"+a,function(e){clearInterval(o),e.error_message?i.error(e):i.success(e),i.complete()})})},complete:function e(t){this.handleComplete(t)},handleComplete:function e(t){var n="connect:"+t.network,r;if("facebook"===t.network){var o=t.id;o&&"string"!=typeof o&&(t.error_message="Facebook id must be of string type")}this.trigger(n,t)}}),Object.assign(h,{instance:function e(){return c||(c=new h),c},FACEBOOK:"facebook",TWITTER:"twitter",GOOGLE:"google",YOUTUBE:"youtube",GPLUS:"gplus",MICROSOFT:"microsoft",ETSY:"etsy"}),window.addEventListener("message",function(e){var t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&"social-connect-complete"===e.data.type&&h.instance().complete(e.data)}),t.default=h},T0l7:function(e,t,n){"use strict";t.c=i,t.d=c,t.a=u,t.b=f;var o=n("/e0Y"),l=n("Cjb7"),r=n("THYI"),s=n.n(r),a="collaborator_approve_invite";function i(e,t){return s.a.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function c(e,t){return s.a.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function u(n,r){return function(e){var t;return s.a.create("BoardInviteResource",{board_id:n,invited_user_id:r}).callUpdate().then(function(){o.a.trackEvent(a,"success"),l.a.instance.publish(n,"boardApprovedCollaboratorInvite",{userId:r})}).catch(function(){return o.a.trackEvent(a,"error")})}}function f(a,i,c){return function(e){var t=a.invited_user,n=a.status,r=a.board.id,o;return s.a.create("accepted"===n?"BoardCollaboratorResource":"BoardInviteResource",{ban:c,board_id:r,field_set_key:"boardEdit",invited_user_id:t.id}).callDelete({showError:!1}).then(function(){l.a.instance.publish(r,"boardWriteAccessUpdated"),c&&l.a.instance.publish(r,"boardBannedCollaborator"),i&&(l.a.instance.publish("currentUser","boardRemovedCollaboratorSelf"),l.a.instance.publish(r,"boardRemovedCollaboratorSelf"))})}}},"Td/c":function(e,t,n){"use strict";var u=n("d6ZO"),r=n.n(u),o=n("DUIN"),i=n("BAXv"),c=n("HEYN"),f=n("W/Cr"),d=n("XSNT"),p=n("hkVh"),a=n("kxCB"),l=n("MQ2h"),s=n.n(l),h=n("gEaE");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){C(t,e,n[e])})}return t}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?S(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){function t(e){var a;return y(this,t),C(S(S(a=E(this,_(t).call(this,e)))),"onCreateSection",function(){var e=a.props,t=e.board,n=e.dispatch,r=e.completeCreateSectionAction,o=e.pinImport;return a.setState({isSaving:!0}),n(Object(c.a)({boardId:t.id,name:a.state.inputName.trim(),pinImport:o})).then(function(e){a.setState({isSaving:!1,newSection:e}),r(e)}).catch(function(e){a.setState({createError:e.message,isSaving:!1})})}),C(S(S(a)),"handleKeyDown",function(e){var t=a.state,n=t.createError,r=t.inputName;[i.a.KeyCode.ENTER,i.a.KeyCode.NUMPAD_ENTER].includes(e.which)&&!n&&r.trim()&&a.onCreateSection()}),C(S(S(a)),"handleChangeName",function(e){a.setState({createError:null,inputName:e})}),C(S(S(a)),"handleInputRef",function(e){a.setState({inputRef:e})}),a.state={createError:null,inputName:e.initialName||"",inputRef:null,newSection:null,isSaving:!1},a}return w(t,e),g(t,[{key:"componentDidUpdate",value:function e(t,n){var r=this.state,o=r.createError,a=r.inputRef;!a||n.inputRef&&!o||a.focus()}},{key:"render",value:function e(){var t=this.props,n=t.onClearModal,r=t.showTitle,o=t.positionRelative,a=this.state,i=a.createError,c=a.inputName,l=a.isSaving,s=!!c.trim()&&!i;return u.createElement(h.b,{xs:{display:"flexColumn"},color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:o?"relative":"absolute",shape:"rounded",width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}}},r&&u.createElement(h.b,{marginTop:3,paddingX:6,paddingY:3},u.createElement(h.K,{size:"xl",bold:!0},f.a._("Add section","Title in the add section modal"))),u.createElement(h.b,{padding:3},u.createElement(h.b,{marginBottom:2},u.createElement(h.q,{htmlFor:"sectionEditName"},u.createElement(h.K,{size:"sm",color:i?"red":"gray"},f.a._("Name","Board section name")))),u.createElement(h.b,null,u.createElement(d.a,{className:"boardCreateInput".concat(i?" error":""),id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:f.a._('Like "Lighting"',"Placeholder for board section name"),ref:this.handleInputRef,type:"text",value:c,style:m({border:"none",outline:"none",fontSize:15,marginBottom:5,padding:6,width:"95%",color:"#333"},i?{background:"#e6abad",border:"1px solid #e60023",borderRadius:3}:{})}))),u.createElement(h.j,null),u.createElement(h.b,{display:"flex",flex:"grow"}),u.createElement(h.j,null),u.createElement(h.b,{padding:6},i&&u.createElement(h.b,{marginBottom:3},u.createElement(h.K,{align:"center",bold:!0,color:"red",size:"sm"},i)),u.createElement(h.b,{display:"flex",justifyContent:"between"},u.createElement(h.c,{onClick:n,text:f.a._("Cancel","cancel section add"),inline:!0}),u.createElement(p.a,{disabled:!s||l,onClick:this.onCreateSection,submitting:l,text:f.a._("Add","add a new section")}))))}}]),t}(u.Component);t.a=Object(l.compose)(Object(o.connect)(),a.a)(k)},UVpX:function(e,t,n){"use strict";var o=n("hVsM"),a=n("SnoN"),i=n("BVzu"),c=n("kqYA"),l=n("ZIw6"),s=n("/e0Y"),u=n("W/Cr"),f=n("85jk"),d=n("EAiy"),p="publish_actions",h={checkFbTimelinePermission:function(o){var e=function e(t){t.api("/me/permissions",function(e){var t=e.data,n=!1,r;t&&(n=!!t.find(function(e){return e.permission===p&&"granted"===e.status}));n?o.success&&o.success():o.error&&o.error()})};c.default.ensureInit(e,d.a)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;var n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(n,r){c.default.ensureInit(function(e){var t;if(!h.fbConnectedAccountMatchesLoggedInAccount(e,r))return i.default.showError(u.a._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),n.error&&n.error(),void(n.complete&&n.complete());h.checkFbTimelinePermission({success:function e(){n.success&&n.success(),n.complete&&n.complete()},error:function e(){h.fbLogin(n)}})},d.a)},fbLogin:function(t){c.default.ensureInit(function(e){e.login(function(e){e.authResponse?h.checkFbTimelinePermission(t):t.error&&t.error(),t.complete&&t.complete()},{scope:p})},d.a)},shareFb:function(t){var e=t.ga_category||"share_facebook";s.a.trackEvent(e,"click");var n=t.dialog_options||{};n.callback=function(){var e=o.a.fromEventType(1300);t.object_id&&e.setObjectIdStr(t.object_id),a.a.getInstance().addEvent(e)};var r=n.object_type;r&&Object(f.a)("facebook_share_dialog_open_"+r),l.default.open(n)},getLocaleString:function(e){var t=e;switch(t=t.replace(/-/g,"_")){case"de":t="de_DE";break;case"fr":t="fr_FR";break;case"it":t="it_IT";break;case"ja":t="ja_JP";break;case"nl":t="nl_NL";break;case"tr":t="tr_TR";break;case"en_AU":t="en_US";break;case"es_419":case"es_AR":t="es_LA"}return t}};t.a=h},"VF/E":function(e,t,n){"use strict";function r(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}t.a=r},W0l8:function(e,t,n){"use strict";var r=n("d6ZO"),i=n.n(r),o=n("RklN"),c=n.n(o),l=n("BAXv"),s=n("W/Cr"),a=n("p58k"),u=n("gEaE");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function b(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?g(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){function a(){var e,o;d(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return E(g(g(o=b(this,(e=m(a)).call.apply(e,[this].concat(n))))),"handleKeyDown",function(e){var t=o.props,n=t.disabled,r=t.indexManager;if(!n)switch(e.which){case l.a.KeyCode.ENTER:case l.a.KeyCode.NUMPAD_ENTER:e.preventDefault(),r.select();break;case l.a.KeyCode.UP:e.preventDefault(),r.prev();break;case l.a.KeyCode.DOWN:e.preventDefault(),r.next()}}),o}return y(a,e),h(a,[{key:"componentDidMount",value:function e(){var t=this._input;if(t){var n=c.a.findDOMNode(t);if(n instanceof HTMLElement){var r=n.querySelector("input");r&&r.focus()}}}},{key:"render",value:function e(){var n=this,t=this.props,r=t.onChange,o=t.value;return i.a.createElement("div",{onKeyDown:this.handleKeyDown,style:{width:"100%"}},i.a.createElement(u.D,{accessibilityLabel:"",id:"pickerSearchField",onChange:function e(t){var n=t.value;return r(n)},placeholder:s.a._("Search","search bar placeholder text"),ref:function e(t){n._input=t},value:o}))}}]),a}(r.Component);t.a=_},WxTF:function(e,t,n){"use strict";var u=n("d6ZO"),a=n.n(u),f=n("W/Cr"),i=n("XSNT"),r=n("IaRT"),o=n.n(r),c=n("skut"),l=n("pN+K"),d=n("5tOk"),p=n("gEaE");function h(e){var t=e.body,n=e.img,r=e.onClick,o=e.selected,a=e.title,i=e.username,c=e.valid,l=i||t,s=function e(t,n){if(i)return t?u.createElement(p.n,{icon:"check-circle",color:"red",accessibilityLabel:f.a._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites"),size:32}):u.createElement(p.b,{height:32,width:32,shape:"circle",dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}}});var r={text:f.a._("Sent","Sent a board collaborator invite"),color:"gray",size:"sm",disabled:!0,inline:!0};return t||(r.text=f.a._("Invite","Add board collaborator invite"),r.disabled=Boolean(!n)),u.createElement(p.c,r)};return u.createElement(p.b,{marginBottom:4},u.createElement(p.O,{onTouch:r},u.createElement(p.b,{display:"flex",alignItems:"center",direction:"row",width:"100%"},n,u.createElement(p.b,{marginLeft:3,flex:"grow",marginRight:2},u.createElement(p.b,{marginBottom:1},u.createElement(p.K,{bold:!0,size:"md",truncate:!0},a)),u.createElement(p.K,{size:"xs",truncate:!0},l)),u.createElement(p.b,{marginLeft:2},s(o,c)))))}function s(t,e,n){if("user_share_suggestion"===t.type||"user"===t.type){var r=u.createElement(p.a,{name:t.title||t.full_name,src:t.image_medium_url,size:"md"});return u.createElement(h,{img:r,onClick:function e(){return n(t)},selected:e,title:t.full_name,username:t.username})}if("email"===t.type){var o=t.id,a=t.valid,i=u.createElement(p.b,{shape:"circle",color:"lightGray",height:40,width:40,display:"flex",justifyContent:"center",alignItems:"center"},u.createElement(p.n,{color:"darkGray",icon:"envelope",size:20,accessibilityLabel:f.a._("Email icon","Email icon on board create modal")})),c=Object(d.c)(f.a._("Email {{ email }}"),{email:o}),l,s;return s=e?(l=f.a._("Done!","Text that lets the user know we sent the board invite email"),function e(){}):(l=a?f.a._("Click to send!","Text that lets the user know they can successfully send a board invite email"):f.a._("Keep typing!","Text that lets a user know the email they are typing is not valid yet"),function e(){return a?n(t):void 0}),u.createElement(h,{body:l,img:i,onClick:s,selected:e,title:c,valid:a})}}var b=n("T0l7");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function E(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?S(e):t}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t,n){var r=e.id;return t===n.findIndex(function(e){return e.id===r})}var j=function(e){function o(){var e,i;y(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(S(S(i=E(this,(e=_(o)).call.apply(e,[this].concat(n))))),"state",{selectedCollaborators:[],showSocialConnectPanel:!1,typeaheadSuggestions:[],value:""}),C(S(S(i)),"handleTextFieldChange",function(e){i.setState({value:e})}),C(S(S(i)),"handleCollaboratorClick",function(e){var t=e.id,n=e.type;i.isIdSelected[t]=!i.isIdSelected[t];var r,o=i.state.selectedCollaborators.concat([e]),a="email"===n?b.c:b.d;i.props.onSelectedCollaboratorsChange({id:t,resource:a}),i.setState({selectedCollaborators:o})}),C(S(S(i)),"handleTypeaheadSuggestionsChange",function(e){i.setState({typeaheadSuggestions:e})}),C(S(S(i)),"isIdSelected",{}),i}return w(o,e),g(o,[{key:"render",value:function e(){var n=this,t=this.state.value,r,o=(""===t?this.props.shareSuggestions:this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:t,valid:Object(d.g)(t)}).concat(this.props.shareSuggestions).filter(k)).map(function(e,t){return s(e,n.isIdSelected[e.id],n.handleCollaboratorClick)}).map(function(e,t){return a.a.createElement("li",{key:t},e)});return a.a.createElement(p.b,{display:"flex",direction:"column",height:"100%"},a.a.createElement(p.b,{paddingX:3,marginBottom:4,marginTop:3},a.a.createElement(p.K,{size:"md"},f.a._("Add collaborators (optional)","Optional field to add collaborators to a board on board create"))),a.a.createElement(p.b,{paddingX:3,marginBottom:4,width:"100%"},a.a.createElement(p.b,{dangerouslySetInlineStyle:{__style:{borderRadius:"4px"}},color:"lightGray",flex:"grow",display:"flex",alignItems:"center",height:40,position:"relative"},a.a.createElement(p.b,{paddingX:4,height:"100%",position:"absolute",top:!0,left:!0,display:"flex",alignItems:"center"},a.a.createElement(p.n,{accessibilityLabel:"",icon:"search",size:20})),a.a.createElement(c.a,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:t},a.a.createElement(i.a,{className:"SearchBoxInput",onChange:this.handleTextFieldChange,placeholder:f.a._("Search by name or email"),value:t})))),a.a.createElement(p.b,{paddingX:3,overflow:"scrollY"},a.a.createElement("ul",null,o)))}}]),o}(u.Component);C(j,"defaultProps",{shareSuggestions:[]});var P=t.a=Object(l.b)({name:"ShareSuggestionsResource",key:"shareSuggestions"},{allowStale:!1})(j)},XSNT:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n("d6ZO"),o=n.n(r),a=n("IaRT"),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?b(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function r(e,t){var n;return l(this,r),m(b(b(n=f(this,d(r).call(this,e,t)))),"handleChange",function(e){n.props.onChange&&n.props.onChange(e.target.value),n.setState({value:e.target.value,hasChanged:!0})}),n.state={isFocused:n.props.focused||!1,value:n.props.value,hasChanged:void 0!==n.props.value},n}return p(r,e),u(r,[{key:"componentDidMount",value:function e(){this.state.isFocused&&this._input.focus()}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.setState({value:t.value})}},{key:"getId",value:function e(){return this.props.id}},{key:"getValue",value:function e(){return this.state.value}},{key:"focus",value:function e(){this._input.focus()}},{key:"render",value:function e(){var n=this;return o.a.createElement("input",{autoComplete:this.props.autoComplete,className:this.props.className,disabled:this.props.disabled?"disabled":"",id:this.props.id,name:this.props.name,onBlur:this.props.onBlur?this.props.onBlur.bind(this):null,onChange:this.handleChange,onClick:this.props.onClick?this.props.onClick.bind(this):null,onFocus:this.props.onFocus?this.props.onFocus.bind(this):null,onKeyDown:this.props.onKeyDown?this.props.onKeyDown.bind(this):null,placeholder:this.props.placeholder,ref:function e(t){n._input=t},style:this.props.style,type:this.props.type,value:this.state.value||""})}}]),r}(r.Component);y.defaultProps={type:"text"}},XZ9g:function(e,t,n){e.exports=function(){return new Promise(function(t){n.e(212).then(function(e){t(n("ZIw6"))}.bind(null,n)).catch(n.oe)})}},ZIw6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("tQ0j"),u=n.n(r),o=n("WjSu"),f=n("kqYA"),a=n("THYI"),d=n.n(a),p=n("FJZF"),h=n("EAiy"),i=20,b=580,m=400;function y(){var e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(e.length){if(1===e.length)return e[0];for(var t=e.splice(0,e.length-1),n=0;n<t.length;n+=1)t[n].parentNode.removeChild(t[n]);return e[0]}}var v={open:function e(o){var a=u.a.pick(o,v._validParams),t=v._getDialogType(o),i=v.generateFbRef(),c=o.object_type&&o.object_id&&"feed"===t,n=p.a.absolutify(o.path),r=p.a.getQueryStringParams();if(r.ptrf&&(n=p.a.appendQueryString(n,{ptrf:r.ptrf})),c&&(n=p.a.appendQueryString(n,{fb_ref:i})),a.method=t,"feed"===a.method){var l=v.getWindowOptions(o.width||b,o.height||m),s="http://www.facebook.com/sharer/sharer.php?u="+n;a.picture&&(s+="&picture="+a.picture),a.name&&(s+="&title="+a.name),a.description&&(s+="&description="+a.description),a.caption&&(s+="&caption="+a.caption),window.open(encodeURI(s),"sharer",l)}else"send"===a.method?a.link=n:"share"===a.method&&(a.href=n),f.default.ensureInit(function(r){r.getLoginStatus(function(){if("send"===a.method){r.ui(a);var e=10,t,n=setInterval(function(){!(t=y())&&e||(clearInterval(n),t&&v.executeMessengerCallback(t,o.callback)),e-=1},1e3)}else"share"===a.method&&r.ui(a,function(e){if(c&&e&&e.post_id){var t=d.a.create("LogFacebookFeedShare",{});t.options={object_type:o.object_type,object_id:o.object_id,fb_ref:i},t.callCreate({showError:!1})}o.callback&&o.callback(e)})})},h.a)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback:function e(t,n){var r=10,o=setInterval(function(){var e;"0px"!==t.style.width&&r||(clearInterval(o),t.style.width="575px"),r-=1},1e3);n&&n()},generateFbRef:function e(){for(var t="";t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return(h.a.id||o.a.instance.unauth_id)+":"+t},_getDialogType:function e(t){var n,r;return u.a.contains(v._validOptions,t.type)?t.type:"feed"},getWindowOptions:function e(t,n){var r=t||b,o=n||m,a=screen.width,i=screen.height,c,l;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+r+",height="+o+",left="+Math.round((a-r)/2)+",top="+(o<i?Math.round((i-o)/2):0)}};t.default=v},"aC/n":function(e,t,n){"use strict";var r=n("d6ZO"),c=n.n(r),o=n("28Da"),s=n("gEaE");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function f(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?b(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){function a(){var e,t;i(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return m(b(b(t=f(this,(e=d(a)).call.apply(e,[this].concat(r))))),"state",{isHovering:!1}),m(b(b(t)),"onHover",function(){t.setState({isHovering:!0})}),m(b(b(t)),"offHover",function(){t.setState({isHovering:!1})}),t}return p(a,e),u(a,[{key:"render",value:function e(){var t=this.props,n=t.name,r=t.selected,o=t.image,a;return t.inFlyoutExp?c.a.createElement(s.b,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover},c.a.createElement(s.b,null,c.a.createElement(s.u,{height:40,width:40,shape:"rounded"},this.state.isHovering&&o?c.a.createElement(s.p,{alt:"",color:"",fit:"cover",naturalHeight:o.height,naturalWidth:o.width,src:o.url}):c.a.createElement(s.b,{color:"lightGray",height:40,width:40}))),c.a.createElement(s.b,{padding:2},c.a.createElement(s.K,{bold:!0,size:"xl"},n))):c.a.createElement(s.b,{alignItems:"center",color:r?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2},c.a.createElement(s.b,null,c.a.createElement(s.n,{color:r?"darkGray":"gray",icon:"add",accessibilityLabel:""})),c.a.createElement(s.b,{marginLeft:3},c.a.createElement(s.K,{color:r?"darkGray":"gray",bold:!0,size:"lg"},n)))}}]),a}(r.Component),v=n("W/Cr"),g=n("MSpZ"),E=n("pN+K"),_=n("MQ2h"),w=n.n(_),O=n("y2lE");function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function P(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?R(e):t}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L=-1,D=function(e){function t(e){var l;return C(this,t),B(R(R(l=P(this,x(t).call(this,e)))),"_processSuggestions",function(e){return e&&e.length?e.map(function(e){return e.title}):[]}),B(R(R(l)),"handleClick",function(e){var t=l.state,n=t.selectedIndex,r=t.suggestedBoardsNames,o=l.props,a=o.contextLog,i=o.onBoardSelected,c=o.oneTapFlyout;i(r[n],c||!1),a(101,{component:13025,element:23})}),B(R(R(l)),"handleMouseEnter",function(e){l.setState({selectedIndex:e})}),B(R(R(l)),"handleMouseLeave",function(){l.setState({selectedIndex:-1})}),B(R(R(l)),"renderSuggestionRow",function(e,t){var n=l.state.selectedIndex===t;return c.a.createElement("li",{key:t},c.a.createElement(s.O,{onTouch:function e(){return l.handleClick(t)},onMouseEnter:function e(){return l.handleMouseEnter(t)},onMouseLeave:l.handleMouseLeave},c.a.createElement(y,{selected:n,name:e,inFlyoutExp:l.props.inFlyoutExp,image:l.props.image})))}),l.state={selectedIndex:-1,suggestedBoardsNames:l._processSuggestions(e.boards)},l}return I(t,e),j(t,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.setState({suggestedBoardsNames:this._processSuggestions(t.boards)})}},{key:"componentDidUpdate",value:function e(t){!t.resourceLoaded&&this.props.resourceLoaded&&this.props.inFirstBoardCreateGestaltExp&&this.setPWTLoadingEnd()}},{key:"setPWTLoadingEnd",value:function e(){var t=this.props.error?3:1;g.a.sendEvent(new o.a({result:t}))}},{key:"renderGestaltBoardSuggestionList",value:function e(){var t=v.a._("Suggested board names","text above suggested board names list");return c.a.createElement(s.b,null,c.a.createElement(s.b,{marginTop:5,marginLeft:6,marginBottom:3},c.a.createElement(s.K,{size:"md"},v.a._("Suggested board names"))),c.a.createElement("ul",null,this.state.suggestedBoardsNames.map(this.renderSuggestionRow)))}},{key:"renderPreviewBoardSuggestionList",value:function e(){return c.a.createElement("div",null,c.a.createElement("ul",null,this.state.suggestedBoardsNames.map(this.renderSuggestionRow)))}},{key:"render",value:function e(){var t=this.props,n=t.inFirstBoardCreateGestaltExp,r=t.inFlyoutExp,o=t.minHeight,a;if(!t.resourceLoaded)return c.a.createElement(s.b,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",minHeight:o||""},c.a.createElement(s.G,{accessibilityLabel:v.a._("Loading board suggestions","Accesibility label for loading board suggestions"),show:!0}));var i=this.state.suggestedBoardsNames;return i&&i.length?r?this.renderPreviewBoardSuggestionList():n?this.renderGestaltBoardSuggestionList():c.a.createElement(s.b,null,c.a.createElement(s.b,{marginTop:2,paddingX:5},c.a.createElement(s.K,null,v.a._("Suggested board names"))),c.a.createElement("ul",null,i.map(this.renderSuggestionRow))):null}}]),t}(r.Component),A=t.a=Object(_.compose)(Object(E.b)({name:"BoardTitleSuggestionsResource",options:function e(t){var n;return{pin_id:t.pinId}},key:"boards"}),O.a)(D)},ar0l:function(e,t,n){"use strict";t.a=s;var r=n("BVzu"),o=n("W/Cr"),a=2171,i=2172,c=2173;function l(e){switch(e.api_error_code){case a:case i:case c:return o.a._("Please wait until the previous board action finishes.");default:return e.message}}function s(e){r.default.showError(l(e))}},b11Z:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("d6ZO"),o=n.n(r),a=n("WBZ1"),i=n.n(a);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?b(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=200,v=function e(t,n){var r=t.scrollTop,o=t.clientHeight,a,i,c;return t.scrollHeight<r+o+(n?n(o):2*o)},g=function(e){function a(){var e,r;l(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return m(b(b(r=f(this,(e=d(a)).call.apply(e,[this].concat(n))))),"setContainerRef",function(e){r.containerRef=e}),m(b(b(r)),"fetchMoreIfNecessary",i()(function(){var e=r.props,t=e.fetchMore,n=e.scrollBuffer;t&&r.containerRef&&v(r.containerRef,n)&&t()},y)),r}return p(a,e),u(a,[{key:"componentDidMount",value:function e(){setTimeout(this.fetchMoreIfNecessary)}},{key:"componentDidUpdate",value:function e(){this.fetchMoreIfNecessary()}},{key:"render",value:function e(){var t;return(0,this.props.children)({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}]),a}(o.a.PureComponent)},g5tP:function(e,t,n){"use strict";t.h=y,t.i=v,t.b=g,t.j=_,t.f=w,t.e=O,t.m=S,t.d=C,t.g=j,t.c=P,t.a=I,t.l=R,t.k=B;var i=n("/e0Y"),r=n("VF/E"),o=n("THYI"),c=n.n(o),a=n("mZ/m"),l=n("Cjb7"),s=n("HLDn"),u=n("D+PP"),f=n("S+Qs");function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}return t}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h="board_create",b="board_delete",m="board_edit";function y(){return{type:"BOARDS_FETCH_ALL_IF_NEEDED",payload:{}}}function v(){return{type:"BOARDS_FETCH_LAST_PINNED_TO_IF_NEEDED",payload:{}}}function g(e,t){return Object(f.a)("BoardResource",{board_id:e,field_set_key:t})}function E(){var e,t,n;return{type:"BOARD_CREATE_COMPLETE",payload:{options:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},board:1<arguments.length?arguments[1]:void 0},error:2<arguments.length?arguments[2]:void 0}}function _(){return function(t,e){var n,r=e().viewer;r.isAuth&&Object(s.b)(r.username).forEach(function(e){t(e)})}}function w(e){var r=d({},e);return function(n){return n({type:"BOARD_CREATE",payload:{board:e}}),c.a.create("BoardResource",r).callCreate().then(function(e){i.a.trackEvent(h,"success");var t=e.resource_response.data;return t&&(l.b.publish("currentUser","boardCreated",t),n(_()),n(E(r,t))),t}).catch(function(e){throw i.a.trackEvent(h,"error"),e})}}function O(){var e,t,n;return{type:"BOARD_UPDATE_COMPLETE",payload:{options:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},board:1<arguments.length?arguments[1]:void 0},error:2<arguments.length?arguments[2]:void 0}}function S(r){return function(t){var n=d({board_id:r.id,name:r.name,description:r.description,category:r.category,privacy:r.privacy,collab_board_email:r.collab_board_email,collaborator_invites_enabled:r.collaborator_invites_enabled},r.collaborator_requests_enabled?{collaborator_requests_enabled:r.collaborator_requests_enabled}:{});return t({type:"BOARD_UPDATE",payload:{boardUpdateOptions:n}}),c.a.create("BoardResource",n).callUpdate().then(function(e){i.a.trackEvent(m,"success"),t(O(n,r))}).catch(function(e){throw i.a.trackEvent(m,"error"),e})}}function C(e,t){return{type:"BOARD_UPDATE_COLLABORATION_SETTINGS",payload:{boardId:e,collaboratorRequestsEnabled:t}}}function k(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function j(a){return function(e,t){var n=t().boards.content[a],r=n.pin_count,o=n.owner.id;return e({type:"BOARD_DELETE",payload:{boardId:a}}),c.a.create("BoardResource",{board_id:a}).callDelete().then(function(){i.a.trackEvent(b,"error"),l.b.publish("currentUser","boardDeleted",a),e(k(a)),e(Object(u.a)({userId:o,increment:-r}))}).catch(function(e){throw i.a.trackEvent(b,"error"),e})}}function P(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function x(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}function I(t){return function(e){return e(x(t)),c.a.create("BoardArchiveResource",{boardId:t}).callUpdate()}}function T(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}function R(t){return function(e){return e(T(t)),c.a.create("BoardArchiveResource",{boardId:t}).callDelete()}}function B(t,n){return function(e){return c.a.create("BoardsMergeResource",{source_board_id:t,target_board_id:n}).callUpdate().then(function(){return Promise.all([e(k(t)),e(g(n,"pin_count")),e(Object(r.a)(a.b.BOARD_SECTIONS,n))])})}}},hkVh:function(e,t,n){"use strict";t.a=f;var a=n("d6ZO"),r=n.n(a),i=n("gEaE");function c(e,t){if(null==e)return{};var n=l(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}var o={__style:{borderRadius:4}},s={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function u(){return a.createElement(i.b,{alignItems:"center",color:"red",dangerouslySetInlineStyle:o,display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%"},a.createElement(i.b,{dangerouslySetInlineStyle:s,display:"inlineBlock",height:18,position:"relative",shape:"circle",width:18}))}function f(e){var t=e.disabled,n=e.submitting,r=e.text,o=c(e,["disabled","submitting","text"]);return a.createElement(i.b,{display:"flex",position:"relative"},n&&a.createElement(u,null),a.createElement(i.c,Object.assign({},o,{inline:!0,color:"red",type:"submit",text:r,disabled:t||n})))}},iSgY:function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("W/Cr"),i=n("gEaE");function c(e){var t,n={group:{accessibilityLabel:a.a._("group board","Board picker group board icon"),icon:"people"},secret:{accessibilityLabel:a.a._("secret board","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:a.a._("board with sections","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:a.a._("board with sections","Board picker board with sections icon"),icon:"arrow-down"}}[e.type];return r.createElement(i.b,{marginLeft:1},r.createElement(i.n,{accessibilityLabel:n.accessibilityLabel,icon:n.icon,size:14}))}t.a=c},
"j1/O":function(e,t,n){"use strict";var r=n("hlP+"),o=n.n(r),a=n("g1tx"),i=n("THYI"),c=n.n(i),l=n("MSpZ"),s=n("EAiy"),u=5,f=l.a.findHandlerByName("search_autocomplete_render"),d=function e(t){t=t||{},this.tags=t.tags,this.enable_recent_queries=!!t.enable_recent_queries,this.minimum_term_character_length=t.minimum_term_character_length||0,this.bypass_lru_cache=t.bypass_lru_cache;var n={tags:t.tags,pin:t.pin_id},r=t.num_places;r?n.num_places=r:n.count="count"in t?t.count:5,t.exclude_non_followers&&(n.exclude_non_followers=!0),t.field_set_key&&(n.field_set_key=t.field_set_key),t.pin_scope&&(n.pin_scope=t.pin_scope);var o="TypeaheadResource";t.resource_name&&(o=t.resource_name),this.searchResource=c.a.create(o,n),this.itemsCache=new a.a};Object.assign(d.prototype,o.a),Object.assign(d.prototype,{search:function e(t,n){var r;if(!t&&"pinners_and_contacts"===this.tags)return this.abortSearch(),this.publishData(t,[],{},n);if(!t&&s.a.isLimitedLogin())return this.abortSearch(),this.publishData(t,[],{},n);if(!t&&this.enable_recent_queries&&s.a&&s.a.isAuthenticated())r="recent_search";else{var o=this.bypass_lru_cache?{}:this.itemsCache.get(t);if(o){var a=o.items;if(a&&a.length){this.abortSearch();var i=o.hint;return void this.publishData(t,a,i,n)}}}t.length>=this.minimum_term_character_length?this.fetch(t,r,n):this.publishData(t,[],{},n)},getResource:function e(){return this.searchResource},abortSearch:function e(){this.trigger("typeaheadSearchAbort"),this.getResource().abort()},publishData:function e(t,n,r,o){var a={term:t,items:n,hint:r};this.trigger("data",a),o&&o(a)},setAutocompleteScope:function e(t){this.getResource().set("autocompleteScope",t)},fetch:function e(a,t,i){var c=this,n=null,r=null;f&&f.hasActiveStopwatch()&&(n=f._currTraceId,r=f._currTimer&&f._currTimer.spanId);var o=this.getResource();if(o.isCalling()){var l=o.get("term");if(a===l)return;this.abortSearch()}""!==this.tags&&(this.trigger("typeaheadSearchStart",a),o.set("term",a),o.set("tags",t||this.tags),o.resetBookmark(),o.callGet({showError:!1,tracingParams:{traceId:n,parentSpanId:r}}).then(function(e){var t=e.resource_response.data,n=t.items,r=t.hint||{},o={hint:r,items:n};c.cacheData(a,o),c.publishData(a,n,r,i)},function(e){c.trigger("fetchError",e)}),this.warm=!0)},removeCacheForTerm:function e(t){this.itemsCache.remove(t)},cacheData:function e(t,n){this.itemsCache.set(t,n)},prefetch:function e(){var t;this.warm||(c.a.create("TypeaheadPrepareResource").callGet({showError:!1}),this.warm=!0)}}),t.a=d},kqYA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("YlIK"),o=n("mIxQ"),a=n.n(o),i=n("THYI"),c=n.n(i),l=n("/+lb"),s=n("EAiy"),u=n("63R5"),f=!1,d={ensureInit:function e(t){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:s.a,o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"en_US";if(o)Object(u.b)("//connect.facebook.net/".concat(a,"/sdk.js"),u.a.FACEBOOK,!0).then(function(){n._fbCallback(t,r)});else{var i="fb";l.default.load([],"//connect.facebook.net/".concat(a,"/sdk.js"),i),l.default.ready(i,function(){n._fbCallback(t,r)})}},_fbCallback:function e(t,n){var r=window.FB;r&&(f||(r.init({appId:a.a.FB_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",function(e){d.refreshAccessToken(n)}),f=!0),t(r))},ensureLoggedIn:function e(t,n){d.ensureInit(function(e){d.logIn(e,t)},n)},logIn:function e(t,n){t&&(t.getUserID()?n(t):t.login(function(){n(t)}))},refreshAccessToken:function e(t){t.isAuthenticated()&&t.attributes.facebook_id&&!t.isLimitedLogin()&&d.ensureInit(function(e){if(e.getUserID()){var t=e.getAccessToken(),n;if(t)c.a.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}},t)},injectTrackingPixel:function e(t){!function(){var e=window._fbq||(window._fbq=[]);if(!e.loaded){var t=document.createElement("script");t.async=!0,t.src="//connect.facebook.net/en_US/fbds.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),e.loaded=!0}}(),window._fbq=window._fbq||[],window._fbq.push(["track",t,{value:"0.00",currency:"USD"}])}};t.default=r.a.expose("Facebook",d)},mSxZU:function(e,t,n){"use strict";var i=n("d6ZO"),g=n.n(i),r=n("DUIN"),a=n("28Da"),v=n("vBru"),E=n("wUWH"),h=n("HcmU"),b=n("DKBQ"),c=n("0XFc"),_=n("biwq"),w=n("W/Cr"),O=n("R6a3");function m(e){return{type:"PIN_CREATED_VIA_CREATOR_CHECKLIST",payload:{pin_created_via_creator_checklist:e}}}var S=n("1Xwf");function y(e,t){return{type:"PIN_SAVE",payload:{pinId:e,saved:t}}}var l=n("8EHR"),s=n("GhED"),u=n("UVpX"),f=n("Svvu"),d=n("EAiy"),o=n("pN+K"),p=n("MQ2h"),C=n.n(p),k=n("gEaE");function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function T(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?D(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return(L=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){function a(){var e,n;P(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return A(D(D(n=T(this,(e=R(a)).call.apply(e,[this].concat(r))))),"state",{isFacebookChecked:n.props.resourceLoaded&&!!n.props.userSocial&&n.props.userSocial.facebook_publish_stream_enabled,isTwitterChecked:n.props.resourceLoaded&&!!n.props.userSocial&&n.props.userSocial.twitter_publish_enabled}),A(D(D(n)),"handleTwitterCheckboxChanged",function(){var e=!n.state.isTwitterChecked;n.setState({isTwitterChecked:e}),n.props.onSocialConnect(f.default.TWITTER,e)}),A(D(D(n)),"handleFacebookCheckboxChanged",function(){var t=!n.state.isFacebookChecked;t?u.a.maybeRequestFbTimelinePermission({success:function e(){n.setState({isFacebookChecked:!0}),d.a.set("facebook_publish_stream_enabled",t),n.props.onSocialConnect(f.default.FACEBOOK,t)},error:function e(){n.setState({isFacebookChecked:!1}),d.a.set("facebook_publish_stream_enabled",!1),n.props.onSocialConnect(f.default.FACEBOOK,t)}}):(n.setState({isFacebookChecked:!1}),d.a.set("facebook_publish_stream_enabled",!1),n.props.onSocialConnect(f.default.FACEBOOK,t))}),A(D(D(n)),"renderFacebookShare",function(){return i.createElement(k.b,{display:"flex",alignItems:"center",marginLeft:2},i.createElement(k.e,{checked:n.state.isFacebookChecked,id:"share_facebook",onChange:n.handleFacebookCheckboxChanged,size:"sm"}),i.createElement(k.q,{htmlFor:"share_facebook"},i.createElement(k.b,{marginLeft:2},i.createElement(k.K,null,w.a._("Post to Facebook")))))}),A(D(D(n)),"renderTwitterShare",function(){return i.createElement(k.b,{display:"flex",alignItems:"center",marginLeft:5},i.createElement(k.e,{checked:n.state.isTwitterChecked,id:"share_twitter",onChange:n.handleTwitterCheckboxChanged,size:"sm"}),i.createElement(k.q,{htmlFor:"share_twitter"},i.createElement(k.b,{marginLeft:2},i.createElement(k.K,null,w.a._("Post to Twitter")))))}),n}return B(a,e),I(a,[{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var n=t.resourceLoaded,r=t.userSocial;n&&r&&this.setState({isFacebookChecked:!!r.facebook_publish_stream_enabled,isTwitterChecked:!!r.twitter_publish_enabled})}},{key:"render",value:function e(){var t=this.props,n=t.resourceLoaded,r=t.userSocial;if(!n||!r)return null;var o=r.connected_to_facebook,a=r.twitter_url;return!(!o&&!a)&&i.createElement(k.b,{display:"flex",padding:2},o&&this.renderFacebookShare(),a&&this.renderTwitterShare())}}]),a}(i.Component),N=Object(p.compose)(Object(r.connect)(function(e){var t=e.viewer;return{userId:t.isAuth?t.id:""}}),Object(o.b)({name:"UserResource",key:"userSocial",options:function e(t){return{user_id:t.userId,field_set_key:"social_connect"}}}))(F),M=n("Cjb7"),H=n("THYI"),U=n.n(H),W=n("DNL0"),z=n.n(W),K=n("kqYA"),q=n("sYje"),Z=n("JqyP");function G(e){var t,n,r="-7 -7 30 30",o;switch(e.name){case"facebook":o=i.createElement("circle",{cx:"8",cy:"8",r:"15",fill:"#3B5998"}),n=i.createElement("path",{fill:"#fff",d:"M9.267 16V8.702h2.506l.376-2.845H9.267V4.041c0-.823.234-1.384 1.442-1.384l1.541-.001V.112A21.09 21.09 0 0 0 10.005 0C7.783 0 6.262 1.325 6.262 3.76v2.097H3.75v2.845h2.512V16h3.005z"});break;case"messenger":o=i.createElement("circle",{cx:"8",cy:"8",r:"15",fill:"#1DA1F2"}),n=i.createElement("path",{fill:"#fff",d:"M8 0C3.582 0 0 3.316 0 7.407c0 2.332 1.163 4.41 2.981 5.769V16l2.724-1.495c.727.201 1.497.31 2.295.31 4.418 0 8-3.317 8-7.408C16 3.317 12.418 0 8 0zm.795 9.975L6.758 7.802 2.783 9.975l4.372-4.642 2.087 2.173 3.926-2.173-4.373 4.642z"});break;case"pinterest":r="0 0 16 16",n=i.createElement("path",{fill:"#e60023",d:"M5.644 15.648A8.01 8.01 0 0 0 8 16a8 8 0 1 0-2.847-.521c-.073-.625-.151-1.655.017-2.378.145-.621.934-3.958.934 -3.958s-.238-.477-.238-1.183c0-1.107.642-1.934 1.44-1.934.68 0 1.008.51 1.008 1.122 0 .683-.435 1.705-.66 2.652-.187.792.398 1.439 1.18 1.439 1.416 0 2.504-1.493 2.504-3.647 0-1.907-1.37-3.24-3.327 -3.24-2.266 0-3.596 1.7-3.596 3.456 0 .684.264 1.418.593 1.817a.238.238 0 0 1 .055.229c-.06.252-.195.792-.221.903-.035.146-.116.177-.267.107C3.581 10.4 2.96 8.946 2.96 7.778c0-2.512 1.825-4.82 5.262-4.82 2.763 0 4.91 1.97 4.91 4.6 0 2.745-1.73 4.954-4.133 4.954-.807 0-1.566-.42-1.825-.914 0 0-.4 1.52-.496 1.893-.188.722-.71 1.637-1.033 2.157z"});break;case"link":o=i.createElement("circle",{cx:"8",cy:"8",r:"15",fill:"#EFEFEF"}),n=i.createElement("path",{fill:"#8e8e8e",d:"M6.555 7.236L4.848 8.943l-2.389 2.39 2.21 2.21 2.39-2.39 1.707-1.707.82.821a.92.92 0 0 1 .006 1.301l-4.166 4.167a.926.926 0 0 1-1.302-.005L.272 11.878a.92.92 0 0 1-.005-1.302L4.433 6.41a.924.924 0 0 1 1.302.005l.82.821zM9.45 8.764l1.707-1.707 2.389-2.389-2.21-2.211-2.39 2.389-1.707 1.707-.82-.82a.921.921 0 0 1-.006-1.302L10.578.265a.924.924 0 1 1.301.006l3.853 3.852a.92.92 0 0 1 .004 1.301l-4.165 4.167a.924.924 0 0 1-1.302-.006l-.82-.82zm-4.573.889l4.779-4.78 1.473 1.474-4.779 4.78-1.473-1.474z"});break;default:n=null}return i.createElement("svg",{width:"36",height:"36",viewBox:r},o,n)}var Q=n("8e8Q");function Y(e){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),e}function $(e,t){return!t||"object"!==Y(t)&&"function"!=typeof t?re(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}function ne(e,t){return(ne=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(e){function o(){var e,c;X(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oe(re(re(c=$(this,(e=ee(o)).call.apply(e,[this].concat(n))))),"state",{showShareLink:!1,pinterestProfileLink:"",fb:null}),oe(re(re(c)),"selectText",function(e){e.target.select()}),oe(re(re(c)),"openSocialDialog",function(e,t){var n=c.props,r=n.handleShare,o=n.dismissModal,a=n.experienceComplete,i;switch(e){case"facebook":K.default.logIn(c.state.fb,function(){q.a.shareFacebookInvite(c.getShareOptions(5))});break;case"messenger":K.default.logIn(c.state.fb,function(){q.a.shareFbMessengerInvite(c.getShareOptions(6))});break;case"link":i=c.getShareOptions(12),q.a.createAndLogShareInvite(i).then(function(e){var t=e.invite_url;t?c.setState({pinterestProfileLink:t,showShareLink:!0}):r&&r()});break;default:r&&r()}"link"!==e&&(a&&a(),o(!0))}),oe(re(re(c)),"handleShareLinkDismiss",function(e){c.setState({showShareLink:!1})}),oe(re(re(c)),"handleFacebookClick",function(e){c.openSocialDialog("facebook",e)}),oe(re(re(c)),"handleMessengerClick",function(e){c.openSocialDialog("messenger",e)}),oe(re(re(c)),"handlePinterestClick",function(e){c.openSocialDialog("pinterest",e)}),oe(re(re(c)),"handleLinkClick",function(e){c.openSocialDialog("link",e)}),c}return te(o,e),J(o,[{key:"componentDidMount",value:function e(){var t=this;K.default.ensureInit(function(e){return t.setState({fb:e})})}},{key:"getShareOptions",value:function e(t){var n=this.props.pin;return{invite_channel:t,object_type:Q.a.PIN,object_id:n.id,name:"",description:n.description||"",path:"/pin/".concat(n.id,"/"),picture:n.images&&n.images["236x"]&&n.images["236x"].url||""}}},{key:"render",value:function e(){var t=this.props.close,n=this.state,r=n.pinterestProfileLink,i=n.showShareLink,c=g.a.createElement(Z.a,{link:r,handleClick:this.handleShareLinkDismiss,handleFocus:this.selectText}),o=function e(t,n,r){var o="share-upsell-label-"+t,a="";return"facebook"===t?a="#3b5998":"messenger"===t&&(a="#1da1f2"),"link"===t&&i?c:g.a.createElement(k.O,{onTouch:function e(t){var n=t.event;return r(n)},fullWidth:!1},g.a.createElement(k.b,{display:"flex",paddingY:2,alignItems:"center"},g.a.createElement(G,{name:t}),g.a.createElement(k.h,{xs:1}),g.a.createElement("div",{id:o},g.a.createElement(k.K,{size:"xl",bold:!0},g.a.createElement("span",{style:{color:a}},n)))))},a;return g.a.createElement(k.b,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}}},g.a.createElement("div",null,g.a.createElement(k.b,{paddingX:6,flex:"none"},g.a.createElement(k.b,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:16,right:16}}},g.a.createElement(k.o,{icon:"cancel",onClick:t,accessibilityLabel:w.a._("Cancel"),size:"sm"})),g.a.createElement(k.m,{size:"md"},w.a._("Saved!","Save pin to board")),g.a.createElement(k.b,{paddingY:3,marginRight:8},g.a.createElement(k.K,{size:"xl"},w.a._("Know someone who might like it?","Upsell share a recently saved pin to board"))),g.a.createElement(k.b,{paddingY:2,flex:"none"},o("facebook",w.a._("Send on Facebook"),this.handleFacebookClick),o("messenger",w.a._("Send on Messenger"),this.handleMessengerClick),o("pinterest",w.a._("Send on Pinterest"),this.handlePinterestClick),o("link",w.a._("Send a link"),this.handleLinkClick)))),g.a.createElement(k.h,{xs:1}))}}]),o}(i.Component),ie=n("FTnl"),ce=n("MSpZ"),le=n("kxCB"),se=n("EfF6"),ue=n("5tOk"),fe=n("MH3C"),de=n("D+PP"),pe=n("y2lE"),he=n("g5tP");function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){Ce(t,e,n[e])})}return t}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t&&ve(e.prototype,t),n&&ve(e,n),e}function Ee(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?Se(e):t}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function we(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return je}),n.d(t,"d",function(){return Be}),t.b=Fe,t.c=Me;var ke=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>)]+/gi,je=4e3,Pe=660,xe=540,Ie="236x",Te="PinPanePinMeta",Re=236,Be={LOADING:"loading",SUCCESS:"success"},Le=function(e){function o(){var e,v;ye(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ce(Se(Se(v=Ee(this,(e=_e(o)).call.apply(e,[this].concat(n))))),"state",{pinDescription:v.props.pin&&v.props.pin.description||"",showSharingUpsell:!1,resolve:void 0,experienceComplete:function e(){},experienceDismiss:function e(){},newPin:null,boardSavedTo:null,height:0,sharing:{facebook:!1,twitter:!1},modalTitle:v.props.showCreate?w.a._("Create board"):w.a._("Choose board")}),Ce(Se(Se(v)),"setModalTitle",function(e){return v.safeSetState({modalTitle:e})}),Ce(Se(Se(v)),"setPWTSaveRequestTiming",function(e,t){e?(v.setPWTAbort(),ce.a.sendEvent(new l.a)):t&&ce.a.sendEvent(new s.a({result:t}))}),Ce(Se(Se(v)),"getPinHeight",function(){var e,t=(v.props.pin.images["236x"]||{}).height||0,n=document.getElementById(Te);return n&&t?n.clientHeight+t:0}),Ce(Se(Se(v)),"unmounted",!1),Ce(Se(Se(v)),"safeSetState",function(e,t){v.unmounted?t&&t():v.setState(e,t)}),Ce(Se(Se(v)),"scrollToRelatedPins",function(){document&&document.documentElement&&"scrollBehavior"in document.documentElement.style?window.scroll({top:v.state.height,left:0,behavior:"smooth"}):window.scrollTo(0,v.state.height)}),Ce(Se(Se(v)),"handleBoardSaveSuccess",function(o,e,a){var t=v.props,i=t.action,c=t.dispatch,n=t.pin,r=t.setCompletionPromise,l=t.viewerUserId;h.default.instance.refreshPlacedExperiences(),v.setPWTSaveRequestTiming(!1,1);var s=h.default.instance.getPlacedExperience(33),u=h.default.instance.getPlacedExperience(11),f;if(r(v._makeCancelablePromise(new Promise(function(e,t){var n=o.resource_response.data;v._triggerPubSubs(n);var r=v.state.pinDescription.match(ke)||[];0<r.length&&v.props.contextLog(2,{element:10273,hashtags:JSON.stringify(r),objectId:v.props.pin.id}),"repin"===i?(v._fetchBoardRecommendation(n).then(function(e){v._showSuccessToast(e,n,a)}),s&&500388===s.experience_id?v.safeSetState({showSharingUpsell:!0,newPin:n,resolve:e}):e(n)):("create"===i&&u&&500840===u.experience_id&&(c(m(!0)),v.props.contextLog(7510,{component:13233})),e(n))}))),c(Object(he.c)(e)),c(Object(se.d)({boardId:e.id,sectionId:a&&a.id,increment:1})),l&&c(Object(de.a)({userId:l,increment:1})),a||!e.image_cover_url){var d=n.image_url,p=n.images;e.image_cover_url=d||p[Ie]&&p[Ie].url||"",c(Object(he.e)({},e))}a&&c(Object(b.a)(a.id)),c(y(n.id,!0))}),Ce(Se(Se(v)),"_adjustHeightToPin",function(){0===v.state.height&&(v.safeSetState({height:Pe}),v.props.onHeightChange&&v.props.onHeightChange(Pe))}),Ce(Se(Se(v)),"close",function(){var e=v.props,t=e.contextLog,n=e.onClose;v.experienceDismiss&&v.experienceDismiss(),n&&(v.setPWTAbort(),n(),t(2502,{component:5,element:610}))}),Ce(Se(Se(v)),"handleSaveToBoard",function(t,n){if(!v.state.boardSavedTo){v.setPWTSaveRequestTiming(!0);var r="secret"===(t.privacy||""),o={board:n?n.id:t.id,state:Be.LOADING};v.safeSetState({boardSavedTo:o},function(){var e;v._getPinResource(r,t.id,(n||{}).id).callCreate({showError:!0}).then(function(e){v.safeSetState({boardSavedTo:Object.assign(o,{state:Be.SUCCESS})},function(){return v.handleBoardSaveSuccess(e,t,n)})}).catch(function(e){v.unmounted||v.safeSetState({boardSavedTo:null}),v.setPWTSaveRequestTiming(!1,3);var t=v._makeCancelablePromise(Promise.reject(e));v.props.setCompletionPromise(t)})})}}),Ce(Se(Se(v)),"handleSocialConnectSet",function(e,t){var n=Object.assign({},v.state.sharing);e===f.default.FACEBOOK?n.facebook=t:e===f.default.TWITTER&&(n.twitter=t),v.safeSetState({sharing:n})}),Ce(Se(Se(v)),"updateDescription",function(e){v.safeSetState({pinDescription:e})}),Ce(Se(Se(v)),"handleLogToastClick",function(){v.props.contextLog(101,{component:20,view:52})}),Ce(Se(Se(v)),"_makeCancelablePromise",function(e){var r=!1,t;return{promise:new Promise(function(t,n){e.then(function(e){return r?n({isCanceled:!0}):t(e)}),e.catch(function(e){return n(r?{isCanceled:!0}:e)})}),cancel:function e(){r=!0}}}),Ce(Se(Se(v)),"_getPinResource",function(e,t,n){var r=v.props,o=r.color,a=r.location,i=r.pin,c=r.method,l=r.guid,s=r.additionalCreateFields,u=r.advertiser_id,f;i.id&&(f=Object(_.a)(i,a)||"".concat(i.tracking_params,"~0"));var d=i.id?"RepinResource":"PinResource",p=!i.id&&i.image_url?Object(fe.b)(i.image_url,i.link):"",h=me({},s,{board_id:t||"",color:o||"",clientTrackingParams:f,description:v.state.pinDescription,guid:l||"",link:i.link,image_base64:i.image_base64,image_url:p,is_buyable_pin:!1,is_removable:i.promoted_is_removable,media_upload_id:i.media_upload_id,method:c||"",pin_id:i.id||"",section:n,title:i.title||""},u?{advertiser_id:u}:{});if(!e){var b=v.state.sharing,m=b.facebook,y=b.twitter;h.share_facebook=m,h.share_twitter=y}return U.a.create(d,h)}),Ce(Se(Se(v)),"_triggerPubSubs",function(e){M.a.instance.publish("currentUser","pinCreated",e),M.a.instance.publish(e.board.id,"pinCreated",{pin:e}),"repin"===v.props.action&&(M.a.instance.publish(e.board.id,"pinRepinned",e),M.a.instance.publish(v.props.pin.id,"pinRepinned",e))}),Ce(Se(Se(v)),"_showSuccessToast",function(e,t,n){var r=v.props,o=r.hideAllToasts,a=r.showSuccessToast,i=r.showToast;if(a&&!v.state.showSharingUpsell){o();var c=t.board,l=c.image_cover_url,s=c.name,u=c.url,f;if(f=n?[Object(ue.c)(w.a._("Saved to {{sectionName}} in {{boardName}}","Toast for successfully saving to a section within a board"),{sectionName:n.title,boardName:s})]:[w.a._("Saved to"),s],i(function(e){var t=e.onHide;return g.a.createElement(ie.a,{duration:je,onHide:t,text:f,href:n?"".concat(u).concat(n.slug):u,imageUrl:l,onClick:v.handleLogToastClick})}),e){var d=e.name,p=e.url,h=e.image_thumbnail_url;i(function(e){var t=e.onHide;return g.a.createElement(ie.a,{duration:je,onHide:t,text:[w.a._("You might also like","Post repin suggested board"),d],href:p,imageUrl:h,onClick:v.handleLogToastClick})})}}}),Ce(Se(Se(v)),"_fetchBoardRecommendation",function(e){var t;return U.a.create("RelatedBoardForPinRandomFeedResource",{pin:e.id,page_size:1}).callGet({showError:!1}).then(function(e){return Promise.resolve(e.resource_response.error?null:e.resource_response.data[0])})}),Ce(Se(Se(v)),"dismissModal",function(e){var t=v.state,n=t.resolve,r=t.newPin;v.experienceDismiss&&!e&&v.experienceDismiss(),n&&n(r)}),v}return we(o,e),ge(o,[{key:"componentDidMount",value:function e(){this._adjustHeightToPin()}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){this.safeSetState({pinDescription:t.pin&&t.pin.description||t.description||""})}},{key:"componentDidUpdate",value:function e(){this._adjustHeightToPin()}},{key:"componentWillUnmount",value:function e(){this.unmounted=!0}},{key:"setPWTAbort",value:function e(){ce.a.sendEvent(new a.a({result:{COMPLETE:1,USER_ABORT:2,RESPONSE_ERROR:3,RESPONSE_TIMEOUT:4,NETWORK_ERROR:5,CLIENT_SOFTWARE_ERROR:6,OTHER:7,NAVIGATE_AWAY:8,EXIT_APP:9,BACKGROUND_APP:10,COMPLETE_WITHOUT_CONTENT:11}.ABORTED}))}},{key:"renderFlyoutBoardCreate",value:function e(){var t=this.props,n=t.anchorRef,r=t.pin,o=t.isCloseupPin;return g.a.createElement(c.a,{anchorRef:n,dismissHandler:this.close,shownWithinMasonry:!o,saving:!(!this.state.boardSavedTo||this.state.boardSavedTo.state!==Be.SUCCESS),image:r.images.orig,name:"",onCancel:this.close,onCreate:this.handleSaveToBoard,pinId:r.id})}},{key:"render",value:function e(){var o=this;if(!this.props.pin&&!this.props.resourceLoaded)return null;var t=this.props,n=t.color,a=t.pin,r=t.isInModal,i=t.isInCacheExperiment,c=t.onCloseAndShare,l=t.showCreate,s=t.showFlyout,u=t.suggestedBoardTitle,f=this.state,d=f.showSharingUpsell,p=f.boardSavedTo,h,b,m=f.height||660;if(s)return this.renderFlyoutBoardCreate();var y=g.a.createElement(k.b,{position:"relative",height:m,width:"100%",display:"flex",justifyContent:"center"},g.a.createElement(k.b,{color:"white",display:"flex",height:"100%",overflow:"hidden",position:"relative",shape:"rounded",width:"100%"},g.a.createElement(k.b,{width:"40%",direction:"column",display:"flex",justifyContent:"between",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid #f5f5f5"}}},g.a.createElement(k.b,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"start",direction:"column",marginTop:3},g.a.createElement(S.a,{color:n,pin:a,updateDescription:this.updateDescription})),g.a.createElement(N,{onSocialConnect:this.handleSocialConnectSet})),d?g.a.createElement(E.a,{placementId:33,experienceIds:[500388]},function(e){var t=e.complete,n=e.dismiss,r=e.display_data;return o.experienceComplete=t,o.experienceDismiss=n,g.a.createElement(ae,{handleShare:c,close:o.close,experienceComplete:t,pin:a,dismissModal:o.dismissModal})}):g.a.createElement(k.b,{display:"flex",width:"60%"},g.a.createElement(v.a,{boardSavedTo:p,isRepin:!0,isInCacheExperiment:i,onBoardSave:this.handleSaveToBoard,onClose:this.close,pinId:a.id,showCreate:l,suggestedBoardTitle:u,setModalTitle:r?this.setModalTitle:void 0}))));return r?g.a.createElement(O.a,{accessibilityCloseLabel:w.a._("Close"),accessibilityModalLabel:this.state.modalTitle,onDismiss:this.close,heading:this.state.modalTitle,size:"lg"},y):y}}]),o}(i.Component);function De(e){var t=e.advertiser,n=e.viewer,r=e.location,o=n.isAuth&&t&&t.owner_user_id!==n.id?t.id:null;return me({location:r},o?{advertiser_id:o}:{},n.isAuth?{viewerUserId:n.id}:{})}Ce(Le,"defaultProps",{pwtAuxData:{}});var Ae=Object(p.compose)(Object(r.connect)(De),le.a,pe.a,Object(o.b)({name:"FakePinResource",key:"pin",options:function e(t){var n;return me({},t.fakeResource.options)}}))(Le);function Fe(e){return g.a.createElement(Ae,Object.assign({action:"create"},e))}var Ne=Object(p.compose)(Object(r.connect)(De),le.a,pe.a)(Le);function Me(e){return g.a.createElement(Ne,Object.assign({action:"repin"},e))}},n9Oa:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o={"":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"c","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"s","":"u","":"u","":"u","":"u"},l=function e(t){if(!t)return"";for(var n="",r=0;r<t.length;r+=1)n+=o[t.charAt(r)]||t.charAt(r);return n},a=function e(t,n){for(var r=n.split(" "),o=t.split(" "),a=0,i=0;i<o.length;i+=1){var c;(l(o[i]).includes(r[a])||o[i].includes(r[a]))&&(a+=1)}return a===r.length},r=function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"name",o=n.toLowerCase();return t.filter(function(e){return a(e[r].toLowerCase(),o)})}},p58k:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n.d(t,"a",function(){return s});var i={row:0,section:0},c={row:-1,section:-1},l=function e(){},s=function(){function t(e){r(this,t),this.index=Object.assign({},i),this.sections=e,this.updateCallback=l,this.selectItem=l}return a(t,[{key:"getIndex",value:function e(){return this.index}},{key:"isAtStart",value:function e(){var t=this.index,n=t.row,r=t.section;return 0===n&&0===r}},{key:"isAtEnd",value:function e(){var t=this.index,n=t.row,r=t.section,o=this.sections[r]||[];return this.sections.length===r+1&&o.length===n+1}},{key:"next",value:function e(){if(!this.isAtEnd()){var t=this.index,n=t.row,r=t.section;n===c.row&&r===c.section?this.index=Object.assign({},i):this.sections[r].length>n+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}}},{key:"prev",value:function e(){if(!this.isAtStart()){var t=this.index,n=t.row,r=t.section;if(n===c.row&&r===c.section)this.index=Object.assign({},i);else if(0<n)this.index.row-=1;else{var o=this.index.section-1;this.index={section:o,row:this.sections[o].length-1}}this.updateCallback(!0)}}},{key:"select",value:function e(){var t=this.index,n=t.row,r=t.section;this.selectItem((this.sections[r]||[])[n])}},{key:"setInactive",value:function e(){this.index=Object.assign({},c),this.updateCallback()}},{key:"setSelectItem",value:function e(t){this.selectItem=t}},{key:"setUpdateCallback",value:function e(t){this.updateCallback=t}},{key:"updateIndex",value:function e(t){this.index=t,this.updateCallback()}}]),t}()},"pN+K":function(e,t,n){"use strict";t.a=x,t.c=D;var u=n("d6ZO"),r=n.n(u),o=n("DUIN"),a=n("lJK6"),b=n("FfPm"),i=n("IaRT"),c=n.n(i),l=n("S+Qs");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function f(e,t){if(null==e)return{};var n=d(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function d(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function p(e){return y(e)||m(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function y(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){j(t,e,n[e])})}return t}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function w(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?k(e):t}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function e(t,n){return JSON.stringify(t)===JSON.stringify(n)};function x(e,t){return Object(a.a)("function"==typeof e?e(t):e||{})}var I=function e(t){var h={};return function(c){return function(e,s){var t=e.resources,r=t.fetching,u=t.data,n=c.some(function(e){var t=e.name,n=e.options;return r[t]&&r[t][x(n,s)]}),f={},d,p=[];c.forEach(function(e){var t=e.name,n=e.options,r=e.key;if(u[t]){var o=x(n,s);if(h[t]||(o in u[t]?b.default.increment("webapp.withResource.cache-hit",.05,{resource:t,cache_size:Object.keys(u[t]).length,level:"success",v:1}):Object.keys(u[t]).length?b.default.increment("webapp.withResource.populated-cache-miss",.05,{resource:t,cache_size:Object.keys(u[t]).length,level:"error",v:1}):b.default.increment("webapp.withResource.empty-cache-miss",.05,{resource:t,cache_size:Object.keys(u[t]).length,level:"warn",v:1})),h[t]=!0,u[t][o]){var a=u[t][o],i=a.data,c=a.nextBookmark,l=a.error;f[r]=i,p.push(c),l&&(d=l)}}else b.default.increment("webapp.withResource.no-cache",.05,{resource:t,cache_size:0,level:"error",v:1})});var o=c.every(function(e){var t=e.key;return void 0!==f[t]}),a,i;return{resourceLoaded:o,isAtEnd:o&&!n&&p.every(function(e){return"-end-"===e}),isFetching:n,nextBookmark:p[0],resourceData:f,error:d}}}},T=function e(i){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(s){var e,t;return t=e=function(e){function a(){var e,t;g(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return j(k(k(t=w(this,(e=O(a)).call.apply(e,[this].concat(r))))),"loadData",function(o){var a=c;i.forEach(function(e){var t=e.options,n=e.name,r="function"==typeof t?t(o):t;o.dispatch(Object(l.a)(n,r,void 0,void 0,a.traceLoggerHandlerName))})}),j(k(k(t)),"loadMoreData",function(o){var a=c;i.forEach(function(e){var t=e.options,n=e.name,r="function"==typeof t?t(o):t;o.dispatch(Object(l.d)(n,r,void 0,void 0,a.traceLoggerHandlerName))})}),j(k(k(t)),"resourcesHash",JSON.stringify(i.map(function(e){return v({},e,{options:x(e.options,t.props)})}))),t}return S(a,e),_(a,[{key:"componentDidMount",value:function e(){!1!==c.allowStale&&this.props.resourceLoaded||this.loadData(this.props)}},{key:"shouldComponentUpdate",value:function e(t){var n=p(Object.keys(this.props)).concat(p(Object.keys(t))),r=!0,o=!1,a=void 0;try{for(var i=n[Symbol.iterator](),c;!(r=(c=i.next()).done);r=!0){var l=c.value;if("resourceData"===l){if(!P(this.props.resourceData,t.resourceData))return!0}else if(this.props[l]!==t[l])return!0}}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return!1}},{key:"UNSAFE_componentWillUpdate",value:function e(t){!this.props.resourceLoaded&&t.resourceLoaded&&this.props.onResourceLoaded&&this.props.onResourceLoaded(),!this.props.error&&t.error&&this.props.onResourceError&&this.props.onResourceError(t.error);var n=JSON.stringify(i.map(function(e){return v({},e,{options:x(e.options,t)})}));this.resourcesHash!==n&&(this.loadData(t),this.resourcesHash=n)}},{key:"render",value:function e(){var t=this,n=this.props,r=n.error,o=n.isAtEnd,a=n.isFetching,i=n.resourceData,c=n.resourceLoaded,l=f(n,["error","isAtEnd","isFetching","resourceData","resourceLoaded"]);return delete l.onResourceError,delete l.onResourceLoaded,u.createElement(s,Object.assign({},i,l,{error:r,fetchMoreData:function e(){return t.loadMoreData(t.props)},isAtEnd:o,isFetching:a,refreshData:function e(){return t.loadData(t.props)},resourceLoaded:c}))}}]),a}(u.Component),j(e,"WrappedComponent",s),j(e,"displayName",1===i.length?i[0].name:"".concat(i.length," resources")),t}},R=function e(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e){var t={name:n.name,options:n.options||{},key:n.key||"data"};return Object(o.connect)(I(e)([t]))(T([t],r)(e))}},B=R;t.b=R;var L=function e(t){var a=t.name,i=t.options;return function(e,t){var n=e.resources.data;if(n[a]){var r=x(i,t),o;if(n[a][r])return{data:n[a][r].data}}return{data:null}}};function D(e){var t=e.name,n=e.options;return Object(o.connect)(L({name:t,options:n||{}}))}},pOmq:function(e,t,n){"use strict";function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}t.a=r},qtmg:function(e,t,n){"use strict";var r=n("d6ZO"),d=n.n(r),p=n("W/Cr"),h=n("xfx3"),o=n("THYI"),i=n.n(o),a=n("GU18"),b=n("suNN"),m=n("gEaE");function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?E(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=5,O=27,S=38,C=40,k=13,j=function(e){function a(){var e,n;l(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return _(E(E(n=f(this,(e=y(a)).call.apply(e,[this].concat(r))))),"state",{isOpen:n.props.editing,recommendations:[],selectedIndex:0,resourceLoaded:!1}),_(E(E(n)),"onDismiss",function(){n.setState({isOpen:!1})}),_(E(E(n)),"mounted",!1),_(E(E(n)),"addHashtag",function(e){n.props.addHashtag(e),n.setState({recommendations:[]})}),_(E(E(n)),"handleKeyDown",function(e){38===e.keyCode?n.handlePrevHashtag(e):40===e.keyCode?n.handleNextHashtag(e):27===e.keyCode?n.handleClose(e):13===e.keyCode&&n.handleSubmit(e)}),_(E(E(n)),"handlePrevHashtag",function(e){e.preventDefault(),0<n.state.selectedIndex&&n.setState(function(e){return{selectedIndex:e.selectedIndex-1}})}),_(E(E(n)),"handleNextHashtag",function(e){e.preventDefault(),n.state.selectedIndex<n.state.recommendations.length-1&&n.setState(function(e){return{selectedIndex:e.selectedIndex+1}})}),_(E(E(n)),"handleClose",function(e){e.preventDefault(),n.setState({recommendations:[]})}),_(E(E(n)),"handleSubmit",function(e){e.preventDefault(),n.addHashtag(n.state.recommendations[n.state.selectedIndex].query)}),_(E(E(n)),"callResource",function(e){var t;(0,n.props.makeCancelablePromise)(i.a.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then(function(e){if(n.mounted){var t=e.resource_response.data;n.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}}).catch(function(e){var t;e.isCanceled||n.setState({resourceLoaded:!1})})}),n}return v(a,e),u(a,[{key:"componentDidMount",value:function e(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){t.query!==this.props.query&&""!==t.query&&this.callResource(t.query)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}},{key:"render",value:function e(){var r=this,t=this.state,n=t.recommendations,o=t.resourceLoaded,a=t.selectedIndex,i=this.props,c=i.anchor,l=i.idealDirection,s=n.filter(function(e){return e.query}),u=l||"down",f="flyout_"+s.length;return o&&0<s.length?d.a.createElement("div",{className:"HashtagFlyout"},d.a.createElement(m.k,{key:f,anchor:c,idealDirection:u,onDismiss:this.onDismiss,size:"sm"},d.a.createElement("div",{className:"HashtagRecommendations"},0<s.length?s.map(function(n,e){return d.a.createElement("div",{className:"HashtagItem",key:n.query},d.a.createElement(m.O,{onTouch:function e(t){return r.addHashtag(n.query)},fullWidth:!1},d.a.createElement(m.b,{display:"flex",justifyContent:"between",alignItems:"center",color:e===a?"lightGray":"transparent",deprecatedPadding:1},d.a.createElement(m.b,{flex:"grow"},d.a.createElement(m.K,{inline:!0,size:"sm",bold:!0},n.query)),d.a.createElement(m.b,{flex:"none"},d.a.createElement(m.K,{inline:!0,size:"xs"},Object(b.b)(p.a.ngettext("{{ count }} pin","{{ count }} pins",Number(n.pin_count),"label for n pins in hashtag flyout"),{count:d.a.createElement(h.a,{value:Number(n.pin_count),key:"pinCount"})}))))))}):null))):null}}]),a}(d.a.Component);t.a=Object(a.a)(j)},"r/ec":function(e,t,n){"use strict";var r=n("d6ZO"),o=n.n(r),a=n("impO");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function c(e,t){if(null==e)return{};var n=l(e,t),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,a;for(a=0;a<r.length;a++)o=r[a],0<=t.indexOf(o)||(n[o]=e[o]);return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function d(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?m(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function a(){var e,o;s(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(m(m(o=d(this,(e=p(a)).call.apply(e,[this].concat(n))))),"renderFlyout",function(){var e=o.props,t=e.setActive,n=e.showOnTopOfModal,r;t("flyout",c(e,["setActive","showOnTopOfModal"]),n||!1)}),o}return h(a,e),f(a,[{key:"componentDidMount",value:function e(){this.renderFlyout()}},{key:"componentDidUpdate",value:function e(){this.renderFlyout()}},{key:"componentWillUnmount",value:function e(){this.props.setActive()}},{key:"render",value:function e(){return null}}]),a}(r.Component),g=function e(t){return r.createElement(a.a.Consumer,null,function(e){return r.createElement(v,Object.assign({},t,{setActive:e}))})};g.displayName="MasonryFlyout",t.a=g},rv2a:function(e,t,n){"use strict";var s=n("d6ZO"),r=n.n(s),u=n("gEaE"),o=function e(t){var n=t.children,r=t.description,o=t.error,a=t.id,i=t.label,c=t.required,l=t.onLabelTouch;return s.createElement(u.b,null,s.createElement(u.b,{marginBottom:1},s.createElement(u.q,{htmlFor:a},s.createElement(u.K,{color:o?"orange":"darkGray"},i,c&&s.createElement(u.K,{color:"orange",bold:!0,inline:!0},s.createElement("span",{"aria-hidden":"true"},"*"))))),n,(!!o||!!r)&&s.createElement(u.q,{htmlFor:a},s.createElement(u.b,{marginTop:1},l?s.createElement(u.O,{onTouch:l},s.createElement(u.K,{color:o?"orange":"darkGray",size:"sm"},o||r)):s.createElement(u.K,{color:o?"orange":"darkGray",size:"sm"},o||r))))};t.a=o},sYje:function(e,t,n){"use strict";var o=n("ZIw6"),r=n("THYI"),l=n.n(r),i=n("JMBu"),a=3,c={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,community:7},_convertToInviteObject:function e(t){return this.ObjectTypeToInviteObject[t]||0},_logShareInvite:function e(t,n){var r=this._convertToInviteObject(t.object_type),o=t.invite_channel,a=null==t.invite_category?3:t.invite_category,i=t.object_id,c;return l.a.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:a,invite_object:r,invite_channel:o},invite_code:n,object_id:i}).callCreate()},createAndLogShareInvite:function e(t){return c.createShareInviteData(t).then(function(e){return c._logShareInvite(t,e.invite_code),Promise.resolve(e)},function(e){return Promise.reject(e)})},createShareInviteData:function e(t){var n=this._convertToInviteObject(t.object_type),r=t.invite_channel,o=null==t.invite_category?3:t.invite_category,a=t.object_id,i;return l.a.create("CreateExternalInviteResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:r},object_id:a}).callCreate().then(function(e){return Promise.resolve(e.resource_response.data)},function(e){return Promise.reject(e)})},logShareInvite:function e(t,n){n&&c._logShareInvite(t,n.invite_code)},shareFacebookInvite:function e(r){return c.createShareInviteData(r).then(function(e){var t=e.invite_url,n=e.invite_code;return t&&o.default.open({type:"share",object_type:r.object_type,object_id:r.object_id,name:r.name,caption:e.title,description:r.description,path:t,picture:r.picture,callback:function e(t){t&&t.success&&c._logShareInvite(r,n)}}),Promise.resolve(e)},function(e){return Promise.reject(e)})},shareTwitterInvite:function e(o){var a=this._convertToInviteObject(o.object_type);return c.createShareInviteData(o).then(function(e){var t=e.invite_url,n=e.invite_code,r=o.description;return 6===a&&o.name&&(r=o.name),t&&i.a.openDialog({tweet_path:t,tweet_text:r}),c._logShareInvite(o,n),Promise.resolve(e)},function(e){return Promise.reject(e)})},shareFbMessengerInvite:function e(r){return c.createShareInviteData(r).then(function(e){var t=e.invite_url,n=e.invite_code;return t&&o.default.open({type:"send",object_type:r.object_type,object_id:r.object_id,name:r.name,caption:e.title,description:r.description,path:t,picture:r.picture,callback:function e(t){t&&t.success&&c._logShareInvite(r,n)}}),Promise.resolve(e)},function(e){return Promise.reject(e)})}};t.a=c},skut:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n("d6ZO"),o=n.n(r),a=n("IaRT"),i=n.n(a),c=n("j1/O");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){v(t,e,n[e])})}return t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?y(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function a(){var e,r;u(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return v(y(y(r=p(this,(e=h(a)).call.apply(e,[this].concat(n))))),"searchCache",Object.create(null)),v(y(y(r)),"lastSearchedQuery",null),v(y(y(r)),"search",function(n){(r.lastSearchedQuery=n)in r.searchCache?r.props.onTypeaheadSuggestionsChange(r.searchCache[n],n):r.provider.search(n,function(e){var t=e.items;r.searchCache[n]=t,n===r.lastSearchedQuery&&r.props.onTypeaheadSuggestionsChange(t,n)})}),r}return b(a,e),d(a,[{key:"componentDidMount",value:function e(){var t=this.props.resourceOptions||{};this.provider=new c.a(s({resource_name:this.props.resourceName},t));var n=this.props.value;null!=n&&this.props.allowSearchOnMount&&this.search(this.props.value)}},{key:"UNSAFE_componentWillReceiveProps",value:function e(t){var n=t.value;null!=n&&n!==this.props.value&&this.search(n)}},{key:"render",value:function e(){return this.props.children||null}}]),a}(r.Component);v(g,"defaultProps",{resourceName:"TypeaheadResource"})},vBru:function(e,t,n){"use strict";var b=n("d6ZO"),m=n.n(b),r=n("DUIN"),y=n("WxTF"),v=n("BAXv"),g=n("CogI"),E=n("W/Cr"),_=n("hkVh"),o=n("NyaW"),w=n("gEaE");function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function a(){var e,t;i(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return h(p(p(t=s(this,(e=u(a)).call.apply(e,[this].concat(r))))),"handleBoardCreateFormSubmit",function(e){e.preventDefault(),t.props.onBoardCreate()}),t}return f(a,e),l(a,[{key:"render",value:function e(){var t=this.props,n=t.createBoardError,r=t.inputName,o=t.nameValidatorErrors,a=t.onCancel,i=t.onChangeBoardName,c=t.onChangeBoardPrivacy,l=t.onInvite,s=t.privacy,u=t.saving,f=t.showTitle,d=t.isAdAccountOwner,p=0===o.length,h=s===v.a.BoardPrivacy.SECRET;return m.a.createElement(w.b,{color:"white",height:"100%",position:"absolute",width:"100%",top:!0,left:!0},m.a.createElement("form",{onSubmit:this.handleBoardCreateFormSubmit,style:{height:"100%"}},m.a.createElement(w.b,{direction:"column",display:"flex",height:"100%"},f&&m.a.createElement(w.b,{display:"flex",marginTop:3,paddingX:6,paddingY:3},m.a.createElement(w.K,{size:"xl",bold:!0},E.a._("Create board"))),m.a.createElement(w.b,{padding:3},m.a.createElement(w.b,{marginBottom:2},m.a.createElement(w.q,{htmlFor:"boardEditName"},m.a.createElement(w.K,null,E.a._("Name")))),m.a.createElement(w.b,null,m.a.createElement(g.a,{error:o.join(", "),id:"boardEditName",name:"boardName",onChange:function e(t){var n=t.value;return i(n)},placeholder:E.a._('Like "Places to Go" or "Recipes to Make"'),value:r}))),m.a.createElement(w.j,null),d&&m.a.createElement(m.a.Fragment,null,m.a.createElement(w.b,{padding:3},m.a.createElement(w.b,{marginBottom:2},m.a.createElement(w.q,{htmlFor:"secret"},m.a.createElement(w.K,null,E.a._("Secret","secret board")))),m.a.createElement(w.b,null,m.a.createElement(w.I,{onChange:c,id:"secret",switched:h}))),m.a.createElement(w.j,null),m.a.createElement(w.b,{display:"flex",flex:"grow",overflow:"hidden"},m.a.createElement(w.b,{width:"100%"},m.a.createElement(y.a,{onSelectedCollaboratorsChange:l}))),m.a.createElement(w.j,null)),!d&&m.a.createElement(m.a.Fragment,null,m.a.createElement(w.b,{padding:3},m.a.createElement(w.b,{marginBottom:2},m.a.createElement(w.q,{htmlFor:"protected"},m.a.createElement(w.K,null,E.a._("Protected board (not listed on user's profile)","protected board")))),m.a.createElement(w.b,null,m.a.createElement(w.I,{onChange:function e(){},id:"protected",switched:!0,disabled:!0}))),m.a.createElement(w.j,null)),m.a.createElement(w.b,{padding:6},!!n&&m.a.createElement(w.b,{marginBottom:3},m.a.createElement(w.K,{align:"center",bold:!0,color:"red",size:"sm"},n)),m.a.createElement(w.b,{display:"flex",justifyContent:"between"},m.a.createElement(w.c,{inline:!0,onClick:a,text:E.a._("Cancel","cancel board create")}),m.a.createElement(_.a,{disabled:!r.trim()||!p||!!n||u,submitting:u,text:E.a._("Create","create a new board")}))))))}}]),a}(b.Component),S=Object(o.a)(O),C=n("Td/c"),k=n("JyNp"),j=n("n9Oa"),P=n("Qqx1");function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}function B(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?F(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function A(e,t){return(A=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(e){function a(){var e,o;I(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return N(F(F(o=B(this,(e=L(a)).call.apply(e,[this].concat(n))))),"getSections",function(e){var t=o.props,n=t.board,r=t.sectionsResource.data;return e.length>=P.a?[{items:Object(j.a)([n],e),customProps:{inSectionSelection:!0}},{items:Object(j.a)(r,e,"title")}]:[{items:[n],customProps:{inSectionSelection:!0}},{items:r}]}),o}return D(a,e),R(a,[{key:"render",value:function e(){var t=this.props,n=t.sectionsResource,r=n.error,o=n.isLoaded,a=t.boardSavedTo,i=t.isSelectMode,c=t.onSectionCreate,l=t.onSectionSelected,s=t.pinId;return m.a.createElement(P.b,{isSelectMode:i,boardSavedTo:a,createButtonLabel:E.a._("Add section","Button for creating a board section"),hasLoadError:!!r,isLoaded:o,getSections:this.getSections,onCreate:c,onSelected:l,pinId:s})}}]),a}(b.Component),H=Object(k.b)({name:"BoardSectionsRepinResource",key:"sectionsResource",options:function e(t){return{board_id:t.board.id}}})(M),U=n("S+Qs"),W=n("MQ2h"),z=n.n(W);function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),e}function Q(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?J(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}function V(e,t){return(V=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){ee(t,e,n[e])})}return t}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te=2,ne=3,re=void 0,oe=function e(t){var n=[],r=[];return t.forEach(function(e){e.name.match(/^\d/)?r.push(e):n.push(e)}),n.concat(r)};function ae(e,t,n){return $({},e?{pin_id:e}:{},t?{username:t}:{},n?{advertiser_id:n,filter:"protected"}:{},{field_set_key:"board_picker",limit:re,shortlist_suggestions:te})}var ie=function(e){function o(){var e,a;q(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ee(J(J(a=Q(this,(e=Y(o)).call.apply(e,[this].concat(n))))),"getSections",function(e){var t=a.props.boardResource.data;if(!t)return[];var n=t.all_boards,r=t.boards_shortlist,o=oe(n);return o.length<=3?[{items:o}]:e.length>=P.a?[{items:Object(j.a)(o,e)}]:[r.length?{items:r,title:E.a._("Top choices")}:{items:[]},{items:o,title:E.a._("All boards","title for board picker all boards section")}]}),a}return X(o,e),G(o,[{key:"render",value:function e(){var t=this.props,n=t.boardResource,r=n.data,o=n.error,a=n.isLoaded,i=t.boardSavedTo,c=t.isSelectMode,l=t.onBoardCreate,s=t.onBoardSelected,u=t.pinId,f=a&&!!r&&r.all_boards.length<=3;return m.a.createElement(P.b,{isSelectMode:c,boardSavedTo:i,hasLoadError:!!o,hasLowBoardCount:f,isLoaded:a,getSections:this.getSections,onCreate:l,onSelected:s,pinId:u})}}]),o}(b.Component);function ce(e){var t=e.advertiser,n=e.viewer;return n.isAuth&&t&&t.owner_user_id!==n.id?{advertiser_id:t.id,username:t.owner_user_id}:{}}var le=Object(W.compose)(Object(r.connect)(ce),Object(k.b)({name:"BoardPickerBoardsResource",key:"boardResource",options:function e(t){return ae(t.pinId,t.username,t.advertiser_id)}}))(ie),se=n("y2lE");function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){Ee(t,e,n[e])})}return t}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),e}function be(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?ge(e):t}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}function ve(e,t){return(ve=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _e=function(e){function o(){var e,d;de(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ee(ge(ge(d=be(this,(e=me(o)).call.apply(e,[this].concat(n))))),"state",{newName:"",selectedSectionBoard:null,showCreate:d.props.showCreate||!1,inviteQueue:{}}),Ee(ge(ge(d)),"close",function(){var e=d.state,t=e.selectedSectionBoard,n=e.showCreate,r=d.props.onClose;n?d.setState({showCreate:!1},d.manageModalTitle):t?d.setState({selectedSectionBoard:null},d.manageModalTitle):r()}),Ee(ge(ge(d)),"sendInvites",function(t){var n=d.state.inviteQueue;Object.keys(n).forEach(function(e){n[e].resource(t.id,[e])})}),Ee(ge(ge(d)),"handleInvite",function(e){var t=d.state.inviteQueue;if(t[e.id]){var n=fe({},t);delete n[e.id],d.setState({inviteQueue:n})}else{var r=Object.assign({},t,Ee({},e.id,e));d.setState({inviteQueue:r})}}),Ee(ge(ge(d)),"handleBoardSave",function(e){var t=d.state.selectedSectionBoard,n=d.props,r=n.onBoardSave,o=n.invalidatePinBetterSaveResource,a=n.invalidateResource,i=n.isInCacheExperiment,c;if(a(),i&&o(),t&&"board_section"===e.type)return r(t,e);var l=e,s=l.section_count,u,f;!t&&0<(void 0===s?0:s)?d.setState({selectedSectionBoard:l},d.manageModalTitle):(d.sendInvites(e),r(l))}),Ee(ge(ge(d)),"handleCreate",function(r){return function(e){e=e||"",d.setState({newName:e,showCreate:!0},d.manageModalTitle);var t=r?13105:13025,n=r?10306:249;d.props.contextLog(101,{component:t,element:n})}}),Ee(ge(ge(d)),"manageModalTitle",function(){var e=d.props.setModalTitle;e&&(d.state.showCreate&&d.state.selectedSectionBoard?e(E.a._("Add section","Repin title for making a board section")):d.state.showCreate?e(E.a._("Create board","Repin title for making a new board")):d.state.selectedSectionBoard?e(E.a._("Choose section","Repin title for choosing a board section")):e(E.a._("Choose board","Repin title for choosing a board")))}),d}return ye(o,e),he(o,[{key:"render",value:function e(){var t=this.props,n=t.boardSavedTo,r=t.isRepin,o=t.isSelectMode,a=t.pinId,i=t.setModalTitle,c=t.suggestedBoardTitle,l=this.state,s=l.inviteQueue,u=l.newName,f=l.selectedSectionBoard,d=l.showCreate,p=!!f,h=!i;return b.createElement(w.b,{display:"flex",width:"100%",position:"relative"},b.createElement(w.b,{width:"100%",display:"flex",direction:"column",marginTop:4},f?b.createElement(H,{isSelectMode:o,board:f,boardSavedTo:n,onSectionCreate:this.handleCreate(p),onSectionSelected:this.handleBoardSave}):b.createElement(le,{isSelectMode:o,boardSavedTo:n,onBoardCreate:this.handleCreate(p),onBoardSelected:this.handleBoardSave,pinId:a})),d&&!f&&b.createElement(S,{prefilledName:u||c,onCancel:this.close,onCreate:this.handleBoardSave,onInvite:this.handleInvite,inviteQueue:s,showTitle:h}),d&&f&&b.createElement(
C.a,{board:f,completeCreateSectionAction:this.handleBoardSave,initialName:u,isRepin:r,onClearModal:this.close,showTitle:h}))}}]),o}(b.Component);function we(t,n){return{invalidateResource:function e(){t(Object(U.f)("BoardPickerBoardsResource",ae(n.pinId)))},invalidatePinBetterSaveResource:function e(){t(Object(U.f)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}}}var Oe=t.a=Object(W.compose)(se.a,Object(r.connect)(null,we))(_e)},vJNz:function(e,t,n){"use strict";t.b=x;var S=n("d6ZO"),r=n.n(S),C=n("iSgY"),k=n("BAXv"),j=n("W/Cr"),P=n("gEaE");function x(o,a){var e=o&&1<o.length?new RegExp(o,"i"):"",t;return o&&1<o.length?a.split(e).reduce(function(e,t,n){if(0<e.length&&o&&o.length){var r=a.toLowerCase().indexOf(o.toLowerCase());return e.concat(S.createElement("em",{key:n,style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"}},a.substring(r,r+o.length)),t)}return[t]},[]):a}function o(e){var t=e.disabled,n=e.item,r=e.isSection,o=e.isSelectMode,a=e.isWithinSectionPicker,i=e.saveState,c=e.searchQuery,l=e.selected,s=e.size,u=r?null:n,f=r?n:null,d=f&&f.title||u&&u.name||"",p="",h=!1,b="",m=0;if(u){p=u.image_cover_url,h=u.is_collaborative,b=u.privacy;var y=u.section_count;m=void 0===y?0:y}var v=x(c,d),g=b===k.a.BoardPrivacy.SECRET,E=!t&&(l||!!i),_=!a&&0<m,w=0<m?"boardWithSection":"boardWithoutSection",O=o?j.a._("Select","Board select button label"):j.a._("Save","Pin save button label");return S.createElement(P.b,{alignItems:"center",color:E?"lightGray":"white",display:"flex",paddingX:"lg"===s?4:6,paddingY:2,"data-test-id":w},S.createElement(P.b,{height:"lg"===s?40:36,width:"lg"===s?40:36,color:"lightGray",overflow:"hidden",shape:"rounded",marginRight:2,flex:"none"},p?S.createElement(P.p,{src:p,alt:d,fit:"cover",naturalWidth:1,naturalHeight:1}):S.createElement("span",null)),S.createElement(P.b,{alignItems:"center",justifyContent:"between",display:"flex",flex:"grow"},S.createElement(P.K,{color:t?"gray":"darkGray",bold:!0,size:"lg"===s?"xl":"md",truncate:!0},v),(_||!E)&&S.createElement(P.b,{alignItems:"center",display:"flex"},g&&S.createElement(C.a,{type:"secret"}),h&&S.createElement(C.a,{type:"group"}),_&&S.createElement(C.a,{type:"sections"})),!_&&E&&!i&&S.createElement(P.b,{alignItems:"center","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,dangerouslySetInlineStyle:{__style:{backgroundColor:"#e60023",borderRadius:"4px"}}},!o&&S.createElement(P.b,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}}},S.createElement(P.n,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})),S.createElement(P.K,{bold:!0,color:"white",size:"sm",overflow:"normal"},O)),!_&&E&&"loading"===i&&S.createElement(P.b,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35},S.createElement(P.G,{accessibilityLabel:j.a._("Saving","Accessibility label for saving a pin to a board"),show:!0}))))}o.defaultProps={size:"md"},t.a=o},wUWH:function(e,t,n){"use strict";var r=n("d6ZO"),c=n.n(r),o=n("zTOp"),l=n.n(o),a=n("mHth");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){v(t,e,n[e])})}return t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?y(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function e(){return null},E=function(e){function o(){var e,i;u(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(y(y(i=p(this,(e=h(o)).call.apply(e,[this].concat(n))))),"view",function(e){var t=e.placement_id,n=e.experience_id,r;i.props.experienceClient.viewExperience(t,n)}),v(y(y(i)),"complete",function(e){var t=e.placement_id,n=e.experience_id,r=i.props,o=r.experienceClient,a=r.preventRemoval;a?o.completeExperience(t,n,a):o.completeExperience(t,n)}),v(y(y(i)),"dismiss",function(e){var t=e.placement_id,n=e.experience_id,r=i.props,o=r.experienceClient,a=r.preventRemoval;a?o.dismissExperience(t,n,a):o.dismissExperience(t,n)}),i}return b(o,e),d(o,[{key:"componentDidMount",value:function e(){if(!this.props.disableAutoView){var t=this.getExperience(this.props);t&&this.shouldRenderExperience(t)&&this.view(t)}}},{key:"componentDidUpdate",value:function e(t,n){if(!this.props.disableAutoView){var r=this.getExperience(t),o=this.getExperience(this.props);o&&this.shouldRenderExperience(o)&&(r&&r.experience_id===o.experience_id||this.view(o))}}},{key:"getExperience",value:function e(t){return t.experienceClient.experienceForPlacement}},{key:"shouldRenderExperience",value:function e(t){if(t){var n=t.type,r=t.experience_id;if(this.props.experienceIds&&this.props.experienceIds.includes(r))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===n)return!0;if(this.props.transitionType&&this.props.transitionType===n)return!0}}return!1}},{key:"render",value:function e(){var t=this,n=this.props,r=n.children,o=n.disableAutoView,a=this.getExperience(this.props);if(a&&this.shouldRenderExperience(a)&&r){if(l()(r)){var i=s({},a,{complete:function e(){return t.complete(a)},dismiss:function e(){return t.dismiss(a)}});return o&&(i.view=function(){return t.view(a)}),r(i)}return c.a.Children.only(r)}return c.a.createElement(g,null)}}]),o}(r.Component);t.a=Object(a.a)(E)},"xp+q":function(e,t){}});