webpackJsonp([121],{"1QHH":function(e,t,n){"use strict";t.a=i;var l=n("d6ZO"),o=n.n(l),r=n("DUIN"),s=n("MY3l"),a=function e(t){return{isLimitedLogin:t.viewer.isLimitedLogin,isAuth:t.viewer.isAuth}};function i(i){var e=function e(t){var n=t.dispatch,o=t.isAuth,r=t.isLimitedLogin,a=!o||r?function(e){return function(e){e&&e.stopPropagation(),n(s.a)}}:function(e){return e};return l.createElement(i,Object.assign({authAction:a},t))};return e.displayName="WithAuthenticatedAction(".concat(i.displayName||i.name,")"),Object(r.connect)(a)(e)}},A2Zo:function(e,t,n){e.exports=function(){return new Promise(function(t){n.e(35).then(function(e){t(n("0a7q"))}.bind(null,n)).catch(n.oe)})}},CrRE:function(e,t,n){"use strict";n.d(t,"a",function(){return f});var l=n("QaZX"),o=n("A2Zo"),s=n.n(o),r=n("mIxQ"),c=n.n(r),a=n("FJZF");function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){function r(e){var i=this,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=2<arguments.length?arguments[2]:void 0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];u(this,r),d(this,"onUploaderSubmit",function(e,t){i.submitCallback&&i.submitCallback(e,t)}),d(this,"onUploaderComplete",function(e,t,n){!n.success&&i.errorCallback?i.errorCallback(n,t):n.success&&i.successCallback&&i.successCallback(e,t,n)}),d(this,"onUploaderError",function(e,t,n){i.errorCallback&&i.errorCallback({error:n},t)}),d(this,"onUploaderProgress",function(e,t,n,o){var r=Math.round(n/o*100);i.progressCallback&&i.progressCallback(n,o,r,t)}),d(this,"enableUploader",function(n,e,t,o){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"unknown",a=5<arguments.length?arguments[5]:void 0;e&&(i.progressCallback=e),t&&(i.successCallback=t),o&&(i.errorCallback=o),a&&(i.submitCallback=a),s()().then(function(e){var t=e.default;i.uploader=new t.FineUploaderBasic({debug:c.a.DEBUG,button:n,dropZoneElements:[n],inputTitle:i.inputTitle,multiple:i.allowMultipleFiles,text:{defaultResponseError:"An unknown upload error occurred."},request:{endpoint:i.getUploadUrl(),inputName:"img",forceMultipart:!0,customHeaders:{"X-CSRFToken":l.a.getCSRFToken(),"X-UPLOAD-SOURCE":r},params:i.params},callbacks:{onUpload:i.onUploaderSubmit,onComplete:i.onUploaderComplete,onProgress:i.onUploaderProgress,onError:i.onUploaderError},validation:{acceptFiles:i.acceptFiles||""}}),n&&Object.assign(n.style,i.styleOverrides)})}),this.styleOverrides={overflow:"visible"},this.params=e||{},this.inputTitle=n||"file input",this.allowMultipleFiles=t,this.acceptFiles=o.join(",")}return p(r,[{key:"getUploadUrl",value:function e(){return a.a.absolutify("/upload-image/")}}]),r}()},FHbT:function(e,t,n){"use strict";var h=n("d6ZO"),o=n.n(h),y=n("Fybk"),g=n("W/Cr"),a=n("CrRE"),E=n("dZgC"),r=n("THYI"),s=n.n(r),c=n("FJZF"),v={blockConfirmation:"blockConfirmation",blockWarning:"blockWarning",editProfile:"editProfile",reportBug:"reportBug",reportBugSuccess:"reportBugSuccess",reportBugFailure:"reportBugFailure",sendProfile:"sendProfile",signupLogin:"signupLogin",unblock:"unblock"},i=v,w=n("gEaE");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function f(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?_(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function e(t){return Boolean(t.trim())},P=function(e){function t(e){var l;return u(this,t),k(_(_(l=f(this,m(t).call(this,e)))),"handleSelectListChange",function(e){var t=e.value;l.setState({bugtype:t})}),k(_(_(l)),"handleSubmit",function(i){return function(e){e.preventDefault(),e.stopPropagation(),l.setState({isSubmitting:!0});var t=window.navigator.userAgent,n=c.a.getCurrentUrl(),o;switch(l.state.bugtype){case"FEATURE_ERROR":o="Functionality";break;case"IRRELEVANT_RESULT":o="Relevance";break;case"DESIGN_ERROR":o="Visual";break;case"COPY_ERROR":o="Linguistic";break;default:o="Functionality"}var r={activatedExperiments:i,bugtype:l.state.bugtype,description:l.state.description,environment:t,platform:"web",title:l.state.title,url:n,userImpact:o,username:l.props.username,advertiserId:l.props.advertiserId,image_url:l.state.imageUrl,filename:l.state.uploadComplete},a;l.state.imageUrl&&(r.image_url=l.state.imageUrl,r.filename=l.state.uploadComplete),s.a.create("ReportErrorResource",r).callCreate().then(function(e){var t;e.resource_response.data.errorMessages?l.setState({confirmModal:v.reportBugFailure,isSubmitting:!1}):l.setState({confirmModal:v.reportBugSuccess,isSubmitting:!1})}).catch(function(){l.setState({isSubmitting:!1,confirmModal:v.reportBugFailure})})}}),k(_(_(l)),"handleClearFailure",function(){l.setState({confirmModal:!1})}),k(_(_(l)),"handleUploadFailure",function(){l.setState({uploadComplete:g.a._("Upload failed!"),uploadPercent:null})}),k(_(_(l)),"handleUploadSuccess",function(e,t,n){l.setState({imageUrl:n.image_url,uploadComplete:t,uploadPercent:null})}),k(_(_(l)),"handleTitleChange",function(e){var t=e.value;l.setState({title:t})}),k(_(_(l)),"handleDescriptionChange",function(e){var t=e.value;l.setState({description:t})}),k(_(_(l)),"uploadProgress",function(e,t,n){l.setState({uploadPercent:n,uploadComplete:!1})}),l.state={bugtype:"FEATURE_ERROR",confirmModal:!1,description:"",imageUrl:null,isSubmitting:!1,title:"",uploadComplete:!1,uploadPercent:null},l}return b(t,e),d(t,[{key:"componentDidMount",value:function e(){var t=this.handleUploadSuccess,n=this.handleUploadFailure,o=this.uploadProgress,r;(new a.a).enableUploader(this.button,o,t,n)}},{key:"render",value:function e(){var n=this,t=this.props.onClearModal,o=this.handleClearFailure,r=this.handleSubmit,a=this.state,i=a.bugtype,l=a.confirmModal,s=a.description,c=a.isSubmitting,u=a.uploadComplete,p=a.uploadPercent,d=a.title,f=[{value:"FEATURE_ERROR",label:g.a._("Something is broken")},{value:"IRRELEVANT_RESULTS",label:g.a._("Irrelevant search, Pin, or ad")},{value:"DESIGN_ERROR",label:g.a._("Design is wrong")},{value:"COPY_ERROR",label:g.a._("Translation or copy is wrong")}],m=null;u?m=u:p&&(m=p+"%");var b=O(d)&&O(s);return h.createElement(E.b,null,function(e){return h.createElement("form",{method:"post",onSubmit:r(e.experiments instanceof y.default?e.experiments.getActiveExperimentInfo():{})},h.createElement(w.b,{color:"white",paddingX:4,paddingY:5,width:500},h.createElement(w.K,{align:"center",size:"xl",bold:!0},g.a._("Report a Bug")),h.createElement(w.b,{paddingY:3},h.createElement(w.j,null)),h.createElement(w.b,{display:"flex",direction:"column"},h.createElement(w.b,{paddingX:2,paddingY:2,display:"flex",direction:"column",alignItems:"stretch"},h.createElement(w.q,{htmlFor:"bugTitle"},h.createElement(w.K,null,g.a._("Description (Required)"))),h.createElement(w.b,{paddingY:1},h.createElement(w.M,{id:"bugTitle",name:"title",onChange:n.handleTitleChange,type:"text",value:n.state.title}))),h.createElement(w.b,{paddingX:2,paddingY:4,display:"flex",direction:"column",alignItems:"stretch"},h.createElement(w.b,null,h.createElement(w.q,{htmlFor:"description"},h.createElement(w.K,null,g.a._("Steps to Reproduce (Required)")))),h.createElement(w.b,{paddingY:1},h.createElement(w.L,{id:"description",name:"description",onChange:n.handleDescriptionChange,value:n.state.description}))),h.createElement(w.b,{paddingX:2,paddingY:4,display:"flex",direction:"column",alignItems:"stretch"},h.createElement(w.b,null,h.createElement(w.q,{htmlFor:"bugtype"},h.createElement(w.K,null,g.a._("Type","type as in variety or kind")))),h.createElement(w.b,{paddingY:1},h.createElement(w.F,{id:"bugtype",name:"bugtype",onChange:n.handleSelectListChange,options:f,value:i}))),h.createElement(w.b,{paddingX:2,paddingY:4,display:"flex",direction:"column",alignItems:"stretch"},h.createElement(w.b,{paddingY:1},h.createElement(w.K,null,g.a._("Attach a Screenshot"))),h.createElement(w.b,{alignItems:"center",direction:"row",display:"flex",marginstart:-1,marginend:-1},h.createElement("div",{ref:function e(t){n.button=t},style:{overflow:"visible",float:"left"}},h.createElement(w.c,{text:g.a._("Choose file"),size:"sm",type:"button",color:"gray"})),h.createElement(w.b,{flex:"grow",paddingX:2},h.createElement(w.K,{size:"sm",align:"left"},m||g.a._("None")))))),h.createElement(w.b,{paddingY:3},h.createElement(w.j,null)),h.createElement(w.b,null,h.createElement(w.b,{display:"flex",justifyContent:"end",direction:"row",paddingY:2},h.createElement(w.b,{paddingX:2},h.createElement(w.c,{disabled:!b,text:g.a._("Report"),type:"submit",color:"red"})),l&&h.createElement(w.y,{accessibilityCloseLabel:g.a._("Close","hide the view"),accessibilityModalLabel:g.a._("View Bug Report Submission Status"),heading:l===v.reportBugSuccess?g.a._("Bug Reported!"):g.a._("Oops!"),onDismiss:l===v.reportBugFailure?o:t},h.createElement(w.b,{paddingX:4,paddingY:4},h.createElement(w.K,null,l===v.reportBugSuccess?g.a._("Sorry about that. We’ve been notified and will work on a fix! High-five for reporting. "):g.a._("Something went wrong and we were unable to report your bug. We’re looking into it!"))))),c&&h.createElement(w.b,{display:"flex",justifyContent:"end",direction:"row",paddingY:2,paddingX:2},h.createElement(w.K,null,g.a._("Submitting..."))))))})}}]),t}(h.Component),S=t.a=P},mkbL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=n("d6ZO"),f=n.n(p),o=n("DUIN"),i=n("FqaO"),r=n("bbMF"),l=n("BVzu"),m=n("W/Cr"),b=n("nM9s"),a=n("IaRT"),s=n.n(a),c=n("Cjb7"),u=n("y2lE");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function E(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?_(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){function a(){var e,t;h(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return k(_(_(t=E(this,(e=v(a)).call.apply(e,[this].concat(o))))),"handleInstallButtonClick",function(){t.installExtension(),t.props.contextLog(101,{component:7,element:456})}),k(_(_(t)),"handleCancelInstallButtonClick",function(){i.set("extensionNag","true"),c.a.instance.publish("site","ignoreExtensionNag"),t.destroy()}),k(_(_(t)),"destroy",function(){t.props.onHide(),c.a.instance.publish("reactButtonUpsell","destroyModal")}),k(_(_(t)),"suppress",function(){return i.get("extensionNag")}),t}return w(a,e),g(a,[{key:"installExtension",value:function e(){var t=this,n=this.props.isExtensionInstalled;i.set("extensionNag","true"),n?l.default.showError(m.a._("Oops! You already have the browser button.")):r.a.handleExtensionInstall(function(){return t.destroy()})}},{key:"render",value:function e(){var t,n=this.props.isExtensionInstalled||this.suppress(),o=n?"primary":"default",r=n?m.a._("Got it"):m.a._("Not now"),a=m.a._("Get our browser button"),i=n?null:f.a.createElement(b.a,{id:"installExtensionButton",onClick:this.handleInstallButtonClick,size:"small",text:a,type:"primary"});return f.a.createElement("div",{className:"BrowserButtonUpsell"},f.a.createElement("div",{className:"BrowserButtonUpsell__promoWrapper",onClick:this.handleInstallButtonClick,role:"button"},f.a.createElement("div",{className:"BrowserButtonUpsell__promoHeader"},m.a._("Save creative ideas from around the web with one click")),f.a.createElement("div",{className:"browserWrapper"},f.a.createElement("div",{className:"BrowserButtonUpsell__zoomImg"}))),f.a.createElement("div",{className:"formFooter"},f.a.createElement("div",{className:"formFooterButtons"},f.a.createElement(b.a,{id:"cancelInstallButton",onClick:this.handleCancelInstallButtonClick,size:"small",text:r,type:o}),i)))}}]),a}(p.Component);k(O,"defaultProps",{isExtensionInstalled:!1,onHide:function e(){}});var P=Object(u.a)(O),S=n("GGB8"),x=n.n(S),R=n("LQgx"),U=n("FHbT"),B=n("rgtM"),j=n("1QHH"),I=n("MQ2h"),A=n.n(I),F=n("6oz1"),M=n("kzic"),T=n("gEaE"),L=n("N9ZA");function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Y(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}function W(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?V(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}function X(e,t){return(X=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function V(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q="addPinReportBug",K="addPinExtensionUpsell",Q="addPinMenu",J="addPinUrl",$=function(e){function a(){var e,o;H(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Z(V(V(o=W(this,(e=z(a)).call.apply(e,[this].concat(n))))),"state",{display:Q,isMenuOpen:!1}),Z(V(V(o)),"handleModalClose",function(){o.setState({display:Q})}),Z(V(V(o)),"handleBrowserButtonInstallClick",function(){o.setState({display:K,isMenuOpen:!1}),o.props.contextLog(101,{component:219,element:279})}),Z(V(V(o)),"handleCreatePinClick",o.props.authAction(function(){var e=o.props,t=e.contextLog,n=e.router;o.setState({isMenuOpen:!1}),t(101,{component:219,element:451}),n.push("/pin-builder/")})),Z(V(V(o)),"handleCreateCollagePinClick",o.props.authAction(function(){var e=o.props.router;o.setState({isMenuOpen:!1}),e.push("/pin-collage/")})),Z(V(V(o)),"handleReportBugClick",function(){o.setState({display:q,isMenuOpen:!1})}),Z(V(V(o)),"handleFlyoutDismiss",function(){o.setState({isMenuOpen:!1})}),Z(V(V(o)),"toggleMenuVisibility",function(){var e=o.state.isMenuOpen;o.setState({isMenuOpen:!e})}),o}return G(a,e),Y(a,[{key:"render",value:function e(){var n=this,t=this.state,o=t.display,r=t.isMenuOpen,a=this.props,i=a.buttonComponent,l=a.onDropdownButtonClick,s=a.username,c=a.isEmployee,u=a.isExtensionInstalled;switch(o){case q:return s?p.createElement(R.a,{onHide:this.handleModalClose},p.createElement(U.a,{onClearModal:this.handleModalClose,username:s})):null;case K:return p.createElement(R.a,{onHide:this.handleModalClose},p.createElement("div",{className:x()("browserButtonUpsellModal","bg-white")},p.createElement(P,{isExtensionInstalled:u,onHide:this.handleModalClose})));case Q:default:return p.createElement("div",null,p.createElement("div",{key:"add-pin-button",ref:function e(t){n.addPinButton=t}},i(l(this.toggleMenuVisibility))),r&&p.createElement(T.k,{anchor:this.addPinButton,onDismiss:this.handleFlyoutDismiss,size:"md"},p.createElement(L.a,null,u?null:p.createElement(L.b,{icon:"pinterest",onClick:this.handleBrowserButtonInstallClick,text:m.a._("Get our browser button to save ideas even faster","pin creation")}),u?null:p.createElement(T.j,null),p.createElement(B.a,{id:"createAPin"},p.createElement(L.b,{icon:"add",onClick:this.handleCreatePinClick,text:m.a._("Create a Pin","Button to enter new Pin creation")})),p.createElement(F.b,{name:"web_pin_collage"},function(e){var t;return e.anyEnabled?p.createElement(p.Fragment,null,p.createElement(T.j,null),p.createElement(L.b,{icon:"add",onClick:n.handleCreateCollagePinClick,text:m.a._("Create collage Pin","Button to enter collage Pin creation")})):null}),c?p.createElement(T.j,null):null,c?p.createElement(L.b,{icon:"send",onClick:this.handleReportBugClick,text:m.a._("Report a bug","pin creation")}):null)))}}}]),a}(p.Component),ee=function e(t){return{isEmployee:t.viewer.isAuth&&t.viewer.isEmployee,username:t.viewer.isAuth?t.viewer.username:null}},te=Object(I.compose)(j.a,Object(o.connect)(ee),M.withRouter,u.a)($),ne=n("woYD");function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ie(e,t,n){return t&&ae(e.prototype,t),n&&ae(e,n),e}function le(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?pe(e):t}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}function ue(e,t){return(ue=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=500,me,be=function(e){function a(){var e,o;re(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return de(pe(pe(o=le(this,(e=se(a)).call.apply(e,[this].concat(n))))),"state",{initialExtensionUpsellDismissed:!1,showExtensionUpsell:!1,isExtensionInstalled:!1}),de(pe(pe(o)),"onBrowserExtUpsellHide",function(){o.setState({showExtensionUpsell:!1})}),de(pe(pe(o)),"getHandleAddPinButtonClick",function(n){return function(){var e=o.state.isExtensionInstalled;Object(ne.a)(101,{component:219});var t=i.get("extensionNag");e||t?n():o.setState({showExtensionUpsell:!0})}}),o}return ce(a,e),ie(a,[{key:"componentDidMount",value:function e(){var t=this;r.a.extensionReady(parseInt(fe,10)).then(function(e){return t.setState({isExtensionInstalled:e})})}},{key:"render",value:function e(){var n=this,t=this.state,o=t.initialExtensionUpsellDismissed,r=t.showExtensionUpsell,a=t.isExtensionInstalled;return f.a.createElement("div",{className:"buttonInoutWrapper addButtonWrapper addPinFlyout",style:{marginLeft:12.5,marginRight:12.5}},f.a.createElement(te,{buttonComponent:function e(t){return f.a.createElement(B.a,{id:"addPinButton"},f.a.createElement(b.a,{accessibilityLabel:m.a._("Add Pin","pin creation"),className:x()("addPinFooter","footerIcon"),key:"add-pin-icon-button",onClick:t,ref:function e(t){n._button=t},showText:!1,text:m.a._("Add Pin","pin creation"),type:"borderless"},f.a.createElement(T.n,{accessibilityLabel:"",color:"darkGray",icon:"add",size:14})))},onDropdownButtonClick:this.getHandleAddPinButtonClick,isExtensionInstalled:a}),!o&&r?f.a.createElement(R.a,{key:"browser-button-upsell",onHide:this.onBrowserExtUpsellHide},f.a.createElement("div",{className:x()("browserButtonUpsellModal","bg-white")},f.a.createElement(P,{onHide:this.onBrowserExtUpsellHide,isExtensionInstalled:a}))):null)}}]),a}(p.Component),he=n("lip+"),ye=n("BAXv"),ge=ye.a.GEN.templateConst.settings,Ee=function e(t){var n=t.onClick,o=t.text,r=t.url;return f.a.createElement(T.b,{role:"listitem"},f.a.createElement(T.K,{bold:!0,color:"gray",size:"sm"},f.a.createElement(T.t,{href:r,onClick:n,target:"blank"},f.a.createElement(T.b,{padding:1},o))))},ve,we=function e(t){var n=t.country,o=function e(t){return function(){return Object(ne.a)(101,{component:218,element:t})}};return f.a.createElement(T.b,{role:"list",paddingX:3,paddingY:2,display:"flex",wrap:!0,direction:"row",width:"100%",alignItems:"center"},f.a.createElement(Ee,{text:m.a._("About","menu item that takes user to the Pinterest about page"),url:ge.RELATIVE_ABOUT_URL,onClick:o(8006)}),f.a.createElement(Ee,{text:m.a._("Blog","menu item that takes user to the Pinterest blog"),url:ge.BLOG_URL,onClick:o(8007)}),f.a.createElement(Ee,{text:m.a._("Businesses","menu item that takes user to the Pinterest for business page"),url:ge.PARTNER_SITE_URL,onClick:o(8008)}),f.a.createElement(Ee,{text:m.a._("Careers","menu item that takes user to the Pinterest careers page"),url:ge.ABOUT_CAREERS_URL,onClick:o(8009)}),f.a.createElement(Ee,{text:m.a._("Developers","menu item that takes user to the Pinterest developers page"),url:ge.DEVELOPER_SITE_URL,onClick:o(8010)}),f.a.createElement(Ee,{text:m.a._("Removals","menu item that takes user to the Pinterest copyright page"),url:ge.ABOUT_COPYRIGHT_URL,onClick:o(8011)}),f.a.createElement(Ee,{text:m.a._("Privacy","menu item that takes user to the Pinterest privacy page"),url:ge.ABOUT_PRIVACY_URL,onClick:o(8004)}),f.a.createElement(Ee,{text:m.a._("Personalized Ads","menu item that takes user to the Pinterest personalized ads page"),url:ge.PERSONALIZED_ADS_URL,onClick:o(10406)}),f.a.createElement(Ee,{text:m.a._("Terms","menu item that takes user to the Pinterest terms page"),url:ge.ABOUT_TERMS_PLAIN_URL,onClick:o(8012)}),["DE","AT","CH"].includes(n)&&f.a.createElement(Ee,{text:m.a._("Imprint/NetzDG","menu item that takes user to the Pinterest imprint page"),url:ge.ABOUT_IMPRESSUM_URL,onClick:o(8013)}))},Ce=n("wySF"),_e=ye.a.GEN.templateConst.settings,ke=function e(t){var n=t.country,o=t.onClick,r=t.showFeedbackModal,a=t.showInsiteFeedback,i=t.username,l=function e(t){return function(){o&&o(),Object(ne.a)(101,{component:218,element:t})}},s=function e(){r&&r(),o&&o()},c=window.location.hostname,u=encodeURIComponent("https://".concat(c,"/").concat(i||"","/"));return f.a.createElement(T.b,{display:"flex",direction:"column",width:"100%"},f.a.createElement(L.a,null,f.a.createElement(L.b,{url:"".concat(_e.HELP_URL,"?source=gear_menu_web"),text:m.a._("Visit the Help Center","A link to the help center"),external:!0,onClick:l(8002)}),f.a.createElement(he.a,null,function(e){return e.isAuth&&"US"===e.country?f.a.createElement(L.b,{url:"/pin_shop/order_history/",text:m.a._("See order history","A link to see past orders"),onClick:l(8e3)}):null}),f.a.createElement(L.b,{url:"".concat(_e.DEVELOPER_SITE_URL,"/tools/widget-builder/?type=profile&url=").concat(u),text:m.a._("Create widget","A link to create an embeddable widget"),external:!0,onClick:l(8001)}),f.a.createElement(F.b,{name:"web_insite_feedback",isEligible:a},f.a.createElement(F.c,{groupStartsWith:"enabled"},f.a.createElement(L.b,{text:m.a._("Send Feedback","A link to open a feedback dialog"),onClick:s}))),f.a.createElement(T.j,null)),f.a.createElement(we,{country:n}))},Oe=function e(t){return{showFeedbackModal:Object(I.bindActionCreators)(Ce.b,t)}},Pe=Object(o.connect)(null,Oe)(ke),Se=n("WBZ1"),xe=n.n(Se);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function je(e,t,n){return t&&Be(e.prototype,t),n&&Be(e,n),e}function Ie(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?Te(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}function Me(e,t){return(Me=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne="visible",He="hide",De="show",Ye=10,We=function(e){function a(){var e,n;Ue(this,a);for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return Le(Te(Te(n=Ie(this,(e=Ae(a)).call.apply(e,[this].concat(o))))),"state",{isHelpFlyoutOpen:!1,visible:!1,isPrivacyHidden:!1}),Le(Te(Te(n)),"onScroll",function(){if(n.props.renderPrivacyButton){var e=window.pageYOffset;if(void 0===window.pageXOffset){var t=document.body?document.body.scrollTop:0;e=document.documentElement?document.documentElement.scrollTop:t}n.displayPrivacy?10<e?n.setState({isPrivacyHidden:!1}):0===e&&n.setState({isPrivacyHidden:!0}):n.setState({isPrivacyHidden:!1})}}),Le(Te(Te(n)),"handleQuestionMarkClick",function(){Object(ne.a)(101,{component:218}),n.setState({isHelpFlyoutOpen:!n.state.isHelpFlyoutOpen})}),Le(Te(Te(n)),"logHelpButtonClick",function(){Object(ne.a)(101,{component:218,element:281})}),Le(Te(Te(n)),"extensionInstalled",!1),Le(Te(Te(n)),"extensionIgnored",!1),Le(Te(Te(n)),"displayPrivacy",!1),n}return Fe(a,e),je(a,[{key:"componentDidMount",value:function e(){var t=this;this.displayPrivacy="/"===window.location.pathname,this.onScroll(),this.scrollHn=xe()(this.onScroll,100),window.addEventListener("scroll",this.scrollHn),this.extensionInstalled=r.a.isExtensionInstalled(),this.extensionIgnored=i.get("extensionNag"),this.props.hidden||this.context.userAgent.isMobile||setTimeout(function(){t.setState({visible:!0})},2e3)}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("scroll",this.scrollHn)}},{key:"render",value:function e(){var t,n=this,o=this.state,r=o.visible,a=o.isPrivacyHidden,i=this.props,l=i.chatheadsRendered,s=i.hideAddButton,c=i.renderPrivacyButton,u=i.showInsiteFeedback,p=this.context.country,d=x()((Le(t={aboveChatheads:l,footerButtons:!0},Ne,r),Le(t,He,a),Le(t,De,!a),t));return this.context.userAgent.isMobile?null:f.a.createElement("div",{className:"footerButtonsWrapper"},f.a.createElement("div",{className:d},s?null:f.a.createElement(be,null),f.a.createElement("div",{className:"buttonInoutWrapper helpButtonWrapper",style:{margin:"0 12.5px 0"}},f.a.createElement("div",{ref:function e(t){n.anchor=t}},f.a.createElement(b.a,{accessibilityLabel:m.a._("More"),className:"moreFooter footerIcon",onClick:this.handleQuestionMarkClick,text:m.a._("More"),type:"borderless",rounded:!1,showText:!1},f.a.createElement(T.n,{accessibilityLabel:"",color:"darkGray",icon:"question-mark",size:14}))),this.state.isHelpFlyoutOpen?f.a.createElement(T.k,{onDismiss:function e(){return n.setState({isHelpFlyoutOpen:!1})},anchor:this.anchor,size:"lg"},f.a.createElement(he.a,null,function(e){return f.a.createElement(Pe,{country:p,onClick:function e(){return n.setState({isHelpFlyoutOpen:!1})},username:e.username||null,showInsiteFeedback:u})})):null),c?f.a.createElement("div",{className:"buttonInoutWrapper privacyPolicyWrapper"},f.a.createElement("a",{className:"nonEuPrivacyPolicy",href:ye.a.GEN.templateConst.settings.ABOUT_PRIVACY_URL},m.a._("Privacy"))):null))}}]),a}(p.Component);We.contextTypes={country:s.a.string,userAgent:s.a.shape({isMobile:s.a.bool.isRequired}).isRequired};var ze=function e(t){return{chatheadsRendered:!!t.ui.conversations.chatheads.length,feedbackRendered:!!t.ui.conversations.feedback}},Ge=t.default=Object(o.connect)(ze)(We)}});